function oP(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var aP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gw={exports:{}},id={},Kw={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mu=Symbol.for("react.element"),lP=Symbol.for("react.portal"),uP=Symbol.for("react.fragment"),cP=Symbol.for("react.strict_mode"),hP=Symbol.for("react.profiler"),dP=Symbol.for("react.provider"),fP=Symbol.for("react.context"),pP=Symbol.for("react.forward_ref"),mP=Symbol.for("react.suspense"),gP=Symbol.for("react.memo"),_P=Symbol.for("react.lazy"),Y_=Symbol.iterator;function vP(t){return t===null||typeof t!="object"?null:(t=Y_&&t[Y_]||t["@@iterator"],typeof t=="function"?t:null)}var Zw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qw=Object.assign,Yw={};function la(t,e,n){this.props=t,this.context=e,this.refs=Yw,this.updater=n||Zw}la.prototype.isReactComponent={};la.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};la.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Xw(){}Xw.prototype=la.prototype;function Im(t,e,n){this.props=t,this.context=e,this.refs=Yw,this.updater=n||Zw}var xm=Im.prototype=new Xw;xm.constructor=Im;Qw(xm,la.prototype);xm.isPureReactComponent=!0;var X_=Array.isArray,Jw=Object.prototype.hasOwnProperty,Pm={current:null},e0={key:!0,ref:!0,__self:!0,__source:!0};function t0(t,e,n){var i,r={},o=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)Jw.call(e,i)&&!e0.hasOwnProperty(i)&&(r[i]=e[i]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var h=Array(u),f=0;f<u;f++)h[f]=arguments[f+2];r.children=h}if(t&&t.defaultProps)for(i in u=t.defaultProps,u)r[i]===void 0&&(r[i]=u[i]);return{$$typeof:mu,type:t,key:o,ref:a,props:r,_owner:Pm.current}}function yP(t,e){return{$$typeof:mu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cm(t){return typeof t=="object"&&t!==null&&t.$$typeof===mu}function wP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var J_=/\/+/g;function tf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wP(""+t.key):e.toString(36)}function jc(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case mu:case lP:a=!0}}if(a)return a=t,r=r(a),t=i===""?"."+tf(a,0):i,X_(r)?(n="",t!=null&&(n=t.replace(J_,"$&/")+"/"),jc(r,e,n,"",function(f){return f})):r!=null&&(Cm(r)&&(r=yP(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(J_,"$&/")+"/")+t)),e.push(r)),1;if(a=0,i=i===""?".":i+":",X_(t))for(var u=0;u<t.length;u++){o=t[u];var h=i+tf(o,u);a+=jc(o,e,n,h,r)}else if(h=vP(t),typeof h=="function")for(t=h.call(t),u=0;!(o=t.next()).done;)o=o.value,h=i+tf(o,u++),a+=jc(o,e,n,h,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function gc(t,e,n){if(t==null)return t;var i=[],r=0;return jc(t,i,"","",function(o){return e.call(n,o,r++)}),i}function TP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gt={current:null},Uc={transition:null},EP={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:Uc,ReactCurrentOwner:Pm};function n0(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:gc,forEach:function(t,e,n){gc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gc(t,function(){e++}),e},toArray:function(t){return gc(t,function(e){return e})||[]},only:function(t){if(!Cm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=la;xe.Fragment=uP;xe.Profiler=hP;xe.PureComponent=Im;xe.StrictMode=cP;xe.Suspense=mP;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EP;xe.act=n0;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Qw({},t.props),r=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Pm.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)Jw.call(e,h)&&!e0.hasOwnProperty(h)&&(i[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){u=Array(h);for(var f=0;f<h;f++)u[f]=arguments[f+2];i.children=u}return{$$typeof:mu,type:t.type,key:r,ref:o,props:i,_owner:a}};xe.createContext=function(t){return t={$$typeof:fP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dP,_context:t},t.Consumer=t};xe.createElement=t0;xe.createFactory=function(t){var e=t0.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:pP,render:t}};xe.isValidElement=Cm;xe.lazy=function(t){return{$$typeof:_P,_payload:{_status:-1,_result:t},_init:TP}};xe.memo=function(t,e){return{$$typeof:gP,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=Uc.transition;Uc.transition={};try{t()}finally{Uc.transition=e}};xe.unstable_act=n0;xe.useCallback=function(t,e){return Gt.current.useCallback(t,e)};xe.useContext=function(t){return Gt.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return Gt.current.useDeferredValue(t)};xe.useEffect=function(t,e){return Gt.current.useEffect(t,e)};xe.useId=function(){return Gt.current.useId()};xe.useImperativeHandle=function(t,e,n){return Gt.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return Gt.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return Gt.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return Gt.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return Gt.current.useReducer(t,e,n)};xe.useRef=function(t){return Gt.current.useRef(t)};xe.useState=function(t){return Gt.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return Gt.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return Gt.current.useTransition()};xe.version="18.3.1";Kw.exports=xe;var U=Kw.exports;const Ye=qw(U),SP=oP({__proto__:null,default:Ye},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IP=U,xP=Symbol.for("react.element"),PP=Symbol.for("react.fragment"),CP=Object.prototype.hasOwnProperty,AP=IP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bP={key:!0,ref:!0,__self:!0,__source:!0};function i0(t,e,n){var i,r={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)CP.call(e,i)&&!bP.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:xP,type:t,key:o,ref:a,props:r,_owner:AP.current}}id.Fragment=PP;id.jsx=i0;id.jsxs=i0;Gw.exports=id;var M=Gw.exports,Qf={},r0={exports:{}},_n={},s0={exports:{}},o0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,ee){var Z=q.length;q.push(ee);e:for(;0<Z;){var le=Z-1>>>1,pe=q[le];if(0<r(pe,ee))q[le]=ee,q[Z]=pe,Z=le;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var ee=q[0],Z=q.pop();if(Z!==ee){q[0]=Z;e:for(var le=0,pe=q.length,Ce=pe>>>1;le<Ce;){var Oe=2*(le+1)-1,Ee=q[Oe],_e=Oe+1,mt=q[_e];if(0>r(Ee,Z))_e<pe&&0>r(mt,Ee)?(q[le]=mt,q[_e]=Z,le=_e):(q[le]=Ee,q[Oe]=Z,le=Oe);else if(_e<pe&&0>r(mt,Z))q[le]=mt,q[_e]=Z,le=_e;else break e}}return ee}function r(q,ee){var Z=q.sortIndex-ee.sortIndex;return Z!==0?Z:q.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var h=[],f=[],m=1,_=null,w=3,P=!1,S=!1,k=!1,z=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(q){for(var ee=n(f);ee!==null;){if(ee.callback===null)i(f);else if(ee.startTime<=q)i(f),ee.sortIndex=ee.expirationTime,e(h,ee);else break;ee=n(f)}}function V(q){if(k=!1,E(q),!S)if(n(h)!==null)S=!0,re(j);else{var ee=n(f);ee!==null&&Pe(V,ee.startTime-q)}}function j(q,ee){S=!1,k&&(k=!1,I(C),C=-1),P=!0;var Z=w;try{for(E(ee),_=n(h);_!==null&&(!(_.expirationTime>ee)||q&&!O());){var le=_.callback;if(typeof le=="function"){_.callback=null,w=_.priorityLevel;var pe=le(_.expirationTime<=ee);ee=t.unstable_now(),typeof pe=="function"?_.callback=pe:_===n(h)&&i(h),E(ee)}else i(h);_=n(h)}if(_!==null)var Ce=!0;else{var Oe=n(f);Oe!==null&&Pe(V,Oe.startTime-ee),Ce=!1}return Ce}finally{_=null,w=Z,P=!1}}var W=!1,N=null,C=-1,A=5,R=-1;function O(){return!(t.unstable_now()-R<A)}function F(){if(N!==null){var q=t.unstable_now();R=q;var ee=!0;try{ee=N(!0,q)}finally{ee?D():(W=!1,N=null)}}else W=!1}var D;if(typeof T=="function")D=function(){T(F)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,Te=ce.port2;ce.port1.onmessage=F,D=function(){Te.postMessage(null)}}else D=function(){z(F,0)};function re(q){N=q,W||(W=!0,D())}function Pe(q,ee){C=z(function(){q(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){S||P||(S=!0,re(j))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(q){switch(w){case 1:case 2:case 3:var ee=3;break;default:ee=w}var Z=w;w=ee;try{return q()}finally{w=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,ee){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Z=w;w=q;try{return ee()}finally{w=Z}},t.unstable_scheduleCallback=function(q,ee,Z){var le=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?le+Z:le):Z=le,q){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Z+pe,q={id:m++,callback:ee,priorityLevel:q,startTime:Z,expirationTime:pe,sortIndex:-1},Z>le?(q.sortIndex=Z,e(f,q),n(h)===null&&q===n(f)&&(k?(I(C),C=-1):k=!0,Pe(V,Z-le))):(q.sortIndex=pe,e(h,q),S||P||(S=!0,re(j))),q},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(q){var ee=w;return function(){var Z=w;w=ee;try{return q.apply(this,arguments)}finally{w=Z}}}})(o0);s0.exports=o0;var kP=s0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RP=U,gn=kP;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a0=new Set,Fl={};function Ns(t,e){Ko(t,e),Ko(t+"Capture",e)}function Ko(t,e){for(Fl[t]=e,t=0;t<e.length;t++)a0.add(e[t])}var Bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yf=Object.prototype.hasOwnProperty,LP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ev={},tv={};function NP(t){return Yf.call(tv,t)?!0:Yf.call(ev,t)?!1:LP.test(t)?tv[t]=!0:(ev[t]=!0,!1)}function MP(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function OP(t,e,n,i){if(e===null||typeof e>"u"||MP(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kt(t,e,n,i,r,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lt[t]=new Kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lt[e]=new Kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lt[t]=new Kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lt[t]=new Kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lt[t]=new Kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lt[t]=new Kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lt[t]=new Kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lt[t]=new Kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lt[t]=new Kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Am=/[\-:]([a-z])/g;function bm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Am,bm);Lt[e]=new Kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Am,bm);Lt[e]=new Kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Am,bm);Lt[e]=new Kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function km(t,e,n,i){var r=Lt.hasOwnProperty(e)?Lt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(OP(e,n,r,i)&&(n=null),i||r===null?NP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Ki=RP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_c=Symbol.for("react.element"),Io=Symbol.for("react.portal"),xo=Symbol.for("react.fragment"),Rm=Symbol.for("react.strict_mode"),Xf=Symbol.for("react.profiler"),l0=Symbol.for("react.provider"),u0=Symbol.for("react.context"),Lm=Symbol.for("react.forward_ref"),Jf=Symbol.for("react.suspense"),ep=Symbol.for("react.suspense_list"),Nm=Symbol.for("react.memo"),ur=Symbol.for("react.lazy"),c0=Symbol.for("react.offscreen"),nv=Symbol.iterator;function nl(t){return t===null||typeof t!="object"?null:(t=nv&&t[nv]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,nf;function fl(t){if(nf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nf=e&&e[1]||""}return`
`+nf+t}var rf=!1;function sf(t,e){if(!t||rf)return"";rf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){i=f}t.call(e.prototype)}else{try{throw Error()}catch(f){i=f}t()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),o=i.stack.split(`
`),a=r.length-1,u=o.length-1;1<=a&&0<=u&&r[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(r[a]!==o[u]){if(a!==1||u!==1)do if(a--,u--,0>u||r[a]!==o[u]){var h=`
`+r[a].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=a&&0<=u);break}}}finally{rf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fl(t):""}function DP(t){switch(t.tag){case 5:return fl(t.type);case 16:return fl("Lazy");case 13:return fl("Suspense");case 19:return fl("SuspenseList");case 0:case 2:case 15:return t=sf(t.type,!1),t;case 11:return t=sf(t.type.render,!1),t;case 1:return t=sf(t.type,!0),t;default:return""}}function tp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xo:return"Fragment";case Io:return"Portal";case Xf:return"Profiler";case Rm:return"StrictMode";case Jf:return"Suspense";case ep:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case u0:return(t.displayName||"Context")+".Consumer";case l0:return(t._context.displayName||"Context")+".Provider";case Lm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nm:return e=t.displayName||null,e!==null?e:tp(t.type)||"Memo";case ur:e=t._payload,t=t._init;try{return tp(t(e))}catch{}}return null}function VP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tp(e);case 8:return e===Rm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Or(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function h0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zP(t){var e=h0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vc(t){t._valueTracker||(t._valueTracker=zP(t))}function d0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=h0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function uh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function np(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function iv(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Or(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function f0(t,e){e=e.checked,e!=null&&km(t,"checked",e,!1)}function ip(t,e){f0(t,e);var n=Or(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rp(t,e.type,n):e.hasOwnProperty("defaultValue")&&rp(t,e.type,Or(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rp(t,e,n){(e!=="number"||uh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var pl=Array.isArray;function Vo(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Or(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function sp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(pl(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Or(n)}}function p0(t,e){var n=Or(e.value),i=Or(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function ov(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function m0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function op(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?m0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yc,g0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yc=yc||document.createElement("div"),yc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FP=["Webkit","ms","Moz","O"];Object.keys(Sl).forEach(function(t){FP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sl[e]=Sl[t]})});function _0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sl.hasOwnProperty(t)&&Sl[t]?(""+e).trim():e+"px"}function v0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=_0(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var BP=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ap(t,e){if(e){if(BP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function lp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var up=null;function Mm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cp=null,zo=null,Fo=null;function av(t){if(t=vu(t)){if(typeof cp!="function")throw Error(J(280));var e=t.stateNode;e&&(e=ld(e),cp(t.stateNode,t.type,e))}}function y0(t){zo?Fo?Fo.push(t):Fo=[t]:zo=t}function w0(){if(zo){var t=zo,e=Fo;if(Fo=zo=null,av(t),e)for(t=0;t<e.length;t++)av(e[t])}}function T0(t,e){return t(e)}function E0(){}var of=!1;function S0(t,e,n){if(of)return t(e,n);of=!0;try{return T0(t,e,n)}finally{of=!1,(zo!==null||Fo!==null)&&(E0(),w0())}}function jl(t,e){var n=t.stateNode;if(n===null)return null;var i=ld(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var hp=!1;if(Bi)try{var il={};Object.defineProperty(il,"passive",{get:function(){hp=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{hp=!1}function jP(t,e,n,i,r,o,a,u,h){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(m){this.onError(m)}}var Il=!1,ch=null,hh=!1,dp=null,UP={onError:function(t){Il=!0,ch=t}};function $P(t,e,n,i,r,o,a,u,h){Il=!1,ch=null,jP.apply(UP,arguments)}function HP(t,e,n,i,r,o,a,u,h){if($P.apply(this,arguments),Il){if(Il){var f=ch;Il=!1,ch=null}else throw Error(J(198));hh||(hh=!0,dp=f)}}function Ms(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function I0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lv(t){if(Ms(t)!==t)throw Error(J(188))}function WP(t){var e=t.alternate;if(!e){if(e=Ms(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return lv(r),t;if(o===i)return lv(r),e;o=o.sibling}throw Error(J(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,u=r.child;u;){if(u===n){a=!0,n=r,i=o;break}if(u===i){a=!0,i=r,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,i=r;break}if(u===i){a=!0,i=o,n=r;break}u=u.sibling}if(!a)throw Error(J(189))}}if(n.alternate!==i)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function x0(t){return t=WP(t),t!==null?P0(t):null}function P0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=P0(t);if(e!==null)return e;t=t.sibling}return null}var C0=gn.unstable_scheduleCallback,uv=gn.unstable_cancelCallback,qP=gn.unstable_shouldYield,GP=gn.unstable_requestPaint,ot=gn.unstable_now,KP=gn.unstable_getCurrentPriorityLevel,Om=gn.unstable_ImmediatePriority,A0=gn.unstable_UserBlockingPriority,dh=gn.unstable_NormalPriority,ZP=gn.unstable_LowPriority,b0=gn.unstable_IdlePriority,rd=null,ai=null;function QP(t){if(ai&&typeof ai.onCommitFiberRoot=="function")try{ai.onCommitFiberRoot(rd,t,void 0,(t.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:JP,YP=Math.log,XP=Math.LN2;function JP(t){return t>>>=0,t===0?32:31-(YP(t)/XP|0)|0}var wc=64,Tc=4194304;function ml(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fh(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~r;u!==0?i=ml(u):(o&=a,o!==0&&(i=ml(o)))}else a=n&~r,a!==0?i=ml(a):o!==0&&(i=ml(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-$n(e),r=1<<n,i|=t[n],e&=~r;return i}function eC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tC(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-$n(o),u=1<<a,h=r[a];h===-1?(!(u&n)||u&i)&&(r[a]=eC(u,e)):h<=e&&(t.expiredLanes|=u),o&=~u}}function fp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function k0(){var t=wc;return wc<<=1,!(wc&4194240)&&(wc=64),t}function af(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$n(e),t[e]=n}function nC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-$n(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function Dm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-$n(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Ve=0;function R0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var L0,Vm,N0,M0,O0,pp=!1,Ec=[],Er=null,Sr=null,Ir=null,Ul=new Map,$l=new Map,hr=[],iC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cv(t,e){switch(t){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":Ul.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(e.pointerId)}}function rl(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=vu(e),e!==null&&Vm(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function rC(t,e,n,i,r){switch(e){case"focusin":return Er=rl(Er,t,e,n,i,r),!0;case"dragenter":return Sr=rl(Sr,t,e,n,i,r),!0;case"mouseover":return Ir=rl(Ir,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return Ul.set(o,rl(Ul.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,$l.set(o,rl($l.get(o)||null,t,e,n,i,r)),!0}return!1}function D0(t){var e=hs(t.target);if(e!==null){var n=Ms(e);if(n!==null){if(e=n.tag,e===13){if(e=I0(n),e!==null){t.blockedOn=e,O0(t.priority,function(){N0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);up=i,n.target.dispatchEvent(i),up=null}else return e=vu(n),e!==null&&Vm(e),t.blockedOn=n,!1;e.shift()}return!0}function hv(t,e,n){$c(t)&&n.delete(e)}function sC(){pp=!1,Er!==null&&$c(Er)&&(Er=null),Sr!==null&&$c(Sr)&&(Sr=null),Ir!==null&&$c(Ir)&&(Ir=null),Ul.forEach(hv),$l.forEach(hv)}function sl(t,e){t.blockedOn===e&&(t.blockedOn=null,pp||(pp=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,sC)))}function Hl(t){function e(r){return sl(r,t)}if(0<Ec.length){sl(Ec[0],t);for(var n=1;n<Ec.length;n++){var i=Ec[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Er!==null&&sl(Er,t),Sr!==null&&sl(Sr,t),Ir!==null&&sl(Ir,t),Ul.forEach(e),$l.forEach(e),n=0;n<hr.length;n++)i=hr[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<hr.length&&(n=hr[0],n.blockedOn===null);)D0(n),n.blockedOn===null&&hr.shift()}var Bo=Ki.ReactCurrentBatchConfig,ph=!0;function oC(t,e,n,i){var r=Ve,o=Bo.transition;Bo.transition=null;try{Ve=1,zm(t,e,n,i)}finally{Ve=r,Bo.transition=o}}function aC(t,e,n,i){var r=Ve,o=Bo.transition;Bo.transition=null;try{Ve=4,zm(t,e,n,i)}finally{Ve=r,Bo.transition=o}}function zm(t,e,n,i){if(ph){var r=mp(t,e,n,i);if(r===null)_f(t,e,i,mh,n),cv(t,i);else if(rC(r,t,e,n,i))i.stopPropagation();else if(cv(t,i),e&4&&-1<iC.indexOf(t)){for(;r!==null;){var o=vu(r);if(o!==null&&L0(o),o=mp(t,e,n,i),o===null&&_f(t,e,i,mh,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else _f(t,e,i,null,n)}}var mh=null;function mp(t,e,n,i){if(mh=null,t=Mm(i),t=hs(t),t!==null)if(e=Ms(t),e===null)t=null;else if(n=e.tag,n===13){if(t=I0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mh=t,null}function V0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KP()){case Om:return 1;case A0:return 4;case dh:case ZP:return 16;case b0:return 536870912;default:return 16}default:return 16}}var _r=null,Fm=null,Hc=null;function z0(){if(Hc)return Hc;var t,e=Fm,n=e.length,i,r="value"in _r?_r.value:_r.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[o-i];i++);return Hc=r.slice(t,1<i?1-i:void 0)}function Wc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sc(){return!0}function dv(){return!1}function vn(t){function e(n,i,r,o,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Sc:dv,this.isPropagationStopped=dv,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sc)},persist:function(){},isPersistent:Sc}),e}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bm=vn(ua),_u=et({},ua,{view:0,detail:0}),lC=vn(_u),lf,uf,ol,sd=et({},_u,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ol&&(ol&&t.type==="mousemove"?(lf=t.screenX-ol.screenX,uf=t.screenY-ol.screenY):uf=lf=0,ol=t),lf)},movementY:function(t){return"movementY"in t?t.movementY:uf}}),fv=vn(sd),uC=et({},sd,{dataTransfer:0}),cC=vn(uC),hC=et({},_u,{relatedTarget:0}),cf=vn(hC),dC=et({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),fC=vn(dC),pC=et({},ua,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mC=vn(pC),gC=et({},ua,{data:0}),pv=vn(gC),_C={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yC[t])?!!e[t]:!1}function jm(){return wC}var TC=et({},_u,{key:function(t){if(t.key){var e=_C[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jm,charCode:function(t){return t.type==="keypress"?Wc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),EC=vn(TC),SC=et({},sd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mv=vn(SC),IC=et({},_u,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jm}),xC=vn(IC),PC=et({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),CC=vn(PC),AC=et({},sd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bC=vn(AC),kC=[9,13,27,32],Um=Bi&&"CompositionEvent"in window,xl=null;Bi&&"documentMode"in document&&(xl=document.documentMode);var RC=Bi&&"TextEvent"in window&&!xl,F0=Bi&&(!Um||xl&&8<xl&&11>=xl),gv=" ",_v=!1;function B0(t,e){switch(t){case"keyup":return kC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Po=!1;function LC(t,e){switch(t){case"compositionend":return j0(e);case"keypress":return e.which!==32?null:(_v=!0,gv);case"textInput":return t=e.data,t===gv&&_v?null:t;default:return null}}function NC(t,e){if(Po)return t==="compositionend"||!Um&&B0(t,e)?(t=z0(),Hc=Fm=_r=null,Po=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return F0&&e.locale!=="ko"?null:e.data;default:return null}}var MC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!MC[t.type]:e==="textarea"}function U0(t,e,n,i){y0(i),e=gh(e,"onChange"),0<e.length&&(n=new Bm("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Pl=null,Wl=null;function OC(t){J0(t,0)}function od(t){var e=bo(t);if(d0(e))return t}function DC(t,e){if(t==="change")return e}var $0=!1;if(Bi){var hf;if(Bi){var df="oninput"in document;if(!df){var yv=document.createElement("div");yv.setAttribute("oninput","return;"),df=typeof yv.oninput=="function"}hf=df}else hf=!1;$0=hf&&(!document.documentMode||9<document.documentMode)}function wv(){Pl&&(Pl.detachEvent("onpropertychange",H0),Wl=Pl=null)}function H0(t){if(t.propertyName==="value"&&od(Wl)){var e=[];U0(e,Wl,t,Mm(t)),S0(OC,e)}}function VC(t,e,n){t==="focusin"?(wv(),Pl=e,Wl=n,Pl.attachEvent("onpropertychange",H0)):t==="focusout"&&wv()}function zC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return od(Wl)}function FC(t,e){if(t==="click")return od(e)}function BC(t,e){if(t==="input"||t==="change")return od(e)}function jC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qn=typeof Object.is=="function"?Object.is:jC;function ql(t,e){if(qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Yf.call(e,r)||!qn(t[r],e[r]))return!1}return!0}function Tv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ev(t,e){var n=Tv(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tv(n)}}function W0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?W0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function q0(){for(var t=window,e=uh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=uh(t.document)}return e}function $m(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function UC(t){var e=q0(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&W0(n.ownerDocument.documentElement,n)){if(i!==null&&$m(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=Ev(n,o);var a=Ev(n,i);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $C=Bi&&"documentMode"in document&&11>=document.documentMode,Co=null,gp=null,Cl=null,_p=!1;function Sv(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_p||Co==null||Co!==uh(i)||(i=Co,"selectionStart"in i&&$m(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Cl&&ql(Cl,i)||(Cl=i,i=gh(gp,"onSelect"),0<i.length&&(e=new Bm("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Co)))}function Ic(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ao={animationend:Ic("Animation","AnimationEnd"),animationiteration:Ic("Animation","AnimationIteration"),animationstart:Ic("Animation","AnimationStart"),transitionend:Ic("Transition","TransitionEnd")},ff={},G0={};Bi&&(G0=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function ad(t){if(ff[t])return ff[t];if(!Ao[t])return t;var e=Ao[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in G0)return ff[t]=e[n];return t}var K0=ad("animationend"),Z0=ad("animationiteration"),Q0=ad("animationstart"),Y0=ad("transitionend"),X0=new Map,Iv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(t,e){X0.set(t,e),Ns(e,[t])}for(var pf=0;pf<Iv.length;pf++){var mf=Iv[pf],HC=mf.toLowerCase(),WC=mf[0].toUpperCase()+mf.slice(1);Br(HC,"on"+WC)}Br(K0,"onAnimationEnd");Br(Z0,"onAnimationIteration");Br(Q0,"onAnimationStart");Br("dblclick","onDoubleClick");Br("focusin","onFocus");Br("focusout","onBlur");Br(Y0,"onTransitionEnd");Ko("onMouseEnter",["mouseout","mouseover"]);Ko("onMouseLeave",["mouseout","mouseover"]);Ko("onPointerEnter",["pointerout","pointerover"]);Ko("onPointerLeave",["pointerout","pointerover"]);Ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qC=new Set("cancel close invalid load scroll toggle".split(" ").concat(gl));function xv(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,HP(i,e,void 0,t),t.currentTarget=null}function J0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var a=i.length-1;0<=a;a--){var u=i[a],h=u.instance,f=u.currentTarget;if(u=u.listener,h!==o&&r.isPropagationStopped())break e;xv(r,u,f),o=h}else for(a=0;a<i.length;a++){if(u=i[a],h=u.instance,f=u.currentTarget,u=u.listener,h!==o&&r.isPropagationStopped())break e;xv(r,u,f),o=h}}}if(hh)throw t=dp,hh=!1,dp=null,t}function $e(t,e){var n=e[Ep];n===void 0&&(n=e[Ep]=new Set);var i=t+"__bubble";n.has(i)||(eT(e,t,2,!1),n.add(i))}function gf(t,e,n){var i=0;e&&(i|=4),eT(n,t,i,e)}var xc="_reactListening"+Math.random().toString(36).slice(2);function Gl(t){if(!t[xc]){t[xc]=!0,a0.forEach(function(n){n!=="selectionchange"&&(qC.has(n)||gf(n,!1,t),gf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xc]||(e[xc]=!0,gf("selectionchange",!1,e))}}function eT(t,e,n,i){switch(V0(e)){case 1:var r=oC;break;case 4:r=aC;break;default:r=zm}n=r.bind(null,e,n,t),r=void 0,!hp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function _f(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var u=i.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var h=a.tag;if((h===3||h===4)&&(h=a.stateNode.containerInfo,h===r||h.nodeType===8&&h.parentNode===r))return;a=a.return}for(;u!==null;){if(a=hs(u),a===null)return;if(h=a.tag,h===5||h===6){i=o=a;continue e}u=u.parentNode}}i=i.return}S0(function(){var f=o,m=Mm(n),_=[];e:{var w=X0.get(t);if(w!==void 0){var P=Bm,S=t;switch(t){case"keypress":if(Wc(n)===0)break e;case"keydown":case"keyup":P=EC;break;case"focusin":S="focus",P=cf;break;case"focusout":S="blur",P=cf;break;case"beforeblur":case"afterblur":P=cf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=fv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=cC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=xC;break;case K0:case Z0:case Q0:P=fC;break;case Y0:P=CC;break;case"scroll":P=lC;break;case"wheel":P=bC;break;case"copy":case"cut":case"paste":P=mC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=mv}var k=(e&4)!==0,z=!k&&t==="scroll",I=k?w!==null?w+"Capture":null:w;k=[];for(var T=f,E;T!==null;){E=T;var V=E.stateNode;if(E.tag===5&&V!==null&&(E=V,I!==null&&(V=jl(T,I),V!=null&&k.push(Kl(T,V,E)))),z)break;T=T.return}0<k.length&&(w=new P(w,S,null,n,m),_.push({event:w,listeners:k}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",w&&n!==up&&(S=n.relatedTarget||n.fromElement)&&(hs(S)||S[ji]))break e;if((P||w)&&(w=m.window===m?m:(w=m.ownerDocument)?w.defaultView||w.parentWindow:window,P?(S=n.relatedTarget||n.toElement,P=f,S=S?hs(S):null,S!==null&&(z=Ms(S),S!==z||S.tag!==5&&S.tag!==6)&&(S=null)):(P=null,S=f),P!==S)){if(k=fv,V="onMouseLeave",I="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(k=mv,V="onPointerLeave",I="onPointerEnter",T="pointer"),z=P==null?w:bo(P),E=S==null?w:bo(S),w=new k(V,T+"leave",P,n,m),w.target=z,w.relatedTarget=E,V=null,hs(m)===f&&(k=new k(I,T+"enter",S,n,m),k.target=E,k.relatedTarget=z,V=k),z=V,P&&S)t:{for(k=P,I=S,T=0,E=k;E;E=wo(E))T++;for(E=0,V=I;V;V=wo(V))E++;for(;0<T-E;)k=wo(k),T--;for(;0<E-T;)I=wo(I),E--;for(;T--;){if(k===I||I!==null&&k===I.alternate)break t;k=wo(k),I=wo(I)}k=null}else k=null;P!==null&&Pv(_,w,P,k,!1),S!==null&&z!==null&&Pv(_,z,S,k,!0)}}e:{if(w=f?bo(f):window,P=w.nodeName&&w.nodeName.toLowerCase(),P==="select"||P==="input"&&w.type==="file")var j=DC;else if(vv(w))if($0)j=BC;else{j=zC;var W=VC}else(P=w.nodeName)&&P.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(j=FC);if(j&&(j=j(t,f))){U0(_,j,n,m);break e}W&&W(t,w,f),t==="focusout"&&(W=w._wrapperState)&&W.controlled&&w.type==="number"&&rp(w,"number",w.value)}switch(W=f?bo(f):window,t){case"focusin":(vv(W)||W.contentEditable==="true")&&(Co=W,gp=f,Cl=null);break;case"focusout":Cl=gp=Co=null;break;case"mousedown":_p=!0;break;case"contextmenu":case"mouseup":case"dragend":_p=!1,Sv(_,n,m);break;case"selectionchange":if($C)break;case"keydown":case"keyup":Sv(_,n,m)}var N;if(Um)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Po?B0(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(F0&&n.locale!=="ko"&&(Po||C!=="onCompositionStart"?C==="onCompositionEnd"&&Po&&(N=z0()):(_r=m,Fm="value"in _r?_r.value:_r.textContent,Po=!0)),W=gh(f,C),0<W.length&&(C=new pv(C,t,null,n,m),_.push({event:C,listeners:W}),N?C.data=N:(N=j0(n),N!==null&&(C.data=N)))),(N=RC?LC(t,n):NC(t,n))&&(f=gh(f,"onBeforeInput"),0<f.length&&(m=new pv("onBeforeInput","beforeinput",null,n,m),_.push({event:m,listeners:f}),m.data=N))}J0(_,e)})}function Kl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gh(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=jl(t,n),o!=null&&i.unshift(Kl(t,o,r)),o=jl(t,e),o!=null&&i.push(Kl(t,o,r))),t=t.return}return i}function wo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pv(t,e,n,i,r){for(var o=e._reactName,a=[];n!==null&&n!==i;){var u=n,h=u.alternate,f=u.stateNode;if(h!==null&&h===i)break;u.tag===5&&f!==null&&(u=f,r?(h=jl(n,o),h!=null&&a.unshift(Kl(n,h,u))):r||(h=jl(n,o),h!=null&&a.push(Kl(n,h,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var GC=/\r\n?/g,KC=/\u0000|\uFFFD/g;function Cv(t){return(typeof t=="string"?t:""+t).replace(GC,`
`).replace(KC,"")}function Pc(t,e,n){if(e=Cv(e),Cv(t)!==e&&n)throw Error(J(425))}function _h(){}var vp=null,yp=null;function wp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tp=typeof setTimeout=="function"?setTimeout:void 0,ZC=typeof clearTimeout=="function"?clearTimeout:void 0,Av=typeof Promise=="function"?Promise:void 0,QC=typeof queueMicrotask=="function"?queueMicrotask:typeof Av<"u"?function(t){return Av.resolve(null).then(t).catch(YC)}:Tp;function YC(t){setTimeout(function(){throw t})}function vf(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Hl(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Hl(e)}function xr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ca=Math.random().toString(36).slice(2),ri="__reactFiber$"+ca,Zl="__reactProps$"+ca,ji="__reactContainer$"+ca,Ep="__reactEvents$"+ca,XC="__reactListeners$"+ca,JC="__reactHandles$"+ca;function hs(t){var e=t[ri];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ji]||n[ri]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bv(t);t!==null;){if(n=t[ri])return n;t=bv(t)}return e}t=n,n=t.parentNode}return null}function vu(t){return t=t[ri]||t[ji],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function ld(t){return t[Zl]||null}var Sp=[],ko=-1;function jr(t){return{current:t}}function We(t){0>ko||(t.current=Sp[ko],Sp[ko]=null,ko--)}function Ue(t,e){ko++,Sp[ko]=t.current,t.current=e}var Dr={},Bt=jr(Dr),tn=jr(!1),ys=Dr;function Zo(t,e){var n=t.type.contextTypes;if(!n)return Dr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function nn(t){return t=t.childContextTypes,t!=null}function vh(){We(tn),We(Bt)}function kv(t,e,n){if(Bt.current!==Dr)throw Error(J(168));Ue(Bt,e),Ue(tn,n)}function tT(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(J(108,VP(t)||"Unknown",r));return et({},n,i)}function yh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Dr,ys=Bt.current,Ue(Bt,t),Ue(tn,tn.current),!0}function Rv(t,e,n){var i=t.stateNode;if(!i)throw Error(J(169));n?(t=tT(t,e,ys),i.__reactInternalMemoizedMergedChildContext=t,We(tn),We(Bt),Ue(Bt,t)):We(tn),Ue(tn,n)}var Li=null,ud=!1,yf=!1;function nT(t){Li===null?Li=[t]:Li.push(t)}function eA(t){ud=!0,nT(t)}function Ur(){if(!yf&&Li!==null){yf=!0;var t=0,e=Ve;try{var n=Li;for(Ve=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Li=null,ud=!1}catch(r){throw Li!==null&&(Li=Li.slice(t+1)),C0(Om,Ur),r}finally{Ve=e,yf=!1}}return null}var Ro=[],Lo=0,wh=null,Th=0,Cn=[],An=0,ws=null,Ni=1,Mi="";function ls(t,e){Ro[Lo++]=Th,Ro[Lo++]=wh,wh=t,Th=e}function iT(t,e,n){Cn[An++]=Ni,Cn[An++]=Mi,Cn[An++]=ws,ws=t;var i=Ni;t=Mi;var r=32-$n(i)-1;i&=~(1<<r),n+=1;var o=32-$n(e)+r;if(30<o){var a=r-r%5;o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Ni=1<<32-$n(e)+r|n<<r|i,Mi=o+t}else Ni=1<<o|n<<r|i,Mi=t}function Hm(t){t.return!==null&&(ls(t,1),iT(t,1,0))}function Wm(t){for(;t===wh;)wh=Ro[--Lo],Ro[Lo]=null,Th=Ro[--Lo],Ro[Lo]=null;for(;t===ws;)ws=Cn[--An],Cn[An]=null,Mi=Cn[--An],Cn[An]=null,Ni=Cn[--An],Cn[An]=null}var pn=null,dn=null,Ke=!1,Un=null;function rT(t,e){var n=bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Lv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,dn=xr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ws!==null?{id:Ni,overflow:Mi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pn=t,dn=null,!0):!1;default:return!1}}function Ip(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xp(t){if(Ke){var e=dn;if(e){var n=e;if(!Lv(t,e)){if(Ip(t))throw Error(J(418));e=xr(n.nextSibling);var i=pn;e&&Lv(t,e)?rT(i,n):(t.flags=t.flags&-4097|2,Ke=!1,pn=t)}}else{if(Ip(t))throw Error(J(418));t.flags=t.flags&-4097|2,Ke=!1,pn=t}}}function Nv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function Cc(t){if(t!==pn)return!1;if(!Ke)return Nv(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wp(t.type,t.memoizedProps)),e&&(e=dn)){if(Ip(t))throw sT(),Error(J(418));for(;e;)rT(t,e),e=xr(e.nextSibling)}if(Nv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dn=xr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dn=null}}else dn=pn?xr(t.stateNode.nextSibling):null;return!0}function sT(){for(var t=dn;t;)t=xr(t.nextSibling)}function Qo(){dn=pn=null,Ke=!1}function qm(t){Un===null?Un=[t]:Un.push(t)}var tA=Ki.ReactCurrentBatchConfig;function al(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var i=n.stateNode}if(!i)throw Error(J(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var u=r.refs;a===null?delete u[o]:u[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Ac(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mv(t){var e=t._init;return e(t._payload)}function oT(t){function e(I,T){if(t){var E=I.deletions;E===null?(I.deletions=[T],I.flags|=16):E.push(T)}}function n(I,T){if(!t)return null;for(;T!==null;)e(I,T),T=T.sibling;return null}function i(I,T){for(I=new Map;T!==null;)T.key!==null?I.set(T.key,T):I.set(T.index,T),T=T.sibling;return I}function r(I,T){return I=br(I,T),I.index=0,I.sibling=null,I}function o(I,T,E){return I.index=E,t?(E=I.alternate,E!==null?(E=E.index,E<T?(I.flags|=2,T):E):(I.flags|=2,T)):(I.flags|=1048576,T)}function a(I){return t&&I.alternate===null&&(I.flags|=2),I}function u(I,T,E,V){return T===null||T.tag!==6?(T=Pf(E,I.mode,V),T.return=I,T):(T=r(T,E),T.return=I,T)}function h(I,T,E,V){var j=E.type;return j===xo?m(I,T,E.props.children,V,E.key):T!==null&&(T.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ur&&Mv(j)===T.type)?(V=r(T,E.props),V.ref=al(I,T,E),V.return=I,V):(V=Xc(E.type,E.key,E.props,null,I.mode,V),V.ref=al(I,T,E),V.return=I,V)}function f(I,T,E,V){return T===null||T.tag!==4||T.stateNode.containerInfo!==E.containerInfo||T.stateNode.implementation!==E.implementation?(T=Cf(E,I.mode,V),T.return=I,T):(T=r(T,E.children||[]),T.return=I,T)}function m(I,T,E,V,j){return T===null||T.tag!==7?(T=_s(E,I.mode,V,j),T.return=I,T):(T=r(T,E),T.return=I,T)}function _(I,T,E){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Pf(""+T,I.mode,E),T.return=I,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case _c:return E=Xc(T.type,T.key,T.props,null,I.mode,E),E.ref=al(I,null,T),E.return=I,E;case Io:return T=Cf(T,I.mode,E),T.return=I,T;case ur:var V=T._init;return _(I,V(T._payload),E)}if(pl(T)||nl(T))return T=_s(T,I.mode,E,null),T.return=I,T;Ac(I,T)}return null}function w(I,T,E,V){var j=T!==null?T.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return j!==null?null:u(I,T,""+E,V);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case _c:return E.key===j?h(I,T,E,V):null;case Io:return E.key===j?f(I,T,E,V):null;case ur:return j=E._init,w(I,T,j(E._payload),V)}if(pl(E)||nl(E))return j!==null?null:m(I,T,E,V,null);Ac(I,E)}return null}function P(I,T,E,V,j){if(typeof V=="string"&&V!==""||typeof V=="number")return I=I.get(E)||null,u(T,I,""+V,j);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case _c:return I=I.get(V.key===null?E:V.key)||null,h(T,I,V,j);case Io:return I=I.get(V.key===null?E:V.key)||null,f(T,I,V,j);case ur:var W=V._init;return P(I,T,E,W(V._payload),j)}if(pl(V)||nl(V))return I=I.get(E)||null,m(T,I,V,j,null);Ac(T,V)}return null}function S(I,T,E,V){for(var j=null,W=null,N=T,C=T=0,A=null;N!==null&&C<E.length;C++){N.index>C?(A=N,N=null):A=N.sibling;var R=w(I,N,E[C],V);if(R===null){N===null&&(N=A);break}t&&N&&R.alternate===null&&e(I,N),T=o(R,T,C),W===null?j=R:W.sibling=R,W=R,N=A}if(C===E.length)return n(I,N),Ke&&ls(I,C),j;if(N===null){for(;C<E.length;C++)N=_(I,E[C],V),N!==null&&(T=o(N,T,C),W===null?j=N:W.sibling=N,W=N);return Ke&&ls(I,C),j}for(N=i(I,N);C<E.length;C++)A=P(N,I,C,E[C],V),A!==null&&(t&&A.alternate!==null&&N.delete(A.key===null?C:A.key),T=o(A,T,C),W===null?j=A:W.sibling=A,W=A);return t&&N.forEach(function(O){return e(I,O)}),Ke&&ls(I,C),j}function k(I,T,E,V){var j=nl(E);if(typeof j!="function")throw Error(J(150));if(E=j.call(E),E==null)throw Error(J(151));for(var W=j=null,N=T,C=T=0,A=null,R=E.next();N!==null&&!R.done;C++,R=E.next()){N.index>C?(A=N,N=null):A=N.sibling;var O=w(I,N,R.value,V);if(O===null){N===null&&(N=A);break}t&&N&&O.alternate===null&&e(I,N),T=o(O,T,C),W===null?j=O:W.sibling=O,W=O,N=A}if(R.done)return n(I,N),Ke&&ls(I,C),j;if(N===null){for(;!R.done;C++,R=E.next())R=_(I,R.value,V),R!==null&&(T=o(R,T,C),W===null?j=R:W.sibling=R,W=R);return Ke&&ls(I,C),j}for(N=i(I,N);!R.done;C++,R=E.next())R=P(N,I,C,R.value,V),R!==null&&(t&&R.alternate!==null&&N.delete(R.key===null?C:R.key),T=o(R,T,C),W===null?j=R:W.sibling=R,W=R);return t&&N.forEach(function(F){return e(I,F)}),Ke&&ls(I,C),j}function z(I,T,E,V){if(typeof E=="object"&&E!==null&&E.type===xo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case _c:e:{for(var j=E.key,W=T;W!==null;){if(W.key===j){if(j=E.type,j===xo){if(W.tag===7){n(I,W.sibling),T=r(W,E.props.children),T.return=I,I=T;break e}}else if(W.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ur&&Mv(j)===W.type){n(I,W.sibling),T=r(W,E.props),T.ref=al(I,W,E),T.return=I,I=T;break e}n(I,W);break}else e(I,W);W=W.sibling}E.type===xo?(T=_s(E.props.children,I.mode,V,E.key),T.return=I,I=T):(V=Xc(E.type,E.key,E.props,null,I.mode,V),V.ref=al(I,T,E),V.return=I,I=V)}return a(I);case Io:e:{for(W=E.key;T!==null;){if(T.key===W)if(T.tag===4&&T.stateNode.containerInfo===E.containerInfo&&T.stateNode.implementation===E.implementation){n(I,T.sibling),T=r(T,E.children||[]),T.return=I,I=T;break e}else{n(I,T);break}else e(I,T);T=T.sibling}T=Cf(E,I.mode,V),T.return=I,I=T}return a(I);case ur:return W=E._init,z(I,T,W(E._payload),V)}if(pl(E))return S(I,T,E,V);if(nl(E))return k(I,T,E,V);Ac(I,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,T!==null&&T.tag===6?(n(I,T.sibling),T=r(T,E),T.return=I,I=T):(n(I,T),T=Pf(E,I.mode,V),T.return=I,I=T),a(I)):n(I,T)}return z}var Yo=oT(!0),aT=oT(!1),Eh=jr(null),Sh=null,No=null,Gm=null;function Km(){Gm=No=Sh=null}function Zm(t){var e=Eh.current;We(Eh),t._currentValue=e}function Pp(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function jo(t,e){Sh=t,Gm=No=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(en=!0),t.firstContext=null)}function Ln(t){var e=t._currentValue;if(Gm!==t)if(t={context:t,memoizedValue:e,next:null},No===null){if(Sh===null)throw Error(J(308));No=t,Sh.dependencies={lanes:0,firstContext:t}}else No=No.next=t;return e}var ds=null;function Qm(t){ds===null?ds=[t]:ds.push(t)}function lT(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Qm(e)):(n.next=r.next,r.next=n),e.interleaved=n,Ui(t,i)}function Ui(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var cr=!1;function Ym(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Ne&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ui(t,n)}return r=i.interleaved,r===null?(e.next=e,Qm(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ui(t,n)}function qc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Dm(t,n)}}function Ov(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ih(t,e,n,i){var r=t.updateQueue;cr=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var h=u,f=h.next;h.next=null,a===null?o=f:a.next=f,a=h;var m=t.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==a&&(u===null?m.firstBaseUpdate=f:u.next=f,m.lastBaseUpdate=h))}if(o!==null){var _=r.baseState;a=0,m=f=h=null,u=o;do{var w=u.lane,P=u.eventTime;if((i&w)===w){m!==null&&(m=m.next={eventTime:P,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var S=t,k=u;switch(w=e,P=n,k.tag){case 1:if(S=k.payload,typeof S=="function"){_=S.call(P,_,w);break e}_=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=k.payload,w=typeof S=="function"?S.call(P,_,w):S,w==null)break e;_=et({},_,w);break e;case 2:cr=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,w=r.effects,w===null?r.effects=[u]:w.push(u))}else P={eventTime:P,lane:w,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(f=m=P,h=_):m=m.next=P,a|=w;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;w=u,u=w.next,w.next=null,r.lastBaseUpdate=w,r.shared.pending=null}}while(!0);if(m===null&&(h=_),r.baseState=h,r.firstBaseUpdate=f,r.lastBaseUpdate=m,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);Es|=a,t.lanes=a,t.memoizedState=_}}function Dv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(J(191,r));r.call(i)}}}var yu={},li=jr(yu),Ql=jr(yu),Yl=jr(yu);function fs(t){if(t===yu)throw Error(J(174));return t}function Xm(t,e){switch(Ue(Yl,e),Ue(Ql,t),Ue(li,yu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:op(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=op(e,t)}We(li),Ue(li,e)}function Xo(){We(li),We(Ql),We(Yl)}function cT(t){fs(Yl.current);var e=fs(li.current),n=op(e,t.type);e!==n&&(Ue(Ql,t),Ue(li,n))}function Jm(t){Ql.current===t&&(We(li),We(Ql))}var Xe=jr(0);function xh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wf=[];function eg(){for(var t=0;t<wf.length;t++)wf[t]._workInProgressVersionPrimary=null;wf.length=0}var Gc=Ki.ReactCurrentDispatcher,Tf=Ki.ReactCurrentBatchConfig,Ts=0,Je=null,gt=null,It=null,Ph=!1,Al=!1,Xl=0,nA=0;function Mt(){throw Error(J(321))}function tg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qn(t[n],e[n]))return!1;return!0}function ng(t,e,n,i,r,o){if(Ts=o,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gc.current=t===null||t.memoizedState===null?oA:aA,t=n(i,r),Al){o=0;do{if(Al=!1,Xl=0,25<=o)throw Error(J(301));o+=1,It=gt=null,e.updateQueue=null,Gc.current=lA,t=n(i,r)}while(Al)}if(Gc.current=Ch,e=gt!==null&&gt.next!==null,Ts=0,It=gt=Je=null,Ph=!1,e)throw Error(J(300));return t}function ig(){var t=Xl!==0;return Xl=0,t}function ii(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Je.memoizedState=It=t:It=It.next=t,It}function Nn(){if(gt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=It===null?Je.memoizedState:It.next;if(e!==null)It=e,gt=t;else{if(t===null)throw Error(J(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},It===null?Je.memoizedState=It=t:It=It.next=t}return It}function Jl(t,e){return typeof e=="function"?e(t):e}function Ef(t){var e=Nn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var i=gt,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var u=a=null,h=null,f=o;do{var m=f.lane;if((Ts&m)===m)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:t(i,f.action);else{var _={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(u=h=_,a=i):h=h.next=_,Je.lanes|=m,Es|=m}f=f.next}while(f!==null&&f!==o);h===null?a=i:h.next=u,qn(i,e.memoizedState)||(en=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=h,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,Je.lanes|=o,Es|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sf(t){var e=Nn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do o=t(o,a.action),a=a.next;while(a!==r);qn(o,e.memoizedState)||(en=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function hT(){}function dT(t,e){var n=Je,i=Nn(),r=e(),o=!qn(i.memoizedState,r);if(o&&(i.memoizedState=r,en=!0),i=i.queue,rg(mT.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,eu(9,pT.bind(null,n,i,r,e),void 0,null),xt===null)throw Error(J(349));Ts&30||fT(n,e,r)}return r}function fT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pT(t,e,n,i){e.value=n,e.getSnapshot=i,gT(e)&&_T(t)}function mT(t,e,n){return n(function(){gT(e)&&_T(t)})}function gT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qn(t,n)}catch{return!0}}function _T(t){var e=Ui(t,1);e!==null&&Hn(e,t,1,-1)}function Vv(t){var e=ii();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:t},e.queue=t,t=t.dispatch=sA.bind(null,Je,t),[e.memoizedState,t]}function eu(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function vT(){return Nn().memoizedState}function Kc(t,e,n,i){var r=ii();Je.flags|=t,r.memoizedState=eu(1|e,n,void 0,i===void 0?null:i)}function cd(t,e,n,i){var r=Nn();i=i===void 0?null:i;var o=void 0;if(gt!==null){var a=gt.memoizedState;if(o=a.destroy,i!==null&&tg(i,a.deps)){r.memoizedState=eu(e,n,o,i);return}}Je.flags|=t,r.memoizedState=eu(1|e,n,o,i)}function zv(t,e){return Kc(8390656,8,t,e)}function rg(t,e){return cd(2048,8,t,e)}function yT(t,e){return cd(4,2,t,e)}function wT(t,e){return cd(4,4,t,e)}function TT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ET(t,e,n){return n=n!=null?n.concat([t]):null,cd(4,4,TT.bind(null,e,t),n)}function sg(){}function ST(t,e){var n=Nn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&tg(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function IT(t,e){var n=Nn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&tg(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function xT(t,e,n){return Ts&21?(qn(n,e)||(n=k0(),Je.lanes|=n,Es|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,en=!0),t.memoizedState=n)}function iA(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var i=Tf.transition;Tf.transition={};try{t(!1),e()}finally{Ve=n,Tf.transition=i}}function PT(){return Nn().memoizedState}function rA(t,e,n){var i=Ar(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},CT(t))AT(e,n);else if(n=lT(t,e,n,i),n!==null){var r=qt();Hn(n,t,i,r),bT(n,e,i)}}function sA(t,e,n){var i=Ar(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(CT(t))AT(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,u=o(a,n);if(r.hasEagerState=!0,r.eagerState=u,qn(u,a)){var h=e.interleaved;h===null?(r.next=r,Qm(e)):(r.next=h.next,h.next=r),e.interleaved=r;return}}catch{}finally{}n=lT(t,e,r,i),n!==null&&(r=qt(),Hn(n,t,i,r),bT(n,e,i))}}function CT(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function AT(t,e){Al=Ph=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bT(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Dm(t,n)}}var Ch={readContext:Ln,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},oA={readContext:Ln,useCallback:function(t,e){return ii().memoizedState=[t,e===void 0?null:e],t},useContext:Ln,useEffect:zv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Kc(4194308,4,TT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Kc(4,2,t,e)},useMemo:function(t,e){var n=ii();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=ii();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=rA.bind(null,Je,t),[i.memoizedState,t]},useRef:function(t){var e=ii();return t={current:t},e.memoizedState=t},useState:Vv,useDebugValue:sg,useDeferredValue:function(t){return ii().memoizedState=t},useTransition:function(){var t=Vv(!1),e=t[0];return t=iA.bind(null,t[1]),ii().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Je,r=ii();if(Ke){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),xt===null)throw Error(J(349));Ts&30||fT(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,zv(mT.bind(null,i,o,t),[t]),i.flags|=2048,eu(9,pT.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=ii(),e=xt.identifierPrefix;if(Ke){var n=Mi,i=Ni;n=(i&~(1<<32-$n(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=nA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},aA={readContext:Ln,useCallback:ST,useContext:Ln,useEffect:rg,useImperativeHandle:ET,useInsertionEffect:yT,useLayoutEffect:wT,useMemo:IT,useReducer:Ef,useRef:vT,useState:function(){return Ef(Jl)},useDebugValue:sg,useDeferredValue:function(t){var e=Nn();return xT(e,gt.memoizedState,t)},useTransition:function(){var t=Ef(Jl)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:hT,useSyncExternalStore:dT,useId:PT,unstable_isNewReconciler:!1},lA={readContext:Ln,useCallback:ST,useContext:Ln,useEffect:rg,useImperativeHandle:ET,useInsertionEffect:yT,useLayoutEffect:wT,useMemo:IT,useReducer:Sf,useRef:vT,useState:function(){return Sf(Jl)},useDebugValue:sg,useDeferredValue:function(t){var e=Nn();return gt===null?e.memoizedState=t:xT(e,gt.memoizedState,t)},useTransition:function(){var t=Sf(Jl)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:hT,useSyncExternalStore:dT,useId:PT,unstable_isNewReconciler:!1};function Bn(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cp(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hd={isMounted:function(t){return(t=t._reactInternals)?Ms(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=qt(),r=Ar(t),o=zi(i,r);o.payload=e,n!=null&&(o.callback=n),e=Pr(t,o,r),e!==null&&(Hn(e,t,r,i),qc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=qt(),r=Ar(t),o=zi(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Pr(t,o,r),e!==null&&(Hn(e,t,r,i),qc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qt(),i=Ar(t),r=zi(n,i);r.tag=2,e!=null&&(r.callback=e),e=Pr(t,r,i),e!==null&&(Hn(e,t,i,n),qc(e,t,i))}};function Fv(t,e,n,i,r,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,a):e.prototype&&e.prototype.isPureReactComponent?!ql(n,i)||!ql(r,o):!0}function kT(t,e,n){var i=!1,r=Dr,o=e.contextType;return typeof o=="object"&&o!==null?o=Ln(o):(r=nn(e)?ys:Bt.current,i=e.contextTypes,o=(i=i!=null)?Zo(t,r):Dr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hd,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function Bv(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&hd.enqueueReplaceState(e,e.state,null)}function Ap(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Ym(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=Ln(o):(o=nn(e)?ys:Bt.current,r.context=Zo(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Cp(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&hd.enqueueReplaceState(r,r.state,null),Ih(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Jo(t,e){try{var n="",i=e;do n+=DP(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function If(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var uA=typeof WeakMap=="function"?WeakMap:Map;function RT(t,e,n){n=zi(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){bh||(bh=!0,Fp=i),bp(t,e)},n}function LT(t,e,n){n=zi(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){bp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){bp(t,e),typeof i!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function jv(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new uA;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=SA.bind(null,t,e,n),e.then(t,t))}function Uv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $v(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zi(-1,1),e.tag=2,Pr(n,e,1))),n.lanes|=1),t)}var cA=Ki.ReactCurrentOwner,en=!1;function Ht(t,e,n,i){e.child=t===null?aT(e,null,n,i):Yo(e,t.child,n,i)}function Hv(t,e,n,i,r){n=n.render;var o=e.ref;return jo(e,r),i=ng(t,e,n,i,o,r),n=ig(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,$i(t,e,r)):(Ke&&n&&Hm(e),e.flags|=1,Ht(t,e,i,r),e.child)}function Wv(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!fg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,NT(t,e,o,i,r)):(t=Xc(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ql,n(a,i)&&t.ref===e.ref)return $i(t,e,r)}return e.flags|=1,t=br(o,i),t.ref=e.ref,t.return=e,e.child=t}function NT(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(ql(o,i)&&t.ref===e.ref)if(en=!1,e.pendingProps=i=o,(t.lanes&r)!==0)t.flags&131072&&(en=!0);else return e.lanes=t.lanes,$i(t,e,r)}return kp(t,e,n,i,r)}function MT(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Oo,cn),cn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(Oo,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,Ue(Oo,cn),cn|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,Ue(Oo,cn),cn|=i;return Ht(t,e,r,n),e.child}function OT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kp(t,e,n,i,r){var o=nn(n)?ys:Bt.current;return o=Zo(e,o),jo(e,r),n=ng(t,e,n,i,o,r),i=ig(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,$i(t,e,r)):(Ke&&i&&Hm(e),e.flags|=1,Ht(t,e,n,r),e.child)}function qv(t,e,n,i,r){if(nn(n)){var o=!0;yh(e)}else o=!1;if(jo(e,r),e.stateNode===null)Zc(t,e),kT(e,n,i),Ap(e,n,i,r),i=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var h=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=Ln(f):(f=nn(n)?ys:Bt.current,f=Zo(e,f));var m=n.getDerivedStateFromProps,_=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";_||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==i||h!==f)&&Bv(e,a,i,f),cr=!1;var w=e.memoizedState;a.state=w,Ih(e,i,a,r),h=e.memoizedState,u!==i||w!==h||tn.current||cr?(typeof m=="function"&&(Cp(e,n,m,i),h=e.memoizedState),(u=cr||Fv(e,n,u,i,w,h,f))?(_||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),a.props=i,a.state=h,a.context=f,i=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,uT(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:Bn(e.type,u),a.props=f,_=e.pendingProps,w=a.context,h=n.contextType,typeof h=="object"&&h!==null?h=Ln(h):(h=nn(n)?ys:Bt.current,h=Zo(e,h));var P=n.getDerivedStateFromProps;(m=typeof P=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==_||w!==h)&&Bv(e,a,i,h),cr=!1,w=e.memoizedState,a.state=w,Ih(e,i,a,r);var S=e.memoizedState;u!==_||w!==S||tn.current||cr?(typeof P=="function"&&(Cp(e,n,P,i),S=e.memoizedState),(f=cr||Fv(e,n,f,i,w,S,h)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,S,h),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,S,h)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=S),a.props=i,a.state=S,a.context=h,i=f):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),i=!1)}return Rp(t,e,n,i,o,r)}function Rp(t,e,n,i,r,o){OT(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&Rv(e,n,!1),$i(t,e,o);i=e.stateNode,cA.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=Yo(e,t.child,null,o),e.child=Yo(e,null,u,o)):Ht(t,e,u,o),e.memoizedState=i.state,r&&Rv(e,n,!0),e.child}function DT(t){var e=t.stateNode;e.pendingContext?kv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&kv(t,e.context,!1),Xm(t,e.containerInfo)}function Gv(t,e,n,i,r){return Qo(),qm(r),e.flags|=256,Ht(t,e,n,i),e.child}var Lp={dehydrated:null,treeContext:null,retryLane:0};function Np(t){return{baseLanes:t,cachePool:null,transitions:null}}function VT(t,e,n){var i=e.pendingProps,r=Xe.current,o=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(r&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Ue(Xe,r&1),t===null)return xp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,o?(i=e.mode,o=e.child,a={mode:"hidden",children:a},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=pd(a,i,0,null),t=_s(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Np(n),e.memoizedState=Lp,t):og(e,a));if(r=t.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return hA(t,e,a,i,u,r,n);if(o){o=i.fallback,a=e.mode,r=t.child,u=r.sibling;var h={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=h,e.deletions=null):(i=br(r,h),i.subtreeFlags=r.subtreeFlags&14680064),u!==null?o=br(u,o):(o=_s(o,a,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,a=t.child.memoizedState,a=a===null?Np(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Lp,i}return o=t.child,t=o.sibling,i=br(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function og(t,e){return e=pd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bc(t,e,n,i){return i!==null&&qm(i),Yo(e,t.child,null,n),t=og(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hA(t,e,n,i,r,o,a){if(n)return e.flags&256?(e.flags&=-257,i=If(Error(J(422))),bc(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=pd({mode:"visible",children:i.children},r,0,null),o=_s(o,r,a,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Yo(e,t.child,null,a),e.child.memoizedState=Np(a),e.memoizedState=Lp,o);if(!(e.mode&1))return bc(t,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var u=i.dgst;return i=u,o=Error(J(419)),i=If(o,i,void 0),bc(t,e,a,i)}if(u=(a&t.childLanes)!==0,en||u){if(i=xt,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,Ui(t,r),Hn(i,t,r,-1))}return dg(),i=If(Error(J(421))),bc(t,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=IA.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,dn=xr(r.nextSibling),pn=e,Ke=!0,Un=null,t!==null&&(Cn[An++]=Ni,Cn[An++]=Mi,Cn[An++]=ws,Ni=t.id,Mi=t.overflow,ws=e),e=og(e,i.children),e.flags|=4096,e)}function Kv(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Pp(t.return,e,n)}function xf(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function zT(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(Ht(t,e,i.children,n),i=Xe.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kv(t,n,e);else if(t.tag===19)Kv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ue(Xe,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&xh(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),xf(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&xh(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}xf(e,!0,n,null,o);break;case"together":xf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $i(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Es|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=br(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=br(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dA(t,e,n){switch(e.tag){case 3:DT(e),Qo();break;case 5:cT(e);break;case 1:nn(e.type)&&yh(e);break;case 4:Xm(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Ue(Eh,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ue(Xe,Xe.current&1),e.flags|=128,null):n&e.child.childLanes?VT(t,e,n):(Ue(Xe,Xe.current&1),t=$i(t,e,n),t!==null?t.sibling:null);Ue(Xe,Xe.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return zT(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ue(Xe,Xe.current),i)break;return null;case 22:case 23:return e.lanes=0,MT(t,e,n)}return $i(t,e,n)}var FT,Mp,BT,jT;FT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mp=function(){};BT=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,fs(li.current);var o=null;switch(n){case"input":r=np(t,r),i=np(t,i),o=[];break;case"select":r=et({},r,{value:void 0}),i=et({},i,{value:void 0}),o=[];break;case"textarea":r=sp(t,r),i=sp(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=_h)}ap(n,i);var a;n=null;for(f in r)if(!i.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var u=r[f];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Fl.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in i){var h=i[f];if(u=r!=null?r[f]:void 0,i.hasOwnProperty(f)&&h!==u&&(h!=null||u!=null))if(f==="style")if(u){for(a in u)!u.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in h)h.hasOwnProperty(a)&&u[a]!==h[a]&&(n||(n={}),n[a]=h[a])}else n||(o||(o=[]),o.push(f,n)),n=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(o=o||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Fl.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&$e("scroll",t),o||u===h||(o=[])):(o=o||[]).push(f,h))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};jT=function(t,e,n,i){n!==i&&(e.flags|=4)};function ll(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function fA(t,e,n){var i=e.pendingProps;switch(Wm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return nn(e.type)&&vh(),Ot(e),null;case 3:return i=e.stateNode,Xo(),We(tn),We(Bt),eg(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Cc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Un!==null&&(Up(Un),Un=null))),Mp(t,e),Ot(e),null;case 5:Jm(e);var r=fs(Yl.current);if(n=e.type,t!==null&&e.stateNode!=null)BT(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(J(166));return Ot(e),null}if(t=fs(li.current),Cc(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[ri]=e,i[Zl]=o,t=(e.mode&1)!==0,n){case"dialog":$e("cancel",i),$e("close",i);break;case"iframe":case"object":case"embed":$e("load",i);break;case"video":case"audio":for(r=0;r<gl.length;r++)$e(gl[r],i);break;case"source":$e("error",i);break;case"img":case"image":case"link":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"input":iv(i,o),$e("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},$e("invalid",i);break;case"textarea":sv(i,o),$e("invalid",i)}ap(n,o),r=null;for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="children"?typeof u=="string"?i.textContent!==u&&(o.suppressHydrationWarning!==!0&&Pc(i.textContent,u,t),r=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Pc(i.textContent,u,t),r=["children",""+u]):Fl.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&$e("scroll",i)}switch(n){case"input":vc(i),rv(i,o,!0);break;case"textarea":vc(i),ov(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=_h)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=m0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[ri]=e,t[Zl]=i,FT(t,e,!1,!1),e.stateNode=t;e:{switch(a=lp(n,i),n){case"dialog":$e("cancel",t),$e("close",t),r=i;break;case"iframe":case"object":case"embed":$e("load",t),r=i;break;case"video":case"audio":for(r=0;r<gl.length;r++)$e(gl[r],t);r=i;break;case"source":$e("error",t),r=i;break;case"img":case"image":case"link":$e("error",t),$e("load",t),r=i;break;case"details":$e("toggle",t),r=i;break;case"input":iv(t,i),r=np(t,i),$e("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=et({},i,{value:void 0}),$e("invalid",t);break;case"textarea":sv(t,i),r=sp(t,i),$e("invalid",t);break;default:r=i}ap(n,r),u=r;for(o in u)if(u.hasOwnProperty(o)){var h=u[o];o==="style"?v0(t,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&g0(t,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&Bl(t,h):typeof h=="number"&&Bl(t,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Fl.hasOwnProperty(o)?h!=null&&o==="onScroll"&&$e("scroll",t):h!=null&&km(t,o,h,a))}switch(n){case"input":vc(t),rv(t,i,!1);break;case"textarea":vc(t),ov(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Or(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?Vo(t,!!i.multiple,o,!1):i.defaultValue!=null&&Vo(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=_h)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(t&&e.stateNode!=null)jT(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(J(166));if(n=fs(Yl.current),fs(li.current),Cc(e)){if(i=e.stateNode,n=e.memoizedProps,i[ri]=e,(o=i.nodeValue!==n)&&(t=pn,t!==null))switch(t.tag){case 3:Pc(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pc(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[ri]=e,e.stateNode=i}return Ot(e),null;case 13:if(We(Xe),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&dn!==null&&e.mode&1&&!(e.flags&128))sT(),Qo(),e.flags|=98560,o=!1;else if(o=Cc(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[ri]=e}else Qo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),o=!1}else Un!==null&&(Up(Un),Un=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?_t===0&&(_t=3):dg())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return Xo(),Mp(t,e),t===null&&Gl(e.stateNode.containerInfo),Ot(e),null;case 10:return Zm(e.type._context),Ot(e),null;case 17:return nn(e.type)&&vh(),Ot(e),null;case 19:if(We(Xe),o=e.memoizedState,o===null)return Ot(e),null;if(i=(e.flags&128)!==0,a=o.rendering,a===null)if(i)ll(o,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=xh(t),a!==null){for(e.flags|=128,ll(o,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(Xe,Xe.current&1|2),e.child}t=t.sibling}o.tail!==null&&ot()>ea&&(e.flags|=128,i=!0,ll(o,!1),e.lanes=4194304)}else{if(!i)if(t=xh(a),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ll(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ke)return Ot(e),null}else 2*ot()-o.renderingStartTime>ea&&n!==1073741824&&(e.flags|=128,i=!0,ll(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ot(),e.sibling=null,n=Xe.current,Ue(Xe,i?n&1|2:n&1),e):(Ot(e),null);case 22:case 23:return hg(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?cn&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function pA(t,e){switch(Wm(e),e.tag){case 1:return nn(e.type)&&vh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xo(),We(tn),We(Bt),eg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jm(e),null;case 13:if(We(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Qo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Xe),null;case 4:return Xo(),null;case 10:return Zm(e.type._context),null;case 22:case 23:return hg(),null;case 24:return null;default:return null}}var kc=!1,zt=!1,mA=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Mo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){it(t,e,i)}else n.current=null}function Op(t,e,n){try{n()}catch(i){it(t,e,i)}}var Zv=!1;function gA(t,e){if(vp=ph,t=q0(),$m(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,u=-1,h=-1,f=0,m=0,_=t,w=null;t:for(;;){for(var P;_!==n||r!==0&&_.nodeType!==3||(u=a+r),_!==o||i!==0&&_.nodeType!==3||(h=a+i),_.nodeType===3&&(a+=_.nodeValue.length),(P=_.firstChild)!==null;)w=_,_=P;for(;;){if(_===t)break t;if(w===n&&++f===r&&(u=a),w===o&&++m===i&&(h=a),(P=_.nextSibling)!==null)break;_=w,w=_.parentNode}_=P}n=u===-1||h===-1?null:{start:u,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(yp={focusedElem:t,selectionRange:n},ph=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var k=S.memoizedProps,z=S.memoizedState,I=e.stateNode,T=I.getSnapshotBeforeUpdate(e.elementType===e.type?k:Bn(e.type,k),z);I.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(V){it(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return S=Zv,Zv=!1,S}function bl(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&Op(e,n,o)}r=r.next}while(r!==i)}}function dd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Dp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function UT(t){var e=t.alternate;e!==null&&(t.alternate=null,UT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ri],delete e[Zl],delete e[Ep],delete e[XC],delete e[JC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $T(t){return t.tag===5||t.tag===3||t.tag===4}function Qv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$T(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_h));else if(i!==4&&(t=t.child,t!==null))for(Vp(t,e,n),t=t.sibling;t!==null;)Vp(t,e,n),t=t.sibling}function zp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(zp(t,e,n),t=t.sibling;t!==null;)zp(t,e,n),t=t.sibling}var Ct=null,jn=!1;function ar(t,e,n){for(n=n.child;n!==null;)HT(t,e,n),n=n.sibling}function HT(t,e,n){if(ai&&typeof ai.onCommitFiberUnmount=="function")try{ai.onCommitFiberUnmount(rd,n)}catch{}switch(n.tag){case 5:zt||Mo(n,e);case 6:var i=Ct,r=jn;Ct=null,ar(t,e,n),Ct=i,jn=r,Ct!==null&&(jn?(t=Ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(jn?(t=Ct,n=n.stateNode,t.nodeType===8?vf(t.parentNode,n):t.nodeType===1&&vf(t,n),Hl(t)):vf(Ct,n.stateNode));break;case 4:i=Ct,r=jn,Ct=n.stateNode.containerInfo,jn=!0,ar(t,e,n),Ct=i,jn=r;break;case 0:case 11:case 14:case 15:if(!zt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Op(n,e,a),r=r.next}while(r!==i)}ar(t,e,n);break;case 1:if(!zt&&(Mo(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(u){it(n,e,u)}ar(t,e,n);break;case 21:ar(t,e,n);break;case 22:n.mode&1?(zt=(i=zt)||n.memoizedState!==null,ar(t,e,n),zt=i):ar(t,e,n);break;default:ar(t,e,n)}}function Yv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new mA),e.forEach(function(i){var r=xA.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Fn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:Ct=u.stateNode,jn=!1;break e;case 3:Ct=u.stateNode.containerInfo,jn=!0;break e;case 4:Ct=u.stateNode.containerInfo,jn=!0;break e}u=u.return}if(Ct===null)throw Error(J(160));HT(o,a,r),Ct=null,jn=!1;var h=r.alternate;h!==null&&(h.return=null),r.return=null}catch(f){it(r,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)WT(e,t),e=e.sibling}function WT(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fn(e,t),ni(t),i&4){try{bl(3,t,t.return),dd(3,t)}catch(k){it(t,t.return,k)}try{bl(5,t,t.return)}catch(k){it(t,t.return,k)}}break;case 1:Fn(e,t),ni(t),i&512&&n!==null&&Mo(n,n.return);break;case 5:if(Fn(e,t),ni(t),i&512&&n!==null&&Mo(n,n.return),t.flags&32){var r=t.stateNode;try{Bl(r,"")}catch(k){it(t,t.return,k)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,u=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&f0(r,o),lp(u,a);var f=lp(u,o);for(a=0;a<h.length;a+=2){var m=h[a],_=h[a+1];m==="style"?v0(r,_):m==="dangerouslySetInnerHTML"?g0(r,_):m==="children"?Bl(r,_):km(r,m,_,f)}switch(u){case"input":ip(r,o);break;case"textarea":p0(r,o);break;case"select":var w=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var P=o.value;P!=null?Vo(r,!!o.multiple,P,!1):w!==!!o.multiple&&(o.defaultValue!=null?Vo(r,!!o.multiple,o.defaultValue,!0):Vo(r,!!o.multiple,o.multiple?[]:"",!1))}r[Zl]=o}catch(k){it(t,t.return,k)}}break;case 6:if(Fn(e,t),ni(t),i&4){if(t.stateNode===null)throw Error(J(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(k){it(t,t.return,k)}}break;case 3:if(Fn(e,t),ni(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Hl(e.containerInfo)}catch(k){it(t,t.return,k)}break;case 4:Fn(e,t),ni(t);break;case 13:Fn(e,t),ni(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(ug=ot())),i&4&&Yv(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(zt=(f=zt)||m,Fn(e,t),zt=f):Fn(e,t),ni(t),i&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!m&&t.mode&1)for(ie=t,m=t.child;m!==null;){for(_=ie=m;ie!==null;){switch(w=ie,P=w.child,w.tag){case 0:case 11:case 14:case 15:bl(4,w,w.return);break;case 1:Mo(w,w.return);var S=w.stateNode;if(typeof S.componentWillUnmount=="function"){i=w,n=w.return;try{e=i,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(k){it(i,n,k)}}break;case 5:Mo(w,w.return);break;case 22:if(w.memoizedState!==null){Jv(_);continue}}P!==null?(P.return=w,ie=P):Jv(_)}m=m.sibling}e:for(m=null,_=t;;){if(_.tag===5){if(m===null){m=_;try{r=_.stateNode,f?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=_.stateNode,h=_.memoizedProps.style,a=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=_0("display",a))}catch(k){it(t,t.return,k)}}}else if(_.tag===6){if(m===null)try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(k){it(t,t.return,k)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===t)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;m===_&&(m=null),_=_.return}m===_&&(m=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:Fn(e,t),ni(t),i&4&&Yv(t);break;case 21:break;default:Fn(e,t),ni(t)}}function ni(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($T(n)){var i=n;break e}n=n.return}throw Error(J(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Bl(r,""),i.flags&=-33);var o=Qv(t);zp(t,o,r);break;case 3:case 4:var a=i.stateNode.containerInfo,u=Qv(t);Vp(t,u,a);break;default:throw Error(J(161))}}catch(h){it(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _A(t,e,n){ie=t,qT(t)}function qT(t,e,n){for(var i=(t.mode&1)!==0;ie!==null;){var r=ie,o=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||kc;if(!a){var u=r.alternate,h=u!==null&&u.memoizedState!==null||zt;u=kc;var f=zt;if(kc=a,(zt=h)&&!f)for(ie=r;ie!==null;)a=ie,h=a.child,a.tag===22&&a.memoizedState!==null?ey(r):h!==null?(h.return=a,ie=h):ey(r);for(;o!==null;)ie=o,qT(o),o=o.sibling;ie=r,kc=u,zt=f}Xv(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,ie=o):Xv(t)}}function Xv(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||dd(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!zt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Bn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Dv(e,o,i);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Dv(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var _=m.dehydrated;_!==null&&Hl(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}zt||e.flags&512&&Dp(e)}catch(w){it(e,e.return,w)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function Jv(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function ey(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dd(4,e)}catch(h){it(e,n,h)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(h){it(e,r,h)}}var o=e.return;try{Dp(e)}catch(h){it(e,o,h)}break;case 5:var a=e.return;try{Dp(e)}catch(h){it(e,a,h)}}}catch(h){it(e,e.return,h)}if(e===t){ie=null;break}var u=e.sibling;if(u!==null){u.return=e.return,ie=u;break}ie=e.return}}var vA=Math.ceil,Ah=Ki.ReactCurrentDispatcher,ag=Ki.ReactCurrentOwner,kn=Ki.ReactCurrentBatchConfig,Ne=0,xt=null,ft=null,kt=0,cn=0,Oo=jr(0),_t=0,tu=null,Es=0,fd=0,lg=0,kl=null,Xt=null,ug=0,ea=1/0,Ri=null,bh=!1,Fp=null,Cr=null,Rc=!1,vr=null,kh=0,Rl=0,Bp=null,Qc=-1,Yc=0;function qt(){return Ne&6?ot():Qc!==-1?Qc:Qc=ot()}function Ar(t){return t.mode&1?Ne&2&&kt!==0?kt&-kt:tA.transition!==null?(Yc===0&&(Yc=k0()),Yc):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:V0(t.type)),t):1}function Hn(t,e,n,i){if(50<Rl)throw Rl=0,Bp=null,Error(J(185));gu(t,n,i),(!(Ne&2)||t!==xt)&&(t===xt&&(!(Ne&2)&&(fd|=n),_t===4&&dr(t,kt)),rn(t,i),n===1&&Ne===0&&!(e.mode&1)&&(ea=ot()+500,ud&&Ur()))}function rn(t,e){var n=t.callbackNode;tC(t,e);var i=fh(t,t===xt?kt:0);if(i===0)n!==null&&uv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&uv(n),e===1)t.tag===0?eA(ty.bind(null,t)):nT(ty.bind(null,t)),QC(function(){!(Ne&6)&&Ur()}),n=null;else{switch(R0(i)){case 1:n=Om;break;case 4:n=A0;break;case 16:n=dh;break;case 536870912:n=b0;break;default:n=dh}n=eE(n,GT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function GT(t,e){if(Qc=-1,Yc=0,Ne&6)throw Error(J(327));var n=t.callbackNode;if(Uo()&&t.callbackNode!==n)return null;var i=fh(t,t===xt?kt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Rh(t,i);else{e=i;var r=Ne;Ne|=2;var o=ZT();(xt!==t||kt!==e)&&(Ri=null,ea=ot()+500,gs(t,e));do try{TA();break}catch(u){KT(t,u)}while(!0);Km(),Ah.current=o,Ne=r,ft!==null?e=0:(xt=null,kt=0,e=_t)}if(e!==0){if(e===2&&(r=fp(t),r!==0&&(i=r,e=jp(t,r))),e===1)throw n=tu,gs(t,0),dr(t,i),rn(t,ot()),n;if(e===6)dr(t,i);else{if(r=t.current.alternate,!(i&30)&&!yA(r)&&(e=Rh(t,i),e===2&&(o=fp(t),o!==0&&(i=o,e=jp(t,o))),e===1))throw n=tu,gs(t,0),dr(t,i),rn(t,ot()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(J(345));case 2:us(t,Xt,Ri);break;case 3:if(dr(t,i),(i&130023424)===i&&(e=ug+500-ot(),10<e)){if(fh(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){qt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Tp(us.bind(null,t,Xt,Ri),e);break}us(t,Xt,Ri);break;case 4:if(dr(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-$n(i);o=1<<a,a=e[a],a>r&&(r=a),i&=~o}if(i=r,i=ot()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*vA(i/1960))-i,10<i){t.timeoutHandle=Tp(us.bind(null,t,Xt,Ri),i);break}us(t,Xt,Ri);break;case 5:us(t,Xt,Ri);break;default:throw Error(J(329))}}}return rn(t,ot()),t.callbackNode===n?GT.bind(null,t):null}function jp(t,e){var n=kl;return t.current.memoizedState.isDehydrated&&(gs(t,e).flags|=256),t=Rh(t,e),t!==2&&(e=Xt,Xt=n,e!==null&&Up(e)),t}function Up(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function yA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!qn(o(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function dr(t,e){for(e&=~lg,e&=~fd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$n(e),i=1<<n;t[n]=-1,e&=~i}}function ty(t){if(Ne&6)throw Error(J(327));Uo();var e=fh(t,0);if(!(e&1))return rn(t,ot()),null;var n=Rh(t,e);if(t.tag!==0&&n===2){var i=fp(t);i!==0&&(e=i,n=jp(t,i))}if(n===1)throw n=tu,gs(t,0),dr(t,e),rn(t,ot()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,us(t,Xt,Ri),rn(t,ot()),null}function cg(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(ea=ot()+500,ud&&Ur())}}function Ss(t){vr!==null&&vr.tag===0&&!(Ne&6)&&Uo();var e=Ne;Ne|=1;var n=kn.transition,i=Ve;try{if(kn.transition=null,Ve=1,t)return t()}finally{Ve=i,kn.transition=n,Ne=e,!(Ne&6)&&Ur()}}function hg(){cn=Oo.current,We(Oo)}function gs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ZC(n)),ft!==null)for(n=ft.return;n!==null;){var i=n;switch(Wm(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&vh();break;case 3:Xo(),We(tn),We(Bt),eg();break;case 5:Jm(i);break;case 4:Xo();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:Zm(i.type._context);break;case 22:case 23:hg()}n=n.return}if(xt=t,ft=t=br(t.current,null),kt=cn=e,_t=0,tu=null,lg=fd=Es=0,Xt=kl=null,ds!==null){for(e=0;e<ds.length;e++)if(n=ds[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var a=o.next;o.next=r,i.next=a}n.pending=i}ds=null}return t}function KT(t,e){do{var n=ft;try{if(Km(),Gc.current=Ch,Ph){for(var i=Je.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ph=!1}if(Ts=0,It=gt=Je=null,Al=!1,Xl=0,ag.current=null,n===null||n.return===null){_t=1,tu=e,ft=null;break}e:{var o=t,a=n.return,u=n,h=e;if(e=kt,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,m=u,_=m.tag;if(!(m.mode&1)&&(_===0||_===11||_===15)){var w=m.alternate;w?(m.updateQueue=w.updateQueue,m.memoizedState=w.memoizedState,m.lanes=w.lanes):(m.updateQueue=null,m.memoizedState=null)}var P=Uv(a);if(P!==null){P.flags&=-257,$v(P,a,u,o,e),P.mode&1&&jv(o,f,e),e=P,h=f;var S=e.updateQueue;if(S===null){var k=new Set;k.add(h),e.updateQueue=k}else S.add(h);break e}else{if(!(e&1)){jv(o,f,e),dg();break e}h=Error(J(426))}}else if(Ke&&u.mode&1){var z=Uv(a);if(z!==null){!(z.flags&65536)&&(z.flags|=256),$v(z,a,u,o,e),qm(Jo(h,u));break e}}o=h=Jo(h,u),_t!==4&&(_t=2),kl===null?kl=[o]:kl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var I=RT(o,h,e);Ov(o,I);break e;case 1:u=h;var T=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof T.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Cr===null||!Cr.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var V=LT(o,u,e);Ov(o,V);break e}}o=o.return}while(o!==null)}YT(n)}catch(j){e=j,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(!0)}function ZT(){var t=Ah.current;return Ah.current=Ch,t===null?Ch:t}function dg(){(_t===0||_t===3||_t===2)&&(_t=4),xt===null||!(Es&268435455)&&!(fd&268435455)||dr(xt,kt)}function Rh(t,e){var n=Ne;Ne|=2;var i=ZT();(xt!==t||kt!==e)&&(Ri=null,gs(t,e));do try{wA();break}catch(r){KT(t,r)}while(!0);if(Km(),Ne=n,Ah.current=i,ft!==null)throw Error(J(261));return xt=null,kt=0,_t}function wA(){for(;ft!==null;)QT(ft)}function TA(){for(;ft!==null&&!qP();)QT(ft)}function QT(t){var e=JT(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?YT(t):ft=e,ag.current=null}function YT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=pA(n,e),n!==null){n.flags&=32767,ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,ft=null;return}}else if(n=fA(n,e,cn),n!==null){ft=n;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);_t===0&&(_t=5)}function us(t,e,n){var i=Ve,r=kn.transition;try{kn.transition=null,Ve=1,EA(t,e,n,i)}finally{kn.transition=r,Ve=i}return null}function EA(t,e,n,i){do Uo();while(vr!==null);if(Ne&6)throw Error(J(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(nC(t,o),t===xt&&(ft=xt=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rc||(Rc=!0,eE(dh,function(){return Uo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=kn.transition,kn.transition=null;var a=Ve;Ve=1;var u=Ne;Ne|=4,ag.current=null,gA(t,n),WT(n,t),UC(yp),ph=!!vp,yp=vp=null,t.current=n,_A(n),GP(),Ne=u,Ve=a,kn.transition=o}else t.current=n;if(Rc&&(Rc=!1,vr=t,kh=r),o=t.pendingLanes,o===0&&(Cr=null),QP(n.stateNode),rn(t,ot()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(bh)throw bh=!1,t=Fp,Fp=null,t;return kh&1&&t.tag!==0&&Uo(),o=t.pendingLanes,o&1?t===Bp?Rl++:(Rl=0,Bp=t):Rl=0,Ur(),null}function Uo(){if(vr!==null){var t=R0(kh),e=kn.transition,n=Ve;try{if(kn.transition=null,Ve=16>t?16:t,vr===null)var i=!1;else{if(t=vr,vr=null,kh=0,Ne&6)throw Error(J(331));var r=Ne;for(Ne|=4,ie=t.current;ie!==null;){var o=ie,a=o.child;if(ie.flags&16){var u=o.deletions;if(u!==null){for(var h=0;h<u.length;h++){var f=u[h];for(ie=f;ie!==null;){var m=ie;switch(m.tag){case 0:case 11:case 15:bl(8,m,o)}var _=m.child;if(_!==null)_.return=m,ie=_;else for(;ie!==null;){m=ie;var w=m.sibling,P=m.return;if(UT(m),m===f){ie=null;break}if(w!==null){w.return=P,ie=w;break}ie=P}}}var S=o.alternate;if(S!==null){var k=S.child;if(k!==null){S.child=null;do{var z=k.sibling;k.sibling=null,k=z}while(k!==null)}}ie=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ie=a;else e:for(;ie!==null;){if(o=ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:bl(9,o,o.return)}var I=o.sibling;if(I!==null){I.return=o.return,ie=I;break e}ie=o.return}}var T=t.current;for(ie=T;ie!==null;){a=ie;var E=a.child;if(a.subtreeFlags&2064&&E!==null)E.return=a,ie=E;else e:for(a=T;ie!==null;){if(u=ie,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:dd(9,u)}}catch(j){it(u,u.return,j)}if(u===a){ie=null;break e}var V=u.sibling;if(V!==null){V.return=u.return,ie=V;break e}ie=u.return}}if(Ne=r,Ur(),ai&&typeof ai.onPostCommitFiberRoot=="function")try{ai.onPostCommitFiberRoot(rd,t)}catch{}i=!0}return i}finally{Ve=n,kn.transition=e}}return!1}function ny(t,e,n){e=Jo(n,e),e=RT(t,e,1),t=Pr(t,e,1),e=qt(),t!==null&&(gu(t,1,e),rn(t,e))}function it(t,e,n){if(t.tag===3)ny(t,t,n);else for(;e!==null;){if(e.tag===3){ny(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Cr===null||!Cr.has(i))){t=Jo(n,t),t=LT(e,t,1),e=Pr(e,t,1),t=qt(),e!==null&&(gu(e,1,t),rn(e,t));break}}e=e.return}}function SA(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=qt(),t.pingedLanes|=t.suspendedLanes&n,xt===t&&(kt&n)===n&&(_t===4||_t===3&&(kt&130023424)===kt&&500>ot()-ug?gs(t,0):lg|=n),rn(t,e)}function XT(t,e){e===0&&(t.mode&1?(e=Tc,Tc<<=1,!(Tc&130023424)&&(Tc=4194304)):e=1);var n=qt();t=Ui(t,e),t!==null&&(gu(t,e,n),rn(t,n))}function IA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XT(t,n)}function xA(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(J(314))}i!==null&&i.delete(e),XT(t,n)}var JT;JT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tn.current)en=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return en=!1,dA(t,e,n);en=!!(t.flags&131072)}else en=!1,Ke&&e.flags&1048576&&iT(e,Th,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Zc(t,e),t=e.pendingProps;var r=Zo(e,Bt.current);jo(e,n),r=ng(null,e,i,t,r,n);var o=ig();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nn(i)?(o=!0,yh(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Ym(e),r.updater=hd,e.stateNode=r,r._reactInternals=e,Ap(e,i,t,n),e=Rp(null,e,i,!0,o,n)):(e.tag=0,Ke&&o&&Hm(e),Ht(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Zc(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=CA(i),t=Bn(i,t),r){case 0:e=kp(null,e,i,t,n);break e;case 1:e=qv(null,e,i,t,n);break e;case 11:e=Hv(null,e,i,t,n);break e;case 14:e=Wv(null,e,i,Bn(i.type,t),n);break e}throw Error(J(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Bn(i,r),kp(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Bn(i,r),qv(t,e,i,r,n);case 3:e:{if(DT(e),t===null)throw Error(J(387));i=e.pendingProps,o=e.memoizedState,r=o.element,uT(t,e),Ih(e,i,null,n);var a=e.memoizedState;if(i=a.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=Jo(Error(J(423)),e),e=Gv(t,e,i,n,r);break e}else if(i!==r){r=Jo(Error(J(424)),e),e=Gv(t,e,i,n,r);break e}else for(dn=xr(e.stateNode.containerInfo.firstChild),pn=e,Ke=!0,Un=null,n=aT(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qo(),i===r){e=$i(t,e,n);break e}Ht(t,e,i,n)}e=e.child}return e;case 5:return cT(e),t===null&&xp(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,a=r.children,wp(i,r)?a=null:o!==null&&wp(i,o)&&(e.flags|=32),OT(t,e),Ht(t,e,a,n),e.child;case 6:return t===null&&xp(e),null;case 13:return VT(t,e,n);case 4:return Xm(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Yo(e,null,i,n):Ht(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Bn(i,r),Hv(t,e,i,r,n);case 7:return Ht(t,e,e.pendingProps,n),e.child;case 8:return Ht(t,e,e.pendingProps.children,n),e.child;case 12:return Ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,a=r.value,Ue(Eh,i._currentValue),i._currentValue=a,o!==null)if(qn(o.value,a)){if(o.children===r.children&&!tn.current){e=$i(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){a=o.child;for(var h=u.firstContext;h!==null;){if(h.context===i){if(o.tag===1){h=zi(-1,n&-n),h.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?h.next=h:(h.next=m.next,m.next=h),f.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),Pp(o.return,n,e),u.lanes|=n;break}h=h.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(J(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Pp(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ht(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,jo(e,n),r=Ln(r),i=i(r),e.flags|=1,Ht(t,e,i,n),e.child;case 14:return i=e.type,r=Bn(i,e.pendingProps),r=Bn(i.type,r),Wv(t,e,i,r,n);case 15:return NT(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Bn(i,r),Zc(t,e),e.tag=1,nn(i)?(t=!0,yh(e)):t=!1,jo(e,n),kT(e,i,r),Ap(e,i,r,n),Rp(null,e,i,!0,t,n);case 19:return zT(t,e,n);case 22:return MT(t,e,n)}throw Error(J(156,e.tag))};function eE(t,e){return C0(t,e)}function PA(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,e,n,i){return new PA(t,e,n,i)}function fg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function CA(t){if(typeof t=="function")return fg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lm)return 11;if(t===Nm)return 14}return 2}function br(t,e){var n=t.alternate;return n===null?(n=bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xc(t,e,n,i,r,o){var a=2;if(i=t,typeof t=="function")fg(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case xo:return _s(n.children,r,o,e);case Rm:a=8,r|=8;break;case Xf:return t=bn(12,n,e,r|2),t.elementType=Xf,t.lanes=o,t;case Jf:return t=bn(13,n,e,r),t.elementType=Jf,t.lanes=o,t;case ep:return t=bn(19,n,e,r),t.elementType=ep,t.lanes=o,t;case c0:return pd(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case l0:a=10;break e;case u0:a=9;break e;case Lm:a=11;break e;case Nm:a=14;break e;case ur:a=16,i=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=bn(a,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function _s(t,e,n,i){return t=bn(7,t,i,e),t.lanes=n,t}function pd(t,e,n,i){return t=bn(22,t,i,e),t.elementType=c0,t.lanes=n,t.stateNode={isHidden:!1},t}function Pf(t,e,n){return t=bn(6,t,null,e),t.lanes=n,t}function Cf(t,e,n){return e=bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function AA(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=af(0),this.expirationTimes=af(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=af(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function pg(t,e,n,i,r,o,a,u,h){return t=new AA(t,e,n,u,h),e===1?(e=1,o===!0&&(e|=8)):e=0,o=bn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ym(o),t}function bA(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Io,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function tE(t){if(!t)return Dr;t=t._reactInternals;e:{if(Ms(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(nn(n))return tT(t,n,e)}return e}function nE(t,e,n,i,r,o,a,u,h){return t=pg(n,i,!0,t,r,o,a,u,h),t.context=tE(null),n=t.current,i=qt(),r=Ar(n),o=zi(i,r),o.callback=e??null,Pr(n,o,r),t.current.lanes=r,gu(t,r,i),rn(t,i),t}function md(t,e,n,i){var r=e.current,o=qt(),a=Ar(r);return n=tE(n),e.context===null?e.context=n:e.pendingContext=n,e=zi(o,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Pr(r,e,a),t!==null&&(Hn(t,r,a,o),qc(t,r,a)),a}function Lh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function iy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mg(t,e){iy(t,e),(t=t.alternate)&&iy(t,e)}function kA(){return null}var iE=typeof reportError=="function"?reportError:function(t){console.error(t)};function gg(t){this._internalRoot=t}gd.prototype.render=gg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));md(t,e,null,null)};gd.prototype.unmount=gg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ss(function(){md(null,t,null,null)}),e[ji]=null}};function gd(t){this._internalRoot=t}gd.prototype.unstable_scheduleHydration=function(t){if(t){var e=M0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hr.length&&e!==0&&e<hr[n].priority;n++);hr.splice(n,0,t),n===0&&D0(t)}};function _g(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ry(){}function RA(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var f=Lh(a);o.call(f)}}var a=nE(e,i,t,0,null,!1,!1,"",ry);return t._reactRootContainer=a,t[ji]=a.current,Gl(t.nodeType===8?t.parentNode:t),Ss(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var u=i;i=function(){var f=Lh(h);u.call(f)}}var h=pg(t,0,!1,null,null,!1,!1,"",ry);return t._reactRootContainer=h,t[ji]=h.current,Gl(t.nodeType===8?t.parentNode:t),Ss(function(){md(e,h,n,i)}),h}function vd(t,e,n,i,r){var o=n._reactRootContainer;if(o){var a=o;if(typeof r=="function"){var u=r;r=function(){var h=Lh(a);u.call(h)}}md(e,a,t,r)}else a=RA(n,e,t,r,i);return Lh(a)}L0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ml(e.pendingLanes);n!==0&&(Dm(e,n|1),rn(e,ot()),!(Ne&6)&&(ea=ot()+500,Ur()))}break;case 13:Ss(function(){var i=Ui(t,1);if(i!==null){var r=qt();Hn(i,t,1,r)}}),mg(t,1)}};Vm=function(t){if(t.tag===13){var e=Ui(t,134217728);if(e!==null){var n=qt();Hn(e,t,134217728,n)}mg(t,134217728)}};N0=function(t){if(t.tag===13){var e=Ar(t),n=Ui(t,e);if(n!==null){var i=qt();Hn(n,t,e,i)}mg(t,e)}};M0=function(){return Ve};O0=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};cp=function(t,e,n){switch(e){case"input":if(ip(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=ld(i);if(!r)throw Error(J(90));d0(i),ip(i,r)}}}break;case"textarea":p0(t,n);break;case"select":e=n.value,e!=null&&Vo(t,!!n.multiple,e,!1)}};T0=cg;E0=Ss;var LA={usingClientEntryPoint:!1,Events:[vu,bo,ld,y0,w0,cg]},ul={findFiberByHostInstance:hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NA={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=x0(t),t===null?null:t.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{rd=Lc.inject(NA),ai=Lc}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LA;_n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_g(e))throw Error(J(200));return bA(t,e,null,n)};_n.createRoot=function(t,e){if(!_g(t))throw Error(J(299));var n=!1,i="",r=iE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=pg(t,1,!1,null,null,n,!1,i,r),t[ji]=e.current,Gl(t.nodeType===8?t.parentNode:t),new gg(e)};_n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=x0(e),t=t===null?null:t.stateNode,t};_n.flushSync=function(t){return Ss(t)};_n.hydrate=function(t,e,n){if(!_d(e))throw Error(J(200));return vd(null,t,e,!0,n)};_n.hydrateRoot=function(t,e,n){if(!_g(t))throw Error(J(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",a=iE;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=nE(e,null,t,1,n??null,r,!1,o,a),t[ji]=e.current,Gl(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new gd(e)};_n.render=function(t,e,n){if(!_d(e))throw Error(J(200));return vd(null,t,e,!1,n)};_n.unmountComponentAtNode=function(t){if(!_d(t))throw Error(J(40));return t._reactRootContainer?(Ss(function(){vd(null,null,t,!1,function(){t._reactRootContainer=null,t[ji]=null})}),!0):!1};_n.unstable_batchedUpdates=cg;_n.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!_d(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return vd(t,e,n,!1,i)};_n.version="18.3.1-next-f1338f8080-20240426";function rE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rE)}catch(t){console.error(t)}}rE(),r0.exports=_n;var sE=r0.exports,sy=sE;Qf.createRoot=sy.createRoot,Qf.hydrateRoot=sy.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nu(){return nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},nu.apply(this,arguments)}var yr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(yr||(yr={}));const oy="popstate";function MA(t){t===void 0&&(t={});function e(i,r){let{pathname:o,search:a,hash:u}=i.location;return $p("",{pathname:o,search:a,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Nh(r)}return DA(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OA(){return Math.random().toString(36).substr(2,8)}function ay(t,e){return{usr:t.state,key:t.key,idx:e}}function $p(t,e,n,i){return n===void 0&&(n=null),nu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ha(e):e,{state:n,key:e&&e.key||i||OA()})}function Nh(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ha(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function DA(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,a=r.history,u=yr.Pop,h=null,f=m();f==null&&(f=0,a.replaceState(nu({},a.state,{idx:f}),""));function m(){return(a.state||{idx:null}).idx}function _(){u=yr.Pop;let z=m(),I=z==null?null:z-f;f=z,h&&h({action:u,location:k.location,delta:I})}function w(z,I){u=yr.Push;let T=$p(k.location,z,I);f=m()+1;let E=ay(T,f),V=k.createHref(T);try{a.pushState(E,"",V)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;r.location.assign(V)}o&&h&&h({action:u,location:k.location,delta:1})}function P(z,I){u=yr.Replace;let T=$p(k.location,z,I);f=m();let E=ay(T,f),V=k.createHref(T);a.replaceState(E,"",V),o&&h&&h({action:u,location:k.location,delta:0})}function S(z){let I=r.location.origin!=="null"?r.location.origin:r.location.href,T=typeof z=="string"?z:Nh(z);return T=T.replace(/ $/,"%20"),at(I,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,I)}let k={get action(){return u},get location(){return t(r,a)},listen(z){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(oy,_),h=z,()=>{r.removeEventListener(oy,_),h=null}},createHref(z){return e(r,z)},createURL:S,encodeLocation(z){let I=S(z);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:w,replace:P,go(z){return a.go(z)}};return k}var ly;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ly||(ly={}));function VA(t,e,n){return n===void 0&&(n="/"),zA(t,e,n)}function zA(t,e,n,i){let r=typeof e=="string"?ha(e):e,o=vg(r.pathname||"/",n);if(o==null)return null;let a=aE(t);FA(a);let u=null;for(let h=0;u==null&&h<a.length;++h){let f=YA(o);u=KA(a[h],f)}return u}function aE(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(o,a,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};h.relativePath.startsWith("/")&&(at(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let f=kr([i,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(at(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),aE(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:qA(f,o.index),routesMeta:m})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))r(o,a);else for(let h of lE(o.path))r(o,a,h)}),e}function lE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let a=lE(i.join("/")),u=[];return u.push(...a.map(h=>h===""?o:[o,h].join("/"))),r&&u.push(...a),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function FA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GA(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const BA=/^:[\w-]+$/,jA=3,UA=2,$A=1,HA=10,WA=-2,uy=t=>t==="*";function qA(t,e){let n=t.split("/"),i=n.length;return n.some(uy)&&(i+=WA),e&&(i+=UA),n.filter(r=>!uy(r)).reduce((r,o)=>r+(BA.test(o)?jA:o===""?$A:HA),i)}function GA(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function KA(t,e,n){let{routesMeta:i}=t,r={},o="/",a=[];for(let u=0;u<i.length;++u){let h=i[u],f=u===i.length-1,m=o==="/"?e:e.slice(o.length)||"/",_=ZA({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),w=h.route;if(!_)return null;Object.assign(r,_.params),a.push({params:r,pathname:kr([o,_.pathname]),pathnameBase:tb(kr([o,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(o=kr([o,_.pathnameBase]))}return a}function ZA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=QA(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],a=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,m,_)=>{let{paramName:w,isOptional:P}=m;if(w==="*"){let k=u[_]||"";a=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const S=u[_];return P&&!S?f[w]=void 0:f[w]=(S||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:a,pattern:t}}function QA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),oE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function YA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function XA(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?ha(t):t;return{pathname:n?n.startsWith("/")?n:JA(n,e):e,search:nb(i),hash:ib(r)}}function JA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Af(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yg(t,e){let n=eb(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function wg(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=ha(t):(r=nu({},t),at(!r.pathname||!r.pathname.includes("?"),Af("?","pathname","search",r)),at(!r.pathname||!r.pathname.includes("#"),Af("#","pathname","hash",r)),at(!r.search||!r.search.includes("#"),Af("#","search","hash",r)));let o=t===""||r.pathname==="",a=o?"/":r.pathname,u;if(a==null)u=n;else{let _=e.length-1;if(!i&&a.startsWith("..")){let w=a.split("/");for(;w[0]==="..";)w.shift(),_-=1;r.pathname=w.join("/")}u=_>=0?e[_]:"/"}let h=XA(r,u),f=a&&a!=="/"&&a.endsWith("/"),m=(o||a===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}const kr=t=>t.join("/").replace(/\/\/+/g,"/"),tb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ib=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uE=["post","put","patch","delete"];new Set(uE);const sb=["get",...uE];new Set(sb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iu(){return iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},iu.apply(this,arguments)}const Tg=U.createContext(null),ob=U.createContext(null),$r=U.createContext(null),yd=U.createContext(null),Zi=U.createContext({outlet:null,matches:[],isDataRoute:!1}),cE=U.createContext(null);function ab(t,e){let{relative:n}=e===void 0?{}:e;da()||at(!1);let{basename:i,navigator:r}=U.useContext($r),{hash:o,pathname:a,search:u}=dE(t,{relative:n}),h=a;return i!=="/"&&(h=a==="/"?i:kr([i,a])),r.createHref({pathname:h,search:u,hash:o})}function da(){return U.useContext(yd)!=null}function wu(){return da()||at(!1),U.useContext(yd).location}function hE(t){U.useContext($r).static||U.useLayoutEffect(t)}function Os(){let{isDataRoute:t}=U.useContext(Zi);return t?Tb():lb()}function lb(){da()||at(!1);let t=U.useContext(Tg),{basename:e,future:n,navigator:i}=U.useContext($r),{matches:r}=U.useContext(Zi),{pathname:o}=wu(),a=JSON.stringify(yg(r,n.v7_relativeSplatPath)),u=U.useRef(!1);return hE(()=>{u.current=!0}),U.useCallback(function(f,m){if(m===void 0&&(m={}),!u.current)return;if(typeof f=="number"){i.go(f);return}let _=wg(f,JSON.parse(a),o,m.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:kr([e,_.pathname])),(m.replace?i.replace:i.push)(_,m.state,m)},[e,i,a,o,t])}function ub(){let{matches:t}=U.useContext(Zi),e=t[t.length-1];return e?e.params:{}}function dE(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=U.useContext($r),{matches:r}=U.useContext(Zi),{pathname:o}=wu(),a=JSON.stringify(yg(r,i.v7_relativeSplatPath));return U.useMemo(()=>wg(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function cb(t,e){return hb(t,e)}function hb(t,e,n,i){da()||at(!1);let{navigator:r}=U.useContext($r),{matches:o}=U.useContext(Zi),a=o[o.length-1],u=a?a.params:{};a&&a.pathname;let h=a?a.pathnameBase:"/";a&&a.route;let f=wu(),m;if(e){var _;let z=typeof e=="string"?ha(e):e;h==="/"||(_=z.pathname)!=null&&_.startsWith(h)||at(!1),m=z}else m=f;let w=m.pathname||"/",P=w;if(h!=="/"){let z=h.replace(/^\//,"").split("/");P="/"+w.replace(/^\//,"").split("/").slice(z.length).join("/")}let S=VA(t,{pathname:P}),k=gb(S&&S.map(z=>Object.assign({},z,{params:Object.assign({},u,z.params),pathname:kr([h,r.encodeLocation?r.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?h:kr([h,r.encodeLocation?r.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),o,n,i);return e&&k?U.createElement(yd.Provider,{value:{location:iu({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:yr.Pop}},k):k}function db(){let t=wb(),e=rb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:r},n):null,null)}const fb=U.createElement(db,null);class pb extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(Zi.Provider,{value:this.props.routeContext},U.createElement(cE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mb(t){let{routeContext:e,match:n,children:i}=t,r=U.useContext(Tg);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(Zi.Provider,{value:e},i)}function gb(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=i)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=(r=n)==null?void 0:r.errors;if(u!=null){let m=a.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);m>=0||at(!1),a=a.slice(0,Math.min(a.length,m+1))}let h=!1,f=-1;if(n&&i&&i.v7_partialHydration)for(let m=0;m<a.length;m++){let _=a[m];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=m),_.route.id){let{loaderData:w,errors:P}=n,S=_.route.loader&&w[_.route.id]===void 0&&(!P||P[_.route.id]===void 0);if(_.route.lazy||S){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,_,w)=>{let P,S=!1,k=null,z=null;n&&(P=u&&_.route.id?u[_.route.id]:void 0,k=_.route.errorElement||fb,h&&(f<0&&w===0?(Eb("route-fallback"),S=!0,z=null):f===w&&(S=!0,z=_.route.hydrateFallbackElement||null)));let I=e.concat(a.slice(0,w+1)),T=()=>{let E;return P?E=k:S?E=z:_.route.Component?E=U.createElement(_.route.Component,null):_.route.element?E=_.route.element:E=m,U.createElement(mb,{match:_,routeContext:{outlet:m,matches:I,isDataRoute:n!=null},children:E})};return n&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?U.createElement(pb,{location:n.location,revalidation:n.revalidation,component:k,error:P,children:T(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):T()},null)}var fE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fE||{}),pE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pE||{});function _b(t){let e=U.useContext(Tg);return e||at(!1),e}function vb(t){let e=U.useContext(ob);return e||at(!1),e}function yb(t){let e=U.useContext(Zi);return e||at(!1),e}function mE(t){let e=yb(),n=e.matches[e.matches.length-1];return n.route.id||at(!1),n.route.id}function wb(){var t;let e=U.useContext(cE),n=vb(),i=mE();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function Tb(){let{router:t}=_b(fE.UseNavigateStable),e=mE(pE.UseNavigateStable),n=U.useRef(!1);return hE(()=>{n.current=!0}),U.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,iu({fromRouteId:e},o)))},[t,e])}const cy={};function Eb(t,e,n){cy[t]||(cy[t]=!0)}function Sb(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ib(t){let{to:e,replace:n,state:i,relative:r}=t;da()||at(!1);let{future:o,static:a}=U.useContext($r),{matches:u}=U.useContext(Zi),{pathname:h}=wu(),f=Os(),m=wg(e,yg(u,o.v7_relativeSplatPath),h,r==="path"),_=JSON.stringify(m);return U.useEffect(()=>f(JSON.parse(_),{replace:n,state:i,relative:r}),[f,_,r,n,i]),null}function bi(t){at(!1)}function xb(t){let{basename:e="/",children:n=null,location:i,navigationType:r=yr.Pop,navigator:o,static:a=!1,future:u}=t;da()&&at(!1);let h=e.replace(/^\/*/,"/"),f=U.useMemo(()=>({basename:h,navigator:o,static:a,future:iu({v7_relativeSplatPath:!1},u)}),[h,u,o,a]);typeof i=="string"&&(i=ha(i));let{pathname:m="/",search:_="",hash:w="",state:P=null,key:S="default"}=i,k=U.useMemo(()=>{let z=vg(m,h);return z==null?null:{location:{pathname:z,search:_,hash:w,state:P,key:S},navigationType:r}},[h,m,_,w,P,S,r]);return k==null?null:U.createElement($r.Provider,{value:f},U.createElement(yd.Provider,{children:n,value:k}))}function Pb(t){let{children:e,location:n}=t;return cb(Hp(e),n)}new Promise(()=>{});function Hp(t,e){e===void 0&&(e=[]);let n=[];return U.Children.forEach(t,(i,r)=>{if(!U.isValidElement(i))return;let o=[...e,r];if(i.type===U.Fragment){n.push.apply(n,Hp(i.props.children,o));return}i.type!==bi&&at(!1),!i.props.index||!i.props.children||at(!1);let a={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Hp(i.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Wp.apply(this,arguments)}function Cb(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function Ab(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bb(t,e){return t.button===0&&(!e||e==="_self")&&!Ab(t)}const kb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Rb="6";try{window.__reactRouterVersion=Rb}catch{}const Lb="startTransition",hy=SP[Lb];function Nb(t){let{basename:e,children:n,future:i,window:r}=t,o=U.useRef();o.current==null&&(o.current=MA({window:r,v5Compat:!0}));let a=o.current,[u,h]=U.useState({action:a.action,location:a.location}),{v7_startTransition:f}=i||{},m=U.useCallback(_=>{f&&hy?hy(()=>h(_)):h(_)},[h,f]);return U.useLayoutEffect(()=>a.listen(m),[a,m]),U.useEffect(()=>Sb(i),[i]),U.createElement(xb,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:a,future:i})}const Mb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ob=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wt=U.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:o,replace:a,state:u,target:h,to:f,preventScrollReset:m,viewTransition:_}=e,w=Cb(e,kb),{basename:P}=U.useContext($r),S,k=!1;if(typeof f=="string"&&Ob.test(f)&&(S=f,Mb))try{let E=new URL(window.location.href),V=f.startsWith("//")?new URL(E.protocol+f):new URL(f),j=vg(V.pathname,P);V.origin===E.origin&&j!=null?f=j+V.search+V.hash:k=!0}catch{}let z=ab(f,{relative:r}),I=Db(f,{replace:a,state:u,target:h,preventScrollReset:m,relative:r,viewTransition:_});function T(E){i&&i(E),E.defaultPrevented||I(E)}return U.createElement("a",Wp({},w,{href:S||z,onClick:k||o?i:T,ref:n,target:h}))});var dy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(dy||(dy={}));var fy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fy||(fy={}));function Db(t,e){let{target:n,replace:i,state:r,preventScrollReset:o,relative:a,viewTransition:u}=e===void 0?{}:e,h=Os(),f=wu(),m=dE(t,{relative:a});return U.useCallback(_=>{if(bb(_,n)){_.preventDefault();let w=i!==void 0?i:Nh(f)===Nh(m);h(t,{replace:w,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[f,h,m,i,r,n,t,o,a,u])}function py(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Eg(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:py(e[i])&&py(t[i])&&Object.keys(e[i]).length>0&&Eg(t[i],e[i])})}const gE={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ui(){const t=typeof document<"u"?document:{};return Eg(t,gE),t}const Vb={document:gE,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Zt(){const t=typeof window<"u"?window:{};return Eg(t,Vb),t}function zb(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function Fb(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function _E(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Mh(){return Date.now()}function Bb(t){const e=Zt();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function jb(t,e){e===void 0&&(e="x");const n=Zt();let i,r,o;const a=Bb(t);return n.WebKitCSSMatrix?(r=a.transform||a.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(u=>u.replace(",",".")).join(", ")),o=new n.WebKitCSSMatrix(r==="none"?"":r)):(o=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=o.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?r=o.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(n.WebKitCSSMatrix?r=o.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function Nc(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Ub(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function hn(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const i=n<0||arguments.length<=n?void 0:arguments[n];if(i!=null&&!Ub(i)){const r=Object.keys(Object(i)).filter(o=>e.indexOf(o)<0);for(let o=0,a=r.length;o<a;o+=1){const u=r[o],h=Object.getOwnPropertyDescriptor(i,u);h!==void 0&&h.enumerable&&(Nc(t[u])&&Nc(i[u])?i[u].__swiper__?t[u]=i[u]:hn(t[u],i[u]):!Nc(t[u])&&Nc(i[u])?(t[u]={},i[u].__swiper__?t[u]=i[u]:hn(t[u],i[u])):t[u]=i[u])}}}return t}function Mc(t,e,n){t.style.setProperty(e,n)}function vE(t){let{swiper:e,targetPosition:n,side:i}=t;const r=Zt(),o=-e.translate;let a=null,u;const h=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const f=n>o?"next":"prev",m=(w,P)=>f==="next"&&w>=P||f==="prev"&&w<=P,_=()=>{u=new Date().getTime(),a===null&&(a=u);const w=Math.max(Math.min((u-a)/h,1),0),P=.5-Math.cos(w*Math.PI)/2;let S=o+P*(n-o);if(m(S,n)&&(S=n),e.wrapperEl.scrollTo({[i]:S}),m(S,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:S})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(_)};_()}function si(t,e){e===void 0&&(e="");const n=Zt(),i=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&i.push(...t.assignedElements()),e?i.filter(r=>r.matches(e)):i}function $b(t,e){const n=[e];for(;n.length>0;){const i=n.shift();if(t===i)return!0;n.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function Hb(t,e){const n=Zt();let i=e.contains(t);return!i&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(t),i||(i=$b(t,e))),i}function Oh(t){try{console.warn(t);return}catch{}}function Dh(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:zb(e)),n}function Wb(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function qb(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function wr(t,e){return Zt().getComputedStyle(t,null).getPropertyValue(e)}function Vh(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function yE(t,e){const n=[];let i=t.parentElement;for(;i;)e?i.matches(e)&&n.push(i):n.push(i),i=i.parentElement;return n}function qp(t,e,n){const i=Zt();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Et(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function zh(t,e){e===void 0&&(e=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let bf;function Gb(){const t=Zt(),e=ui();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function wE(){return bf||(bf=Gb()),bf}let kf;function Kb(t){let{userAgent:e}=t===void 0?{}:t;const n=wE(),i=Zt(),r=i.navigator.platform,o=e||i.navigator.userAgent,a={ios:!1,android:!1},u=i.screen.width,h=i.screen.height,f=o.match(/(Android);?[\s\/]+([\d.]+)?/);let m=o.match(/(iPad).*OS\s([\d_]+)/);const _=o.match(/(iPod)(.*OS\s([\d_]+))?/),w=!m&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),P=r==="Win32";let S=r==="MacIntel";const k=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!m&&S&&n.touch&&k.indexOf(`${u}x${h}`)>=0&&(m=o.match(/(Version)\/([\d.]+)/),m||(m=[0,1,"13_0_0"]),S=!1),f&&!P&&(a.os="android",a.android=!0),(m||w||_)&&(a.os="ios",a.ios=!0),a}function TE(t){return t===void 0&&(t={}),kf||(kf=Kb(t)),kf}let Rf;function Zb(){const t=Zt(),e=TE();let n=!1;function i(){const u=t.navigator.userAgent.toLowerCase();return u.indexOf("safari")>=0&&u.indexOf("chrome")<0&&u.indexOf("android")<0}if(i()){const u=String(t.navigator.userAgent);if(u.includes("Version/")){const[h,f]=u.split("Version/")[1].split(" ")[0].split(".").map(m=>Number(m));n=h<16||h===16&&f<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),o=i(),a=o||r&&e.ios;return{isSafari:n||o,needPerspectiveFix:n,need3dFix:a,isWebView:r}}function EE(){return Rf||(Rf=Zb()),Rf}function Qb(t){let{swiper:e,on:n,emit:i}=t;const r=Zt();let o=null,a=null;const u=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},h=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(_=>{a=r.requestAnimationFrame(()=>{const{width:w,height:P}=e;let S=w,k=P;_.forEach(z=>{let{contentBoxSize:I,contentRect:T,target:E}=z;E&&E!==e.el||(S=T?T.width:(I[0]||I).inlineSize,k=T?T.height:(I[0]||I).blockSize)}),(S!==w||k!==P)&&u()})}),o.observe(e.el))},f=()=>{a&&r.cancelAnimationFrame(a),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},m=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){h();return}r.addEventListener("resize",u),r.addEventListener("orientationchange",m)}),n("destroy",()=>{f(),r.removeEventListener("resize",u),r.removeEventListener("orientationchange",m)})}function Yb(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const o=[],a=Zt(),u=function(m,_){_===void 0&&(_={});const w=a.MutationObserver||a.WebkitMutationObserver,P=new w(S=>{if(e.__preventObserver__)return;if(S.length===1){r("observerUpdate",S[0]);return}const k=function(){r("observerUpdate",S[0])};a.requestAnimationFrame?a.requestAnimationFrame(k):a.setTimeout(k,0)});P.observe(m,{attributes:typeof _.attributes>"u"?!0:_.attributes,childList:e.isElement||(typeof _.childList>"u"?!0:_).childList,characterData:typeof _.characterData>"u"?!0:_.characterData}),o.push(P)},h=()=>{if(e.params.observer){if(e.params.observeParents){const m=yE(e.hostEl);for(let _=0;_<m.length;_+=1)u(m[_])}u(e.hostEl,{childList:e.params.observeSlideChildren}),u(e.wrapperEl,{attributes:!1})}},f=()=>{o.forEach(m=>{m.disconnect()}),o.splice(0,o.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",h),i("destroy",f)}var Xb={on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=n?"unshift":"push";return t.split(" ").forEach(o=>{i.eventsListeners[o]||(i.eventsListeners[o]=[]),i.eventsListeners[o][r](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(){i.off(t,r),r.__emitterProxy&&delete r.__emitterProxy;for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];e.apply(i,a)}return r.__emitterProxy=e,i.on(t,r,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,o)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[i].splice(o,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,i;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],n=o.slice(1,o.length),i=t):(e=o[0].events,n=o[0].data,i=o[0].context||t),n.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(h=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(f=>{f.apply(i,[h,...n])}),t.eventsListeners&&t.eventsListeners[h]&&t.eventsListeners[h].forEach(f=>{f.apply(i,n)})}),t}};function Jb(){const t=this;let e,n;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=i.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(wr(i,"padding-left")||0,10)-parseInt(wr(i,"padding-right")||0,10),n=n-parseInt(wr(i,"padding-top")||0,10)-parseInt(wr(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function e1(){const t=this;function e(R,O){return parseFloat(R.getPropertyValue(t.getDirectionLabel(O))||0)}const n=t.params,{wrapperEl:i,slidesEl:r,size:o,rtlTranslate:a,wrongRTL:u}=t,h=t.virtual&&n.virtual.enabled,f=h?t.virtual.slides.length:t.slides.length,m=si(r,`.${t.params.slideClass}, swiper-slide`),_=h?t.virtual.slides.length:m.length;let w=[];const P=[],S=[];let k=n.slidesOffsetBefore;typeof k=="function"&&(k=n.slidesOffsetBefore.call(t));let z=n.slidesOffsetAfter;typeof z=="function"&&(z=n.slidesOffsetAfter.call(t));const I=t.snapGrid.length,T=t.slidesGrid.length;let E=n.spaceBetween,V=-k,j=0,W=0;if(typeof o>"u")return;typeof E=="string"&&E.indexOf("%")>=0?E=parseFloat(E.replace("%",""))/100*o:typeof E=="string"&&(E=parseFloat(E)),t.virtualSize=-E,m.forEach(R=>{a?R.style.marginLeft="":R.style.marginRight="",R.style.marginBottom="",R.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Mc(i,"--swiper-centered-offset-before",""),Mc(i,"--swiper-centered-offset-after",""));const N=n.grid&&n.grid.rows>1&&t.grid;N?t.grid.initSlides(m):t.grid&&t.grid.unsetSlides();let C;const A=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(R=>typeof n.breakpoints[R].slidesPerView<"u").length>0;for(let R=0;R<_;R+=1){C=0;let O;if(m[R]&&(O=m[R]),N&&t.grid.updateSlide(R,O,m),!(m[R]&&wr(O,"display")==="none")){if(n.slidesPerView==="auto"){A&&(m[R].style[t.getDirectionLabel("width")]="");const F=getComputedStyle(O),D=O.style.transform,ce=O.style.webkitTransform;if(D&&(O.style.transform="none"),ce&&(O.style.webkitTransform="none"),n.roundLengths)C=t.isHorizontal()?qp(O,"width"):qp(O,"height");else{const Te=e(F,"width"),re=e(F,"padding-left"),Pe=e(F,"padding-right"),q=e(F,"margin-left"),ee=e(F,"margin-right"),Z=F.getPropertyValue("box-sizing");if(Z&&Z==="border-box")C=Te+q+ee;else{const{clientWidth:le,offsetWidth:pe}=O;C=Te+re+Pe+q+ee+(pe-le)}}D&&(O.style.transform=D),ce&&(O.style.webkitTransform=ce),n.roundLengths&&(C=Math.floor(C))}else C=(o-(n.slidesPerView-1)*E)/n.slidesPerView,n.roundLengths&&(C=Math.floor(C)),m[R]&&(m[R].style[t.getDirectionLabel("width")]=`${C}px`);m[R]&&(m[R].swiperSlideSize=C),S.push(C),n.centeredSlides?(V=V+C/2+j/2+E,j===0&&R!==0&&(V=V-o/2-E),R===0&&(V=V-o/2-E),Math.abs(V)<1/1e3&&(V=0),n.roundLengths&&(V=Math.floor(V)),W%n.slidesPerGroup===0&&w.push(V),P.push(V)):(n.roundLengths&&(V=Math.floor(V)),(W-Math.min(t.params.slidesPerGroupSkip,W))%t.params.slidesPerGroup===0&&w.push(V),P.push(V),V=V+C+E),t.virtualSize+=C+E,j=C,W+=1}}if(t.virtualSize=Math.max(t.virtualSize,o)+z,a&&u&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width=`${t.virtualSize+E}px`),n.setWrapperSize&&(i.style[t.getDirectionLabel("width")]=`${t.virtualSize+E}px`),N&&t.grid.updateWrapperSize(C,w),!n.centeredSlides){const R=[];for(let O=0;O<w.length;O+=1){let F=w[O];n.roundLengths&&(F=Math.floor(F)),w[O]<=t.virtualSize-o&&R.push(F)}w=R,Math.floor(t.virtualSize-o)-Math.floor(w[w.length-1])>1&&w.push(t.virtualSize-o)}if(h&&n.loop){const R=S[0]+E;if(n.slidesPerGroup>1){const O=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),F=R*n.slidesPerGroup;for(let D=0;D<O;D+=1)w.push(w[w.length-1]+F)}for(let O=0;O<t.virtual.slidesBefore+t.virtual.slidesAfter;O+=1)n.slidesPerGroup===1&&w.push(w[w.length-1]+R),P.push(P[P.length-1]+R),t.virtualSize+=R}if(w.length===0&&(w=[0]),E!==0){const R=t.isHorizontal()&&a?"marginLeft":t.getDirectionLabel("marginRight");m.filter((O,F)=>!n.cssMode||n.loop?!0:F!==m.length-1).forEach(O=>{O.style[R]=`${E}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let R=0;S.forEach(F=>{R+=F+(E||0)}),R-=E;const O=R>o?R-o:0;w=w.map(F=>F<=0?-k:F>O?O+z:F)}if(n.centerInsufficientSlides){let R=0;S.forEach(F=>{R+=F+(E||0)}),R-=E;const O=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(R+O<o){const F=(o-R-O)/2;w.forEach((D,ce)=>{w[ce]=D-F}),P.forEach((D,ce)=>{P[ce]=D+F})}}if(Object.assign(t,{slides:m,snapGrid:w,slidesGrid:P,slidesSizesGrid:S}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Mc(i,"--swiper-centered-offset-before",`${-w[0]}px`),Mc(i,"--swiper-centered-offset-after",`${t.size/2-S[S.length-1]/2}px`);const R=-t.snapGrid[0],O=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(F=>F+R),t.slidesGrid=t.slidesGrid.map(F=>F+O)}if(_!==f&&t.emit("slidesLengthChange"),w.length!==I&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),P.length!==T&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!h&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const R=`${n.containerModifierClass}backface-hidden`,O=t.el.classList.contains(R);_<=n.maxBackfaceHiddenSlides?O||t.el.classList.add(R):O&&t.el.classList.remove(R)}}function t1(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let r=0,o;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=u=>i?e.slides[e.getSlideIndexByData(u)]:e.slides[u];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(u=>{n.push(u)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const u=e.activeIndex+o;if(u>e.slides.length&&!i)break;n.push(a(u))}else n.push(a(e.activeIndex));for(o=0;o<n.length;o+=1)if(typeof n[o]<"u"){const u=n[o].offsetHeight;r=u>r?u:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function n1(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()}const my=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function i1(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:i,rtlTranslate:r,snapGrid:o}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;r&&(a=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let u=n.spaceBetween;typeof u=="string"&&u.indexOf("%")>=0?u=parseFloat(u.replace("%",""))/100*e.size:typeof u=="string"&&(u=parseFloat(u));for(let h=0;h<i.length;h+=1){const f=i[h];let m=f.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(m-=i[0].swiperSlideOffset);const _=(a+(n.centeredSlides?e.minTranslate():0)-m)/(f.swiperSlideSize+u),w=(a-o[0]+(n.centeredSlides?e.minTranslate():0)-m)/(f.swiperSlideSize+u),P=-(a-m),S=P+e.slidesSizesGrid[h],k=P>=0&&P<=e.size-e.slidesSizesGrid[h],z=P>=0&&P<e.size-1||S>1&&S<=e.size||P<=0&&S>=e.size;z&&(e.visibleSlides.push(f),e.visibleSlidesIndexes.push(h)),my(f,z,n.slideVisibleClass),my(f,k,n.slideFullyVisibleClass),f.progress=r?-_:_,f.originalProgress=r?-w:w}}function r1(t){const e=this;if(typeof t>"u"){const m=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*m||0}const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:o,isEnd:a,progressLoop:u}=e;const h=o,f=a;if(i===0)r=0,o=!0,a=!0;else{r=(t-e.minTranslate())/i;const m=Math.abs(t-e.minTranslate())<1,_=Math.abs(t-e.maxTranslate())<1;o=m||r<=0,a=_||r>=1,m&&(r=0),_&&(r=1)}if(n.loop){const m=e.getSlideIndexByData(0),_=e.getSlideIndexByData(e.slides.length-1),w=e.slidesGrid[m],P=e.slidesGrid[_],S=e.slidesGrid[e.slidesGrid.length-1],k=Math.abs(t);k>=w?u=(k-w)/S:u=(k+S-P)/S,u>1&&(u-=1)}Object.assign(e,{progress:r,progressLoop:u,isBeginning:o,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),o&&!h&&e.emit("reachBeginning toEdge"),a&&!f&&e.emit("reachEnd toEdge"),(h&&!o||f&&!a)&&e.emit("fromEdge"),e.emit("progress",r)}const Lf=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function s1(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:r}=t,o=t.virtual&&n.virtual.enabled,a=t.grid&&n.grid&&n.grid.rows>1,u=_=>si(i,`.${n.slideClass}${_}, swiper-slide${_}`)[0];let h,f,m;if(o)if(n.loop){let _=r-t.virtual.slidesBefore;_<0&&(_=t.virtual.slides.length+_),_>=t.virtual.slides.length&&(_-=t.virtual.slides.length),h=u(`[data-swiper-slide-index="${_}"]`)}else h=u(`[data-swiper-slide-index="${r}"]`);else a?(h=e.find(_=>_.column===r),m=e.find(_=>_.column===r+1),f=e.find(_=>_.column===r-1)):h=e[r];h&&(a||(m=qb(h,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!m&&(m=e[0]),f=Wb(h,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!f===0&&(f=e[e.length-1]))),e.forEach(_=>{Lf(_,_===h,n.slideActiveClass),Lf(_,_===m,n.slideNextClass),Lf(_,_===f,n.slidePrevClass)}),t.emitSlidesClasses()}const Jc=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(n());if(i){let r=i.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},Nf=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Gp=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=r,u=[a-e];u.push(...Array.from({length:e}).map((h,f)=>a+i+f)),t.slides.forEach((h,f)=>{u.includes(h.column)&&Nf(t,f)});return}const o=r+i-1;if(t.params.rewind||t.params.loop)for(let a=r-e;a<=o+e;a+=1){const u=(a%n+n)%n;(u<r||u>o)&&Nf(t,u)}else for(let a=Math.max(r-e,0);a<=Math.min(o+e,n-1);a+=1)a!==r&&(a>o||a<r)&&Nf(t,a)};function o1(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let r;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?i>=e[o]&&i<e[o+1]-(e[o+1]-e[o])/2?r=o:i>=e[o]&&i<e[o+1]&&(r=o+1):i>=e[o]&&(r=o);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function a1(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:o,realIndex:a,snapIndex:u}=e;let h=t,f;const m=P=>{let S=P-e.virtual.slidesBefore;return S<0&&(S=e.virtual.slides.length+S),S>=e.virtual.slides.length&&(S-=e.virtual.slides.length),S};if(typeof h>"u"&&(h=o1(e)),i.indexOf(n)>=0)f=i.indexOf(n);else{const P=Math.min(r.slidesPerGroupSkip,h);f=P+Math.floor((h-P)/r.slidesPerGroup)}if(f>=i.length&&(f=i.length-1),h===o&&!e.params.loop){f!==u&&(e.snapIndex=f,e.emit("snapIndexChange"));return}if(h===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=m(h);return}const _=e.grid&&r.grid&&r.grid.rows>1;let w;if(e.virtual&&r.virtual.enabled&&r.loop)w=m(h);else if(_){const P=e.slides.find(k=>k.column===h);let S=parseInt(P.getAttribute("data-swiper-slide-index"),10);Number.isNaN(S)&&(S=Math.max(e.slides.indexOf(P),0)),w=Math.floor(S/r.grid.rows)}else if(e.slides[h]){const P=e.slides[h].getAttribute("data-swiper-slide-index");P?w=parseInt(P,10):w=h}else w=h;Object.assign(e,{previousSnapIndex:u,snapIndex:f,previousRealIndex:a,realIndex:w,previousIndex:o,activeIndex:h}),e.initialized&&Gp(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==w&&e.emit("realIndexChange"),e.emit("slideChange"))}function l1(t,e){const n=this,i=n.params;let r=t.closest(`.${i.slideClass}, swiper-slide`);!r&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(u=>{!r&&u.matches&&u.matches(`.${i.slideClass}, swiper-slide`)&&(r=u)});let o=!1,a;if(r){for(let u=0;u<n.slides.length;u+=1)if(n.slides[u]===r){o=!0,a=u;break}}if(r&&o)n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var u1={updateSize:Jb,updateSlides:e1,updateAutoHeight:t1,updateSlidesOffset:n1,updateSlidesProgress:i1,updateProgress:r1,updateSlidesClasses:s1,updateActiveIndex:a1,updateClickedSlide:l1};function c1(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:i,translate:r,wrapperEl:o}=e;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let a=jb(o,t);return a+=e.cssOverflowAdjustment(),i&&(a=-a),a||0}function h1(t,e){const n=this,{rtlTranslate:i,params:r,wrapperEl:o,progress:a}=n;let u=0,h=0;const f=0;n.isHorizontal()?u=i?-t:t:h=t,r.roundLengths&&(u=Math.floor(u),h=Math.floor(h)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?u:h,r.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-u:-h:r.virtualTranslate||(n.isHorizontal()?u-=n.cssOverflowAdjustment():h-=n.cssOverflowAdjustment(),o.style.transform=`translate3d(${u}px, ${h}px, ${f}px)`);let m;const _=n.maxTranslate()-n.minTranslate();_===0?m=0:m=(t-n.minTranslate())/_,m!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function d1(){return-this.snapGrid[0]}function f1(){return-this.snapGrid[this.snapGrid.length-1]}function p1(t,e,n,i,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),i===void 0&&(i=!0);const o=this,{params:a,wrapperEl:u}=o;if(o.animating&&a.preventInteractionOnTransition)return!1;const h=o.minTranslate(),f=o.maxTranslate();let m;if(i&&t>h?m=h:i&&t<f?m=f:m=t,o.updateProgress(m),a.cssMode){const _=o.isHorizontal();if(e===0)u[_?"scrollLeft":"scrollTop"]=-m;else{if(!o.support.smoothScroll)return vE({swiper:o,targetPosition:-m,side:_?"left":"top"}),!0;u.scrollTo({[_?"left":"top"]:-m,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(m),n&&(o.emit("beforeTransitionStart",e,r),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(m),n&&(o.emit("beforeTransitionStart",e,r),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(w){!o||o.destroyed||w.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,n&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var m1={getTranslate:c1,setTranslate:h1,minTranslate:d1,maxTranslate:f1,translateTo:p1};function g1(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function SE(t){let{swiper:e,runCallbacks:n,direction:i,step:r}=t;const{activeIndex:o,previousIndex:a}=e;let u=i;u||(o>a?u="next":o<a?u="prev":u="reset"),e.emit(`transition${r}`),n&&u==="reset"?e.emit(`slideResetTransition${r}`):n&&o!==a&&(e.emit(`slideChangeTransition${r}`),u==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`))}function _1(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),SE({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function v1(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),SE({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var y1={setTransition:g1,transitionStart:_1,transitionEnd:v1};function w1(t,e,n,i,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const o=this;let a=t;a<0&&(a=0);const{params:u,snapGrid:h,slidesGrid:f,previousIndex:m,activeIndex:_,rtlTranslate:w,wrapperEl:P,enabled:S}=o;if(!S&&!i&&!r||o.destroyed||o.animating&&u.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const k=Math.min(o.params.slidesPerGroupSkip,a);let z=k+Math.floor((a-k)/o.params.slidesPerGroup);z>=h.length&&(z=h.length-1);const I=-h[z];if(u.normalizeSlideIndex)for(let N=0;N<f.length;N+=1){const C=-Math.floor(I*100),A=Math.floor(f[N]*100),R=Math.floor(f[N+1]*100);typeof f[N+1]<"u"?C>=A&&C<R-(R-A)/2?a=N:C>=A&&C<R&&(a=N+1):C>=A&&(a=N)}if(o.initialized&&a!==_&&(!o.allowSlideNext&&(w?I>o.translate&&I>o.minTranslate():I<o.translate&&I<o.minTranslate())||!o.allowSlidePrev&&I>o.translate&&I>o.maxTranslate()&&(_||0)!==a))return!1;a!==(m||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(I);let T;a>_?T="next":a<_?T="prev":T="reset";const E=o.virtual&&o.params.virtual.enabled;if(!(E&&r)&&(w&&-I===o.translate||!w&&I===o.translate))return o.updateActiveIndex(a),u.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),u.effect!=="slide"&&o.setTranslate(I),T!=="reset"&&(o.transitionStart(n,T),o.transitionEnd(n,T)),!1;if(u.cssMode){const N=o.isHorizontal(),C=w?I:-I;if(e===0)E&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),E&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{P[N?"scrollLeft":"scrollTop"]=C})):P[N?"scrollLeft":"scrollTop"]=C,E&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return vE({swiper:o,targetPosition:C,side:N?"left":"top"}),!0;P.scrollTo({[N?"left":"top"]:C,behavior:"smooth"})}return!0}const W=EE().isSafari;return E&&!r&&W&&o.isElement&&o.virtual.update(!1,!1,a),o.setTransition(e),o.setTranslate(I),o.updateActiveIndex(a),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,i),o.transitionStart(n,T),e===0?o.transitionEnd(n,T):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(C){!o||o.destroyed||C.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,T))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function T1(t,e,n,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);const o=r.grid&&r.params.grid&&r.params.grid.rows>1;let a=t;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)a=a+r.virtual.slidesBefore;else{let u;if(o){const w=a*r.params.grid.rows;u=r.slides.find(P=>P.getAttribute("data-swiper-slide-index")*1===w).column}else u=r.getSlideIndexByData(a);const h=o?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:f}=r.params;let m=r.params.slidesPerView;m==="auto"?m=r.slidesPerViewDynamic():(m=Math.ceil(parseFloat(r.params.slidesPerView,10)),f&&m%2===0&&(m=m+1));let _=h-u<m;if(f&&(_=_||u<Math.ceil(m/2)),i&&f&&r.params.slidesPerView!=="auto"&&!o&&(_=!1),_){const w=f?u<r.activeIndex?"prev":"next":u-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:w,slideTo:!0,activeSlideIndex:w==="next"?u+1:u-h+1,slideRealIndex:w==="next"?r.realIndex:void 0})}if(o){const w=a*r.params.grid.rows;a=r.slides.find(P=>P.getAttribute("data-swiper-slide-index")*1===w).column}else a=r.getSlideIndexByData(a)}return requestAnimationFrame(()=>{r.slideTo(a,e,n,i)}),r}function E1(t,e,n){e===void 0&&(e=!0);const i=this,{enabled:r,params:o,animating:a}=i;if(!r||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let u=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(u=Math.max(i.slidesPerViewDynamic("current",!0),1));const h=i.activeIndex<o.slidesPerGroupSkip?1:u,f=i.virtual&&o.virtual.enabled;if(o.loop){if(a&&!f&&o.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+h,t,e,n)}),!0}return o.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+h,t,e,n)}function S1(t,e,n){e===void 0&&(e=!0);const i=this,{params:r,snapGrid:o,slidesGrid:a,rtlTranslate:u,enabled:h,animating:f}=i;if(!h||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);const m=i.virtual&&r.virtual.enabled;if(r.loop){if(f&&!m&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const _=u?i.translate:-i.translate;function w(T){return T<0?-Math.floor(Math.abs(T)):Math.floor(T)}const P=w(_),S=o.map(T=>w(T)),k=r.freeMode&&r.freeMode.enabled;let z=o[S.indexOf(P)-1];if(typeof z>"u"&&(r.cssMode||k)){let T;o.forEach((E,V)=>{P>=E&&(T=V)}),typeof T<"u"&&(z=k?o[T]:o[T>0?T-1:T])}let I=0;if(typeof z<"u"&&(I=a.indexOf(z),I<0&&(I=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(I=I-i.slidesPerViewDynamic("previous",!0)+1,I=Math.max(I,0))),r.rewind&&i.isBeginning){const T=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(T,t,e,n)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(I,t,e,n)}),!0;return i.slideTo(I,t,e,n)}function I1(t,e,n){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof t>"u"&&(t=i.params.speed),i.slideTo(i.activeIndex,t,e,n)}function x1(t,e,n,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);let o=r.activeIndex;const a=Math.min(r.params.slidesPerGroupSkip,o),u=a+Math.floor((o-a)/r.params.slidesPerGroup),h=r.rtlTranslate?r.translate:-r.translate;if(h>=r.snapGrid[u]){const f=r.snapGrid[u],m=r.snapGrid[u+1];h-f>(m-f)*i&&(o+=r.params.slidesPerGroup)}else{const f=r.snapGrid[u-1],m=r.snapGrid[u];h-f<=(m-f)*i&&(o-=r.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,r.slidesGrid.length-1),r.slideTo(o,t,e,n)}function P1(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let r=t.getSlideIndexWhenGrid(t.clickedIndex),o;const a=t.isElement?"swiper-slide":`.${e.slideClass}`,u=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;o=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(o):r>(u?(t.slides.length-i)/2-(t.params.grid.rows-1):t.slides.length-i)?(t.loopFix(),r=t.getSlideIndex(si(n,`${a}[data-swiper-slide-index="${o}"]`)[0]),_E(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var C1={slideTo:w1,slideToLoop:T1,slideNext:E1,slidePrev:S1,slideReset:I1,slideToClosest:x1,slideToClickedSlide:P1};function A1(t,e){const n=this,{params:i,slidesEl:r}=n;if(!i.loop||n.virtual&&n.params.virtual.enabled)return;const o=()=>{si(r,`.${i.slideClass}, swiper-slide`).forEach((P,S)=>{P.setAttribute("data-swiper-slide-index",S)})},a=()=>{const w=si(r,`.${i.slideBlankClass}`);w.forEach(P=>{P.remove()}),w.length>0&&(n.recalcSlides(),n.updateSlides())},u=n.grid&&i.grid&&i.grid.rows>1;i.loopAddBlankSlides&&(i.slidesPerGroup>1||u)&&a();const h=i.slidesPerGroup*(u?i.grid.rows:1),f=n.slides.length%h!==0,m=u&&n.slides.length%i.grid.rows!==0,_=w=>{for(let P=0;P<w;P+=1){const S=n.isElement?Dh("swiper-slide",[i.slideBlankClass]):Dh("div",[i.slideClass,i.slideBlankClass]);n.slidesEl.append(S)}};if(f){if(i.loopAddBlankSlides){const w=h-n.slides.length%h;_(w),n.recalcSlides(),n.updateSlides()}else Oh("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(m){if(i.loopAddBlankSlides){const w=i.grid.rows-n.slides.length%i.grid.rows;_(w),n.recalcSlides(),n.updateSlides()}else Oh("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();n.loopFix({slideRealIndex:t,direction:i.centeredSlides?void 0:"next",initial:e})}function b1(t){let{slideRealIndex:e,slideTo:n=!0,direction:i,setTranslate:r,activeSlideIndex:o,initial:a,byController:u,byMousewheel:h}=t===void 0?{}:t;const f=this;if(!f.params.loop)return;f.emit("beforeLoopFix");const{slides:m,allowSlidePrev:_,allowSlideNext:w,slidesEl:P,params:S}=f,{centeredSlides:k,initialSlide:z}=S;if(f.allowSlidePrev=!0,f.allowSlideNext=!0,f.virtual&&S.virtual.enabled){n&&(!S.centeredSlides&&f.snapIndex===0?f.slideTo(f.virtual.slides.length,0,!1,!0):S.centeredSlides&&f.snapIndex<S.slidesPerView?f.slideTo(f.virtual.slides.length+f.snapIndex,0,!1,!0):f.snapIndex===f.snapGrid.length-1&&f.slideTo(f.virtual.slidesBefore,0,!1,!0)),f.allowSlidePrev=_,f.allowSlideNext=w,f.emit("loopFix");return}let I=S.slidesPerView;I==="auto"?I=f.slidesPerViewDynamic():(I=Math.ceil(parseFloat(S.slidesPerView,10)),k&&I%2===0&&(I=I+1));const T=S.slidesPerGroupAuto?I:S.slidesPerGroup;let E=k?Math.max(T,Math.ceil(I/2)):T;E%T!==0&&(E+=T-E%T),E+=S.loopAdditionalSlides,f.loopedSlides=E;const V=f.grid&&S.grid&&S.grid.rows>1;m.length<I+E||f.params.effect==="cards"&&m.length<I+E*2?Oh("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):V&&S.grid.fill==="row"&&Oh("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const j=[],W=[],N=V?Math.ceil(m.length/S.grid.rows):m.length,C=a&&N-z<I&&!k;let A=C?z:f.activeIndex;typeof o>"u"?o=f.getSlideIndex(m.find(re=>re.classList.contains(S.slideActiveClass))):A=o;const R=i==="next"||!i,O=i==="prev"||!i;let F=0,D=0;const Te=(V?m[o].column:o)+(k&&typeof r>"u"?-I/2+.5:0);if(Te<E){F=Math.max(E-Te,T);for(let re=0;re<E-Te;re+=1){const Pe=re-Math.floor(re/N)*N;if(V){const q=N-Pe-1;for(let ee=m.length-1;ee>=0;ee-=1)m[ee].column===q&&j.push(ee)}else j.push(N-Pe-1)}}else if(Te+I>N-E){D=Math.max(Te-(N-E*2),T),C&&(D=Math.max(D,I-N+z+1));for(let re=0;re<D;re+=1){const Pe=re-Math.floor(re/N)*N;V?m.forEach((q,ee)=>{q.column===Pe&&W.push(ee)}):W.push(Pe)}}if(f.__preventObserver__=!0,requestAnimationFrame(()=>{f.__preventObserver__=!1}),f.params.effect==="cards"&&m.length<I+E*2&&(W.includes(o)&&W.splice(W.indexOf(o),1),j.includes(o)&&j.splice(j.indexOf(o),1)),O&&j.forEach(re=>{m[re].swiperLoopMoveDOM=!0,P.prepend(m[re]),m[re].swiperLoopMoveDOM=!1}),R&&W.forEach(re=>{m[re].swiperLoopMoveDOM=!0,P.append(m[re]),m[re].swiperLoopMoveDOM=!1}),f.recalcSlides(),S.slidesPerView==="auto"?f.updateSlides():V&&(j.length>0&&O||W.length>0&&R)&&f.slides.forEach((re,Pe)=>{f.grid.updateSlide(Pe,re,f.slides)}),S.watchSlidesProgress&&f.updateSlidesOffset(),n){if(j.length>0&&O){if(typeof e>"u"){const re=f.slidesGrid[A],q=f.slidesGrid[A+F]-re;h?f.setTranslate(f.translate-q):(f.slideTo(A+Math.ceil(F),0,!1,!0),r&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-q,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-q))}else if(r){const re=V?j.length/S.grid.rows:j.length;f.slideTo(f.activeIndex+re,0,!1,!0),f.touchEventsData.currentTranslate=f.translate}}else if(W.length>0&&R)if(typeof e>"u"){const re=f.slidesGrid[A],q=f.slidesGrid[A-D]-re;h?f.setTranslate(f.translate-q):(f.slideTo(A-D,0,!1,!0),r&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-q,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-q))}else{const re=V?W.length/S.grid.rows:W.length;f.slideTo(f.activeIndex-re,0,!1,!0)}}if(f.allowSlidePrev=_,f.allowSlideNext=w,f.controller&&f.controller.control&&!u){const re={slideRealIndex:e,direction:i,setTranslate:r,activeSlideIndex:o,byController:!0};Array.isArray(f.controller.control)?f.controller.control.forEach(Pe=>{!Pe.destroyed&&Pe.params.loop&&Pe.loopFix({...re,slideTo:Pe.params.slidesPerView===S.slidesPerView?n:!1})}):f.controller.control instanceof f.constructor&&f.controller.control.params.loop&&f.controller.control.loopFix({...re,slideTo:f.controller.control.params.slidesPerView===S.slidesPerView?n:!1})}f.emit("loopFix")}function k1(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(r=>{const o=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[o]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var R1={loopCreate:A1,loopFix:b1,loopDestroy:k1};function L1(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function N1(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var M1={setGrabCursor:L1,unsetGrabCursor:N1};function O1(t,e){e===void 0&&(e=this);function n(i){if(!i||i===ui()||i===Zt())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(t);return!r&&!i.getRootNode?null:r||n(i.getRootNode().host)}return n(e)}function gy(t,e,n){const i=Zt(),{params:r}=t,o=r.edgeSwipeDetection,a=r.edgeSwipeThreshold;return o&&(n<=a||n>=i.innerWidth-a)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function D1(t){const e=this,n=ui();let i=t;i.originalEvent&&(i=i.originalEvent);const r=e.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){gy(e,i,i.targetTouches[0].pageX);return}const{params:o,touches:a,enabled:u}=e;if(!u||!o.simulateTouch&&i.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let h=i.target;if(o.touchEventsTarget==="wrapper"&&!Hb(h,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;const f=!!o.noSwipingClass&&o.noSwipingClass!=="",m=i.composedPath?i.composedPath():i.path;f&&i.target&&i.target.shadowRoot&&m&&(h=m[0]);const _=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,w=!!(i.target&&i.target.shadowRoot);if(o.noSwiping&&(w?O1(_,h):h.closest(_))){e.allowClick=!0;return}if(o.swipeHandler&&!h.closest(o.swipeHandler))return;a.currentX=i.pageX,a.currentY=i.pageY;const P=a.currentX,S=a.currentY;if(!gy(e,i,P))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=P,a.startY=S,r.touchStartTime=Mh(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(r.allowThresholdMove=!1);let k=!0;h.matches(r.focusableElements)&&(k=!1,h.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==h&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!h.matches(r.focusableElements))&&n.activeElement.blur();const z=k&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||z)&&!h.isContentEditable&&i.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function V1(t){const e=ui(),n=this,i=n.touchEventsData,{params:r,touches:o,rtlTranslate:a,enabled:u}=n;if(!u||!r.simulateTouch&&t.pointerType==="mouse")return;let h=t;if(h.originalEvent&&(h=h.originalEvent),h.type==="pointermove"&&(i.touchId!==null||h.pointerId!==i.pointerId))return;let f;if(h.type==="touchmove"){if(f=[...h.changedTouches].find(j=>j.identifier===i.touchId),!f||f.identifier!==i.touchId)return}else f=h;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",h);return}const m=f.pageX,_=f.pageY;if(h.preventedByNestedSwiper){o.startX=m,o.startY=_;return}if(!n.allowTouchMove){h.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(o,{startX:m,startY:_,currentX:m,currentY:_}),i.touchStartTime=Mh());return}if(r.touchReleaseOnEdges&&!r.loop)if(n.isVertical()){if(_<o.startY&&n.translate<=n.maxTranslate()||_>o.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else{if(a&&(m>o.startX&&-n.translate<=n.maxTranslate()||m<o.startX&&-n.translate>=n.minTranslate()))return;if(!a&&(m<o.startX&&n.translate<=n.maxTranslate()||m>o.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==h.target&&h.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&h.target===e.activeElement&&h.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",h),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=m,o.currentY=_;const w=o.currentX-o.startX,P=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(w**2+P**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let j;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?i.isScrolling=!1:w*w+P*P>=25&&(j=Math.atan2(Math.abs(P),Math.abs(w))*180/Math.PI,i.isScrolling=n.isHorizontal()?j>r.touchAngle:90-j>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",h),typeof i.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(i.startMoving=!0),i.isScrolling||h.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&h.cancelable&&h.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&h.stopPropagation();let S=n.isHorizontal()?w:P,k=n.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;r.oneWayMovement&&(S=Math.abs(S)*(a?1:-1),k=Math.abs(k)*(a?1:-1)),o.diff=S,S*=r.touchRatio,a&&(S=-S,k=-k);const z=n.touchesDirection;n.swipeDirection=S>0?"prev":"next",n.touchesDirection=k>0?"prev":"next";const I=n.params.loop&&!r.cssMode,T=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(I&&T&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const j=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(j)}i.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",h)}if(new Date().getTime(),r._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&z!==n.touchesDirection&&I&&T&&Math.abs(S)>=1){Object.assign(o,{startX:m,startY:_,currentX:m,currentY:_,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",h),i.isMoved=!0,i.currentTranslate=S+i.startTranslate;let E=!0,V=r.resistanceRatio;if(r.touchReleaseOnEdges&&(V=0),S>0?(I&&T&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(E=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+S)**V))):S<0&&(I&&T&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(E=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-S)**V))),E&&(h.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(S)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,i.currentTranslate=i.startTranslate,o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function z1(t){const e=this,n=e.touchEventsData;let i=t;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].find(j=>j.identifier===n.touchId),!r||r.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:a,touches:u,rtlTranslate:h,slidesGrid:f,enabled:m}=e;if(!m||!a.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const _=Mh(),w=_-n.touchStartTime;if(e.allowClick){const j=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(j&&j[0]||i.target,j),e.emit("tap click",i),w<300&&_-n.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(n.lastClickTime=Mh(),_E(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||u.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let P;if(a.followFinger?P=h?e.translate:-e.translate:P=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:P});return}const S=P>=-e.maxTranslate()&&!e.params.loop;let k=0,z=e.slidesSizesGrid[0];for(let j=0;j<f.length;j+=j<a.slidesPerGroupSkip?1:a.slidesPerGroup){const W=j<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof f[j+W]<"u"?(S||P>=f[j]&&P<f[j+W])&&(k=j,z=f[j+W]-f[j]):(S||P>=f[j])&&(k=j,z=f[f.length-1]-f[f.length-2])}let I=null,T=null;a.rewind&&(e.isBeginning?T=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(I=0));const E=(P-f[k])/z,V=k<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(w>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(E>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?I:k+V):e.slideTo(k)),e.swipeDirection==="prev"&&(E>1-a.longSwipesRatio?e.slideTo(k+V):T!==null&&E<0&&Math.abs(E)>a.longSwipesRatio?e.slideTo(T):e.slideTo(k))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(k+V):e.slideTo(k):(e.swipeDirection==="next"&&e.slideTo(I!==null?I:k+V),e.swipeDirection==="prev"&&e.slideTo(T!==null?T:k))}}function _y(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:o}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const u=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!u?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&o!==t.snapGrid&&t.checkOverflow()}function F1(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function B1(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r;const o=t.maxTranslate()-t.minTranslate();o===0?r=0:r=(t.translate-t.minTranslate())/o,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function j1(t){const e=this;Jc(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function U1(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const IE=(t,e)=>{const n=ui(),{params:i,el:r,wrapperEl:o,device:a}=t,u=!!i.nested,h=e==="on"?"addEventListener":"removeEventListener",f=e;!r||typeof r=="string"||(n[h]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:u}),r[h]("touchstart",t.onTouchStart,{passive:!1}),r[h]("pointerdown",t.onTouchStart,{passive:!1}),n[h]("touchmove",t.onTouchMove,{passive:!1,capture:u}),n[h]("pointermove",t.onTouchMove,{passive:!1,capture:u}),n[h]("touchend",t.onTouchEnd,{passive:!0}),n[h]("pointerup",t.onTouchEnd,{passive:!0}),n[h]("pointercancel",t.onTouchEnd,{passive:!0}),n[h]("touchcancel",t.onTouchEnd,{passive:!0}),n[h]("pointerout",t.onTouchEnd,{passive:!0}),n[h]("pointerleave",t.onTouchEnd,{passive:!0}),n[h]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[h]("click",t.onClick,!0),i.cssMode&&o[h]("scroll",t.onScroll),i.updateOnWindowResize?t[f](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",_y,!0):t[f]("observerUpdate",_y,!0),r[h]("load",t.onLoad,{capture:!0}))};function $1(){const t=this,{params:e}=t;t.onTouchStart=D1.bind(t),t.onTouchMove=V1.bind(t),t.onTouchEnd=z1.bind(t),t.onDocumentTouchStart=U1.bind(t),e.cssMode&&(t.onScroll=B1.bind(t)),t.onClick=F1.bind(t),t.onLoad=j1.bind(t),IE(t,"on")}function H1(){IE(this,"off")}var W1={attachEvents:$1,detachEvents:H1};const vy=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function q1(){const t=this,{realIndex:e,initialized:n,params:i,el:r}=t,o=i.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const a=ui(),u=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",h=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?t.el:a.querySelector(i.breakpointsBase),f=t.getBreakpoint(o,u,h);if(!f||t.currentBreakpoint===f)return;const _=(f in o?o[f]:void 0)||t.originalParams,w=vy(t,i),P=vy(t,_),S=t.params.grabCursor,k=_.grabCursor,z=i.enabled;w&&!P?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!w&&P&&(r.classList.add(`${i.containerModifierClass}grid`),(_.grid.fill&&_.grid.fill==="column"||!_.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),S&&!k?t.unsetGrabCursor():!S&&k&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(W=>{if(typeof _[W]>"u")return;const N=i[W]&&i[W].enabled,C=_[W]&&_[W].enabled;N&&!C&&t[W].disable(),!N&&C&&t[W].enable()});const I=_.direction&&_.direction!==i.direction,T=i.loop&&(_.slidesPerView!==i.slidesPerView||I),E=i.loop;I&&n&&t.changeDirection(),hn(t.params,_);const V=t.params.enabled,j=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),z&&!V?t.disable():!z&&V&&t.enable(),t.currentBreakpoint=f,t.emit("_beforeBreakpoint",_),n&&(T?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!E&&j?(t.loopCreate(e),t.updateSlides()):E&&!j&&t.loopDestroy()),t.emit("breakpoint",_)}function G1(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let i=!1;const r=Zt(),o=e==="window"?r.innerHeight:n.clientHeight,a=Object.keys(t).map(u=>{if(typeof u=="string"&&u.indexOf("@")===0){const h=parseFloat(u.substr(1));return{value:o*h,point:u}}return{value:u,point:u}});a.sort((u,h)=>parseInt(u.value,10)-parseInt(h.value,10));for(let u=0;u<a.length;u+=1){const{point:h,value:f}=a[u];e==="window"?r.matchMedia(`(min-width: ${f}px)`).matches&&(i=h):f<=n.clientWidth&&(i=h)}return i||"max"}var K1={setBreakpoint:q1,getBreakpoint:G1};function Z1(t,e){const n=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&n.push(e+r)}):typeof i=="string"&&n.push(e+i)}),n}function Q1(){const t=this,{classNames:e,params:n,rtl:i,el:r,device:o}=t,a=Z1(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),r.classList.add(...e),t.emitContainerClasses()}function Y1(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var X1={addClasses:Q1,removeClasses:Y1};function J1(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const r=t.slides.length-1,o=t.slidesGrid[r]+t.slidesSizesGrid[r]+i*2;t.isLocked=t.size>o}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var ek={checkOverflow:J1},Kp={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function tk(t,e){return function(i){i===void 0&&(i={});const r=Object.keys(i)[0],o=i[r];if(typeof o!="object"||o===null){hn(e,i);return}if(t[r]===!0&&(t[r]={enabled:!0}),r==="navigation"&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),!(r in t&&"enabled"in o)){hn(e,i);return}typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),hn(e,i)}}const Mf={eventsEmitter:Xb,update:u1,translate:m1,transition:y1,slide:C1,loop:R1,grabCursor:M1,events:W1,breakpoints:K1,checkOverflow:ek,classes:X1},Of={};let Sg=class ki{constructor(){let e,n;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?n=r[0]:[e,n]=r,n||(n={}),n=hn({},n),e&&!n.el&&(n.el=e);const a=ui();if(n.el&&typeof n.el=="string"&&a.querySelectorAll(n.el).length>1){const m=[];return a.querySelectorAll(n.el).forEach(_=>{const w=hn({},n,{el:_});m.push(new ki(w))}),m}const u=this;u.__swiper__=!0,u.support=wE(),u.device=TE({userAgent:n.userAgent}),u.browser=EE(),u.eventsListeners={},u.eventsAnyListeners=[],u.modules=[...u.__modules__],n.modules&&Array.isArray(n.modules)&&u.modules.push(...n.modules);const h={};u.modules.forEach(m=>{m({params:n,swiper:u,extendParams:tk(n,h),on:u.on.bind(u),once:u.once.bind(u),off:u.off.bind(u),emit:u.emit.bind(u)})});const f=hn({},Kp,h);return u.params=hn({},f,Of,n),u.originalParams=hn({},u.params),u.passedParams=hn({},n),u.params&&u.params.on&&Object.keys(u.params.on).forEach(m=>{u.on(m,u.params.on[m])}),u.params&&u.params.onAny&&u.onAny(u.params.onAny),Object.assign(u,{enabled:u.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return u.params.direction==="horizontal"},isVertical(){return u.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:u.params.allowSlideNext,allowSlidePrev:u.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:u.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:u.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),u.emit("_swiper"),u.params.init&&u.init(),u}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:i}=this,r=si(n,`.${i.slideClass}, swiper-slide`),o=Vh(r[0]);return Vh(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:i}=e;e.slides=si(n,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),a=(i.maxTranslate()-r)*e+r;i.translateTo(a,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);n.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const i=this,{params:r,slides:o,slidesGrid:a,slidesSizesGrid:u,size:h,activeIndex:f}=i;let m=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let _=o[f]?Math.ceil(o[f].swiperSlideSize):0,w;for(let P=f+1;P<o.length;P+=1)o[P]&&!w&&(_+=Math.ceil(o[P].swiperSlideSize),m+=1,_>h&&(w=!0));for(let P=f-1;P>=0;P-=1)o[P]&&!w&&(_+=o[P].swiperSlideSize,m+=1,_>h&&(w=!0))}else if(e==="current")for(let _=f+1;_<o.length;_+=1)(n?a[_]+u[_]-a[f]<h:a[_]-a[f]<h)&&(m+=1);else for(let _=f-1;_>=0;_-=1)a[f]-a[_]<h&&(m+=1);return m}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Jc(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const a=e.rtlTranslate?e.translate*-1:e.translate,u=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(u),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const a=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(a.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||r()}i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):si(i,r())[0];return!a&&n.params.createElements&&(a=Dh("div",n.params.wrapperClass),i.append(a),si(i,`.${n.params.slideClass}`).forEach(u=>{a.append(u)})),Object.assign(n,{el:i,wrapperEl:a,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:a,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||wr(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||wr(i,"direction")==="rtl"),wrongRTL:wr(a,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(o=>{o.complete?Jc(n,o):o.addEventListener("load",a=>{Jc(n,a.target)})}),Gp(n),n.initialized=!0,Gp(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const i=this,{params:r,el:o,wrapperEl:a,slides:u}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),a&&a.removeAttribute("style"),u&&u.length&&u.forEach(h=>{h.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),h.removeAttribute("style"),h.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(h=>{i.off(h)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),Fb(i)),i.destroyed=!0),null}static extendDefaults(e){hn(Of,e)}static get extendedDefaults(){return Of}static get defaults(){return Kp}static installModule(e){ki.prototype.__modules__||(ki.prototype.__modules__=[]);const n=ki.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>ki.installModule(n)),ki):(ki.installModule(e),ki)}};Object.keys(Mf).forEach(t=>{Object.keys(Mf[t]).forEach(e=>{Sg.prototype[e]=Mf[t][e]})});Sg.use([Qb,Yb]);const xE=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Is(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function $o(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:Is(e[i])&&Is(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:$o(t[i],e[i]):t[i]=e[i]})}function PE(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function CE(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function AE(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function bE(t){t===void 0&&(t="");const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return e.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function nk(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function ik(t){let{swiper:e,slides:n,passedParams:i,changedParams:r,nextEl:o,prevEl:a,scrollbarEl:u,paginationEl:h}=t;const f=r.filter(A=>A!=="children"&&A!=="direction"&&A!=="wrapperClass"),{params:m,pagination:_,navigation:w,scrollbar:P,virtual:S,thumbs:k}=e;let z,I,T,E,V,j,W,N;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&m.thumbs&&(!m.thumbs.swiper||m.thumbs.swiper.destroyed)&&(z=!0),r.includes("controller")&&i.controller&&i.controller.control&&m.controller&&!m.controller.control&&(I=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||h)&&(m.pagination||m.pagination===!1)&&_&&!_.el&&(T=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||u)&&(m.scrollbar||m.scrollbar===!1)&&P&&!P.el&&(E=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||a)&&(i.navigation.nextEl||o)&&(m.navigation||m.navigation===!1)&&w&&!w.prevEl&&!w.nextEl&&(V=!0);const C=A=>{e[A]&&(e[A].destroy(),A==="navigation"?(e.isElement&&(e[A].prevEl.remove(),e[A].nextEl.remove()),m[A].prevEl=void 0,m[A].nextEl=void 0,e[A].prevEl=void 0,e[A].nextEl=void 0):(e.isElement&&e[A].el.remove(),m[A].el=void 0,e[A].el=void 0))};r.includes("loop")&&e.isElement&&(m.loop&&!i.loop?j=!0:!m.loop&&i.loop?W=!0:N=!0),f.forEach(A=>{if(Is(m[A])&&Is(i[A]))Object.assign(m[A],i[A]),(A==="navigation"||A==="pagination"||A==="scrollbar")&&"enabled"in i[A]&&!i[A].enabled&&C(A);else{const R=i[A];(R===!0||R===!1)&&(A==="navigation"||A==="pagination"||A==="scrollbar")?R===!1&&C(A):m[A]=i[A]}}),f.includes("controller")&&!I&&e.controller&&e.controller.control&&m.controller&&m.controller.control&&(e.controller.control=m.controller.control),r.includes("children")&&n&&S&&m.virtual.enabled?(S.slides=n,S.update(!0)):r.includes("virtual")&&S&&m.virtual.enabled&&(n&&(S.slides=n),S.update(!0)),r.includes("children")&&n&&m.loop&&(N=!0),z&&k.init()&&k.update(!0),I&&(e.controller.control=m.controller.control),T&&(e.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-pagination"),h.part.add("pagination"),e.el.appendChild(h)),h&&(m.pagination.el=h),_.init(),_.render(),_.update()),E&&(e.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-scrollbar"),u.part.add("scrollbar"),e.el.appendChild(u)),u&&(m.scrollbar.el=u),P.init(),P.updateSize(),P.setTranslate()),V&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),zh(o,e.hostEl.constructor.nextButtonSvg),o.part.add("button-next"),e.el.appendChild(o)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),zh(a,e.hostEl.constructor.prevButtonSvg),a.part.add("button-prev"),e.el.appendChild(a))),o&&(m.navigation.nextEl=o),a&&(m.navigation.prevEl=a),w.init(),w.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&e.changeDirection(i.direction,!1),(j||N)&&e.loopDestroy(),(W||N)&&e.loopCreate(),e.update()}function rk(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},i={},r={};$o(n,Kp),n._emitClasses=!0,n.init=!1;const o={},a=xE.map(h=>h.replace(/_/,"")),u=Object.assign({},t);return Object.keys(u).forEach(h=>{typeof t[h]>"u"||(a.indexOf(h)>=0?Is(t[h])?(n[h]={},r[h]={},$o(n[h],t[h]),$o(r[h],t[h])):(n[h]=t[h],r[h]=t[h]):h.search(/on[A-Z]/)===0&&typeof t[h]=="function"?e?i[`${h[2].toLowerCase()}${h.substr(3)}`]=t[h]:n.on[`${h[2].toLowerCase()}${h.substr(3)}`]=t[h]:o[h]=t[h])}),["navigation","pagination","scrollbar"].forEach(h=>{n[h]===!0&&(n[h]={}),n[h]===!1&&delete n[h]}),{params:n,passedParams:r,rest:o,events:i}}function sk(t,e){let{el:n,nextEl:i,prevEl:r,paginationEl:o,scrollbarEl:a,swiper:u}=t;PE(e)&&i&&r&&(u.params.navigation.nextEl=i,u.originalParams.navigation.nextEl=i,u.params.navigation.prevEl=r,u.originalParams.navigation.prevEl=r),CE(e)&&o&&(u.params.pagination.el=o,u.originalParams.pagination.el=o),AE(e)&&a&&(u.params.scrollbar.el=a,u.originalParams.scrollbar.el=a),u.init(n)}function ok(t,e,n,i,r){const o=[];if(!e)return o;const a=h=>{o.indexOf(h)<0&&o.push(h)};if(n&&i){const h=i.map(r),f=n.map(r);h.join("")!==f.join("")&&a("children"),i.length!==n.length&&a("children")}return xE.filter(h=>h[0]==="_").map(h=>h.replace(/_/,"")).forEach(h=>{if(h in t&&h in e)if(Is(t[h])&&Is(e[h])){const f=Object.keys(t[h]),m=Object.keys(e[h]);f.length!==m.length?a(h):(f.forEach(_=>{t[h][_]!==e[h][_]&&a(h)}),m.forEach(_=>{t[h][_]!==e[h][_]&&a(h)}))}else t[h]!==e[h]&&a(h)}),o}const ak=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Fh(){return Fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Fh.apply(this,arguments)}function kE(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function RE(t){const e=[];return Ye.Children.toArray(t).forEach(n=>{kE(n)?e.push(n):n.props&&n.props.children&&RE(n.props.children).forEach(i=>e.push(i))}),e}function lk(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Ye.Children.toArray(t).forEach(i=>{if(kE(i))e.push(i);else if(i.props&&i.props.slot&&n[i.props.slot])n[i.props.slot].push(i);else if(i.props&&i.props.children){const r=RE(i.props.children);r.length>0?r.forEach(o=>e.push(o)):n["container-end"].push(i)}else n["container-end"].push(i)}),{slides:e,slots:n}}function uk(t,e,n){if(!n)return null;const i=m=>{let _=m;return m<0?_=e.length+m:_>=e.length&&(_=_-e.length),_},r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:o,to:a}=n,u=t.params.loop?-e.length:0,h=t.params.loop?e.length*2:e.length,f=[];for(let m=u;m<h;m+=1)m>=o&&m<=a&&f.push(e[i(m)]);return f.map((m,_)=>Ye.cloneElement(m,{swiper:t,style:r,key:m.props.virtualIndex||m.key||`slide-${_}`}))}function Ll(t,e){return typeof window>"u"?U.useEffect(t,e):U.useLayoutEffect(t,e)}const yy=U.createContext(null),ck=U.createContext(null),LE=U.forwardRef(function(t,e){let{className:n,tag:i="div",wrapperTag:r="div",children:o,onSwiper:a,...u}=t===void 0?{}:t,h=!1;const[f,m]=U.useState("swiper"),[_,w]=U.useState(null),[P,S]=U.useState(!1),k=U.useRef(!1),z=U.useRef(null),I=U.useRef(null),T=U.useRef(null),E=U.useRef(null),V=U.useRef(null),j=U.useRef(null),W=U.useRef(null),N=U.useRef(null),{params:C,passedParams:A,rest:R,events:O}=rk(u),{slides:F,slots:D}=lk(o),ce=()=>{S(!P)};Object.assign(C.on,{_containerClasses(ee,Z){m(Z)}});const Te=()=>{Object.assign(C.on,O),h=!0;const ee={...C};if(delete ee.wrapperClass,I.current=new Sg(ee),I.current.virtual&&I.current.params.virtual.enabled){I.current.virtual.slides=F;const Z={cache:!1,slides:F,renderExternal:w,renderExternalUpdate:!1};$o(I.current.params.virtual,Z),$o(I.current.originalParams.virtual,Z)}};z.current||Te(),I.current&&I.current.on("_beforeBreakpoint",ce);const re=()=>{h||!O||!I.current||Object.keys(O).forEach(ee=>{I.current.on(ee,O[ee])})},Pe=()=>{!O||!I.current||Object.keys(O).forEach(ee=>{I.current.off(ee,O[ee])})};U.useEffect(()=>()=>{I.current&&I.current.off("_beforeBreakpoint",ce)}),U.useEffect(()=>{!k.current&&I.current&&(I.current.emitSlidesClasses(),k.current=!0)}),Ll(()=>{if(e&&(e.current=z.current),!!z.current)return I.current.destroyed&&Te(),sk({el:z.current,nextEl:V.current,prevEl:j.current,paginationEl:W.current,scrollbarEl:N.current,swiper:I.current},C),a&&!I.current.destroyed&&a(I.current),()=>{I.current&&!I.current.destroyed&&I.current.destroy(!0,!1)}},[]),Ll(()=>{re();const ee=ok(A,T.current,F,E.current,Z=>Z.key);return T.current=A,E.current=F,ee.length&&I.current&&!I.current.destroyed&&ik({swiper:I.current,slides:F,passedParams:A,changedParams:ee,nextEl:V.current,prevEl:j.current,scrollbarEl:N.current,paginationEl:W.current}),()=>{Pe()}}),Ll(()=>{ak(I.current)},[_]);function q(){return C.virtual?uk(I.current,F,_):F.map((ee,Z)=>Ye.cloneElement(ee,{swiper:I.current,swiperSlideIndex:Z}))}return Ye.createElement(i,Fh({ref:z,className:bE(`${f}${n?` ${n}`:""}`)},R),Ye.createElement(ck.Provider,{value:I.current},D["container-start"],Ye.createElement(r,{className:nk(C.wrapperClass)},D["wrapper-start"],q(),D["wrapper-end"]),PE(C)&&Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{ref:j,className:"swiper-button-prev"}),Ye.createElement("div",{ref:V,className:"swiper-button-next"})),AE(C)&&Ye.createElement("div",{ref:N,className:"swiper-scrollbar"}),CE(C)&&Ye.createElement("div",{ref:W,className:"swiper-pagination"}),D["container-end"]))});LE.displayName="Swiper";const NE=U.forwardRef(function(t,e){let{tag:n="div",children:i,className:r="",swiper:o,zoom:a,lazy:u,virtualIndex:h,swiperSlideIndex:f,...m}=t===void 0?{}:t;const _=U.useRef(null),[w,P]=U.useState("swiper-slide"),[S,k]=U.useState(!1);function z(V,j,W){j===_.current&&P(W)}Ll(()=>{if(typeof f<"u"&&(_.current.swiperSlideIndex=f),e&&(e.current=_.current),!(!_.current||!o)){if(o.destroyed){w!=="swiper-slide"&&P("swiper-slide");return}return o.on("_slideClass",z),()=>{o&&o.off("_slideClass",z)}}}),Ll(()=>{o&&_.current&&!o.destroyed&&P(o.getSlideClasses(_.current))},[o]);const I={isActive:w.indexOf("swiper-slide-active")>=0,isVisible:w.indexOf("swiper-slide-visible")>=0,isPrev:w.indexOf("swiper-slide-prev")>=0,isNext:w.indexOf("swiper-slide-next")>=0},T=()=>typeof i=="function"?i(I):i,E=()=>{k(!0)};return Ye.createElement(n,Fh({ref:_,className:bE(`${w}${r?` ${r}`:""}`),"data-swiper-slide-index":h,onLoad:E},m),a&&Ye.createElement(yy.Provider,{value:I},Ye.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},T(),u&&!S&&Ye.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&Ye.createElement(yy.Provider,{value:I},T(),u&&!S&&Ye.createElement("div",{className:"swiper-lazy-preloader"})))});NE.displayName="SwiperSlide";function ME(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach(r=>{if(!n[r]&&n.auto===!0){let o=si(t.el,`.${i[r]}`)[0];o||(o=Dh("div",i[r]),o.className=i[r],t.el.append(o)),n[r]=o,e[r]=o}}),n}function hk(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function o(S){let k;return S&&typeof S=="string"&&e.isElement&&(k=e.el.querySelector(S)||e.hostEl.querySelector(S),k)?k:(S&&(typeof S=="string"&&(k=[...document.querySelectorAll(S)]),e.params.uniqueNavElements&&typeof S=="string"&&k&&k.length>1&&e.el.querySelectorAll(S).length===1?k=e.el.querySelector(S):k&&k.length===1&&(k=k[0])),S&&!k?S:k)}function a(S,k){const z=e.params.navigation;S=Et(S),S.forEach(I=>{I&&(I.classList[k?"add":"remove"](...z.disabledClass.split(" ")),I.tagName==="BUTTON"&&(I.disabled=k),e.params.watchOverflow&&e.enabled&&I.classList[e.isLocked?"add":"remove"](z.lockClass))})}function u(){const{nextEl:S,prevEl:k}=e.navigation;if(e.params.loop){a(k,!1),a(S,!1);return}a(k,e.isBeginning&&!e.params.rewind),a(S,e.isEnd&&!e.params.rewind)}function h(S){S.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function f(S){S.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function m(){const S=e.params.navigation;if(e.params.navigation=ME(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(S.nextEl||S.prevEl))return;let k=o(S.nextEl),z=o(S.prevEl);Object.assign(e.navigation,{nextEl:k,prevEl:z}),k=Et(k),z=Et(z);const I=(T,E)=>{T&&T.addEventListener("click",E==="next"?f:h),!e.enabled&&T&&T.classList.add(...S.lockClass.split(" "))};k.forEach(T=>I(T,"next")),z.forEach(T=>I(T,"prev"))}function _(){let{nextEl:S,prevEl:k}=e.navigation;S=Et(S),k=Et(k);const z=(I,T)=>{I.removeEventListener("click",T==="next"?f:h),I.classList.remove(...e.params.navigation.disabledClass.split(" "))};S.forEach(I=>z(I,"next")),k.forEach(I=>z(I,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?P():(m(),u())}),i("toEdge fromEdge lock unlock",()=>{u()}),i("destroy",()=>{_()}),i("enable disable",()=>{let{nextEl:S,prevEl:k}=e.navigation;if(S=Et(S),k=Et(k),e.enabled){u();return}[...S,...k].filter(z=>!!z).forEach(z=>z.classList.add(e.params.navigation.lockClass))}),i("click",(S,k)=>{let{nextEl:z,prevEl:I}=e.navigation;z=Et(z),I=Et(I);const T=k.target;let E=I.includes(T)||z.includes(T);if(e.isElement&&!E){const V=k.path||k.composedPath&&k.composedPath();V&&(E=V.find(j=>z.includes(j)||I.includes(j)))}if(e.params.navigation.hideOnClick&&!E){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===T||e.pagination.el.contains(T)))return;let V;z.length?V=z[0].classList.contains(e.params.navigation.hiddenClass):I.length&&(V=I[0].classList.contains(e.params.navigation.hiddenClass)),r(V===!0?"navigationShow":"navigationHide"),[...z,...I].filter(j=>!!j).forEach(j=>j.classList.toggle(e.params.navigation.hiddenClass))}});const w=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),m(),u()},P=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),_()};Object.assign(e.navigation,{enable:w,disable:P,update:u,init:m,destroy:_})}function cl(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function dk(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const o="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:T=>T,formatFractionTotal:T=>T,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let a,u=0;function h(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function f(T,E){const{bulletActiveClass:V}=e.params.pagination;T&&(T=T[`${E==="prev"?"previous":"next"}ElementSibling`],T&&(T.classList.add(`${V}-${E}`),T=T[`${E==="prev"?"previous":"next"}ElementSibling`],T&&T.classList.add(`${V}-${E}-${E}`)))}function m(T,E,V){if(T=T%V,E=E%V,E===T+1)return"next";if(E===T-1)return"previous"}function _(T){const E=T.target.closest(cl(e.params.pagination.bulletClass));if(!E)return;T.preventDefault();const V=Vh(E)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===V)return;const j=m(e.realIndex,V,e.slides.length);j==="next"?e.slideNext():j==="previous"?e.slidePrev():e.slideToLoop(V)}else e.slideTo(V)}function w(){const T=e.rtl,E=e.params.pagination;if(h())return;let V=e.pagination.el;V=Et(V);let j,W;const N=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,C=e.params.loop?Math.ceil(N/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(W=e.previousRealIndex||0,j=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(j=e.snapIndex,W=e.previousSnapIndex):(W=e.previousIndex||0,j=e.activeIndex||0),E.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const A=e.pagination.bullets;let R,O,F;if(E.dynamicBullets&&(a=qp(A[0],e.isHorizontal()?"width":"height"),V.forEach(D=>{D.style[e.isHorizontal()?"width":"height"]=`${a*(E.dynamicMainBullets+4)}px`}),E.dynamicMainBullets>1&&W!==void 0&&(u+=j-(W||0),u>E.dynamicMainBullets-1?u=E.dynamicMainBullets-1:u<0&&(u=0)),R=Math.max(j-u,0),O=R+(Math.min(A.length,E.dynamicMainBullets)-1),F=(O+R)/2),A.forEach(D=>{const ce=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(Te=>`${E.bulletActiveClass}${Te}`)].map(Te=>typeof Te=="string"&&Te.includes(" ")?Te.split(" "):Te).flat();D.classList.remove(...ce)}),V.length>1)A.forEach(D=>{const ce=Vh(D);ce===j?D.classList.add(...E.bulletActiveClass.split(" ")):e.isElement&&D.setAttribute("part","bullet"),E.dynamicBullets&&(ce>=R&&ce<=O&&D.classList.add(...`${E.bulletActiveClass}-main`.split(" ")),ce===R&&f(D,"prev"),ce===O&&f(D,"next"))});else{const D=A[j];if(D&&D.classList.add(...E.bulletActiveClass.split(" ")),e.isElement&&A.forEach((ce,Te)=>{ce.setAttribute("part",Te===j?"bullet-active":"bullet")}),E.dynamicBullets){const ce=A[R],Te=A[O];for(let re=R;re<=O;re+=1)A[re]&&A[re].classList.add(...`${E.bulletActiveClass}-main`.split(" "));f(ce,"prev"),f(Te,"next")}}if(E.dynamicBullets){const D=Math.min(A.length,E.dynamicMainBullets+4),ce=(a*D-a)/2-F*a,Te=T?"right":"left";A.forEach(re=>{re.style[e.isHorizontal()?Te:"top"]=`${ce}px`})}}V.forEach((A,R)=>{if(E.type==="fraction"&&(A.querySelectorAll(cl(E.currentClass)).forEach(O=>{O.textContent=E.formatFractionCurrent(j+1)}),A.querySelectorAll(cl(E.totalClass)).forEach(O=>{O.textContent=E.formatFractionTotal(C)})),E.type==="progressbar"){let O;E.progressbarOpposite?O=e.isHorizontal()?"vertical":"horizontal":O=e.isHorizontal()?"horizontal":"vertical";const F=(j+1)/C;let D=1,ce=1;O==="horizontal"?D=F:ce=F,A.querySelectorAll(cl(E.progressbarFillClass)).forEach(Te=>{Te.style.transform=`translate3d(0,0,0) scaleX(${D}) scaleY(${ce})`,Te.style.transitionDuration=`${e.params.speed}ms`})}E.type==="custom"&&E.renderCustom?(zh(A,E.renderCustom(e,j+1,C)),R===0&&r("paginationRender",A)):(R===0&&r("paginationRender",A),r("paginationUpdate",A)),e.params.watchOverflow&&e.enabled&&A.classList[e.isLocked?"add":"remove"](E.lockClass)})}function P(){const T=e.params.pagination;if(h())return;const E=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let V=e.pagination.el;V=Et(V);let j="";if(T.type==="bullets"){let W=e.params.loop?Math.ceil(E/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&W>E&&(W=E);for(let N=0;N<W;N+=1)T.renderBullet?j+=T.renderBullet.call(e,N,T.bulletClass):j+=`<${T.bulletElement} ${e.isElement?'part="bullet"':""} class="${T.bulletClass}"></${T.bulletElement}>`}T.type==="fraction"&&(T.renderFraction?j=T.renderFraction.call(e,T.currentClass,T.totalClass):j=`<span class="${T.currentClass}"></span> / <span class="${T.totalClass}"></span>`),T.type==="progressbar"&&(T.renderProgressbar?j=T.renderProgressbar.call(e,T.progressbarFillClass):j=`<span class="${T.progressbarFillClass}"></span>`),e.pagination.bullets=[],V.forEach(W=>{T.type!=="custom"&&zh(W,j||""),T.type==="bullets"&&e.pagination.bullets.push(...W.querySelectorAll(cl(T.bulletClass)))}),T.type!=="custom"&&r("paginationRender",V[0])}function S(){e.params.pagination=ME(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const T=e.params.pagination;if(!T.el)return;let E;typeof T.el=="string"&&e.isElement&&(E=e.el.querySelector(T.el)),!E&&typeof T.el=="string"&&(E=[...document.querySelectorAll(T.el)]),E||(E=T.el),!(!E||E.length===0)&&(e.params.uniqueNavElements&&typeof T.el=="string"&&Array.isArray(E)&&E.length>1&&(E=[...e.el.querySelectorAll(T.el)],E.length>1&&(E=E.find(V=>yE(V,".swiper")[0]===e.el))),Array.isArray(E)&&E.length===1&&(E=E[0]),Object.assign(e.pagination,{el:E}),E=Et(E),E.forEach(V=>{T.type==="bullets"&&T.clickable&&V.classList.add(...(T.clickableClass||"").split(" ")),V.classList.add(T.modifierClass+T.type),V.classList.add(e.isHorizontal()?T.horizontalClass:T.verticalClass),T.type==="bullets"&&T.dynamicBullets&&(V.classList.add(`${T.modifierClass}${T.type}-dynamic`),u=0,T.dynamicMainBullets<1&&(T.dynamicMainBullets=1)),T.type==="progressbar"&&T.progressbarOpposite&&V.classList.add(T.progressbarOppositeClass),T.clickable&&V.addEventListener("click",_),e.enabled||V.classList.add(T.lockClass)}))}function k(){const T=e.params.pagination;if(h())return;let E=e.pagination.el;E&&(E=Et(E),E.forEach(V=>{V.classList.remove(T.hiddenClass),V.classList.remove(T.modifierClass+T.type),V.classList.remove(e.isHorizontal()?T.horizontalClass:T.verticalClass),T.clickable&&(V.classList.remove(...(T.clickableClass||"").split(" ")),V.removeEventListener("click",_))})),e.pagination.bullets&&e.pagination.bullets.forEach(V=>V.classList.remove(...T.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const T=e.params.pagination;let{el:E}=e.pagination;E=Et(E),E.forEach(V=>{V.classList.remove(T.horizontalClass,T.verticalClass),V.classList.add(e.isHorizontal()?T.horizontalClass:T.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?I():(S(),P(),w())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&w()}),i("snapIndexChange",()=>{w()}),i("snapGridLengthChange",()=>{P(),w()}),i("destroy",()=>{k()}),i("enable disable",()=>{let{el:T}=e.pagination;T&&(T=Et(T),T.forEach(E=>E.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{w()}),i("click",(T,E)=>{const V=E.target,j=Et(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&j&&j.length>0&&!V.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&V===e.navigation.nextEl||e.navigation.prevEl&&V===e.navigation.prevEl))return;const W=j[0].classList.contains(e.params.pagination.hiddenClass);r(W===!0?"paginationShow":"paginationHide"),j.forEach(N=>N.classList.toggle(e.params.pagination.hiddenClass))}});const z=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:T}=e.pagination;T&&(T=Et(T),T.forEach(E=>E.classList.remove(e.params.pagination.paginationDisabledClass))),S(),P(),w()},I=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:T}=e.pagination;T&&(T=Et(T),T.forEach(E=>E.classList.add(e.params.pagination.paginationDisabledClass))),k()};Object.assign(e.pagination,{enable:z,disable:I,render:P,update:w,init:S,destroy:k})}function fk(t){let{swiper:e,extendParams:n,on:i,emit:r,params:o}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,u,h=o&&o.autoplay?o.autoplay.delay:3e3,f=o&&o.autoplay?o.autoplay.delay:3e3,m,_=new Date().getTime(),w,P,S,k,z,I,T;function E(q){!e||e.destroyed||!e.wrapperEl||q.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",E),!(T||q.detail&&q.detail.bySwiperTouchMove)&&R())}const V=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?w=!0:w&&(f=m,w=!1);const q=e.autoplay.paused?m:_+f-new Date().getTime();e.autoplay.timeLeft=q,r("autoplayTimeLeft",q,q/h),u=requestAnimationFrame(()=>{V()})},j=()=>{let q;return e.virtual&&e.params.virtual.enabled?q=e.slides.find(Z=>Z.classList.contains("swiper-slide-active")):q=e.slides[e.activeIndex],q?parseInt(q.getAttribute("data-swiper-autoplay"),10):void 0},W=q=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(u),V();let ee=typeof q>"u"?e.params.autoplay.delay:q;h=e.params.autoplay.delay,f=e.params.autoplay.delay;const Z=j();!Number.isNaN(Z)&&Z>0&&typeof q>"u"&&(ee=Z,h=Z,f=Z),m=ee;const le=e.params.speed,pe=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(le,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,le,!0,!0),r("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(le,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,le,!0,!0),r("autoplay")),e.params.cssMode&&(_=new Date().getTime(),requestAnimationFrame(()=>{W()})))};return ee>0?(clearTimeout(a),a=setTimeout(()=>{pe()},ee)):requestAnimationFrame(()=>{pe()}),ee},N=()=>{_=new Date().getTime(),e.autoplay.running=!0,W(),r("autoplayStart")},C=()=>{e.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(u),r("autoplayStop")},A=(q,ee)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(a),q||(I=!0);const Z=()=>{r("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",E):R()};if(e.autoplay.paused=!0,ee){z&&(m=e.params.autoplay.delay),z=!1,Z();return}m=(m||e.params.autoplay.delay)-(new Date().getTime()-_),!(e.isEnd&&m<0&&!e.params.loop)&&(m<0&&(m=0),Z())},R=()=>{e.isEnd&&m<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(_=new Date().getTime(),I?(I=!1,W(m)):W(),e.autoplay.paused=!1,r("autoplayResume"))},O=()=>{if(e.destroyed||!e.autoplay.running)return;const q=ui();q.visibilityState==="hidden"&&(I=!0,A(!0)),q.visibilityState==="visible"&&R()},F=q=>{q.pointerType==="mouse"&&(I=!0,T=!0,!(e.animating||e.autoplay.paused)&&A(!0))},D=q=>{q.pointerType==="mouse"&&(T=!1,e.autoplay.paused&&R())},ce=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",F),e.el.addEventListener("pointerleave",D))},Te=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",F),e.el.removeEventListener("pointerleave",D))},re=()=>{ui().addEventListener("visibilitychange",O)},Pe=()=>{ui().removeEventListener("visibilitychange",O)};i("init",()=>{e.params.autoplay.enabled&&(ce(),re(),N())}),i("destroy",()=>{Te(),Pe(),e.autoplay.running&&C()}),i("_freeModeStaticRelease",()=>{(S||I)&&R()}),i("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?C():A(!0,!0)}),i("beforeTransitionStart",(q,ee,Z)=>{e.destroyed||!e.autoplay.running||(Z||!e.params.autoplay.disableOnInteraction?A(!0,!0):C())}),i("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){C();return}P=!0,S=!1,I=!1,k=setTimeout(()=>{I=!0,S=!0,A(!0)},200)}}),i("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!P)){if(clearTimeout(k),clearTimeout(a),e.params.autoplay.disableOnInteraction){S=!1,P=!1;return}S&&e.params.cssMode&&R(),S=!1,P=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(z=!0)}),Object.assign(e.autoplay,{start:N,stop:C,pause:A,resume:R})}function pk(){const[t,e]=U.useState([]);return U.useEffect(()=>{e([{id:1,title:"Paris Getaway",description:"A romantic 5-day trip exploring Paris, museums, and cafes.",image:"https://images.unsplash.com/photo-1502602898657-3e91760cbb34",tag:"Luxury"},{id:2,title:"Thailand Backpacking",description:"2-week budget backpacking trip across Thailands beaches & temples.",image:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e",tag:"Budget"},{id:3,title:"Swiss Alps Family Trip",description:"7-day scenic family-friendly tour of Swiss Alps & villages.",image:"https://images.unsplash.com/photo-1508264165352-258a6c1e50ac",tag:"Family"},{id:4,title:"Tokyo Explorer",description:"5-day cultural deep dive into Tokyos food & tech districts.",image:"https://images.unsplash.com/photo-1549693578-d683be217e58",tag:"Cultural"},{id:5,title:"Dubai Luxury Trip",description:"Experience 7-star hotels, desert safari, and modern marvels.",image:"https://images.unsplash.com/photo-1504274066651-8d31a536b11a",tag:"Luxury"}])},[]),M.jsxs("main",{className:"flex flex-col items-center gap-12 min-h-screen bg-fixed bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=1350&q=80')"},children:[M.jsxs("section",{className:"text-center space-y-6 mt-20 bg-white/70 backdrop-blur-sm p-8 rounded-xl shadow-md max-w-2xl",children:[M.jsx("h1",{className:"text-red-500 font-extrabold text-4xl",children:"Discover Your Next Adventure with AI"}),M.jsx("p",{className:"text-xl text-gray-700",children:"Personalized itineraries at your fingertips  save trips, plan routes, and explore with OpenStreetMap."}),M.jsxs("div",{className:"flex justify-center gap-3",children:[M.jsx(Wt,{className:"btn btn-primary",to:"/register",children:"Get Started"}),M.jsx(Wt,{className:"btn",to:"/login",children:"Sign In"})]})]}),M.jsxs("section",{className:"w-full max-w-6xl px-6",children:[M.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-white drop-shadow",children:"Popular Travel Templates "}),M.jsx(LE,{modules:[hk,dk,fk],spaceBetween:20,slidesPerView:1,navigation:!0,pagination:{clickable:!0},autoplay:{delay:3500,disableOnInteraction:!1},breakpoints:{640:{slidesPerView:1},768:{slidesPerView:2},1024:{slidesPerView:3}},children:t.map(n=>M.jsx(NE,{children:M.jsxs("div",{className:"border rounded-xl bg-white shadow-md overflow-hidden hover:scale-105 transition-transform",children:[M.jsx("img",{src:n.image,alt:n.title,className:"w-full h-48 object-cover"}),M.jsxs("div",{className:"p-4 space-y-2",children:[M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("h3",{className:"font-semibold",children:n.title}),M.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:n.tag})]}),M.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:n.description}),M.jsx(Wt,{to:"/templates",className:"btn btn-primary w-full mt-2 text-sm",children:"View Template"})]})]})},n.id))}),M.jsx("div",{className:"text-center mt-6",children:M.jsx(Wt,{to:"/templates",className:"btn",children:"Explore All Templates "})})]})]})}var wy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},mk=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],a=t[n++],u=t[n++],h=((r&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|a&63)}}return e.join("")},DE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],a=r+1<t.length,u=a?t[r+1]:0,h=r+2<t.length,f=h?t[r+2]:0,m=o>>2,_=(o&3)<<4|u>>4;let w=(u&15)<<2|f>>6,P=f&63;h||(P=64,a||(w=64)),i.push(n[m],n[_],n[w],n[P])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],u=r<t.length?n[t.charAt(r)]:0;++r;const f=r<t.length?n[t.charAt(r)]:64;++r;const _=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||u==null||f==null||_==null)throw new gk;const w=o<<2|u>>4;if(i.push(w),f!==64){const P=u<<4&240|f>>2;if(i.push(P),_!==64){const S=f<<6&192|_;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _k=function(t){const e=OE(t);return DE.encodeByteArray(e,!0)},Bh=function(t){return _k(t).replace(/\./g,"")},VE=function(t){try{return DE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=()=>vk().__FIREBASE_DEFAULTS__,wk=()=>{if(typeof process>"u"||typeof wy>"u")return;const t=wy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Tk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VE(t[1]);return e&&JSON.parse(e)},wd=()=>{try{return yk()||wk()||Tk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zE=t=>{var e,n;return(n=(e=wd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ek=t=>{const e=zE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},FE=()=>{var t;return(t=wd())===null||t===void 0?void 0:t.config},BE=t=>{var e;return(e=wd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Bh(JSON.stringify(n)),Bh(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function Pk(){var t;const e=(t=wd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ck(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ig(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ak(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bk(){const t=jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kk(){return!Pk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xg(){try{return typeof indexedDB=="object"}catch{return!1}}function Pg(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function jE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk="FirebaseError";class Qn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Rk,Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ds.prototype.create)}}class Ds{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],a=o?Lk(o,i):"Error",u=`${this.serviceName}: ${a} (${r}).`;return new Qn(r,u,i)}}function Lk(t,e){return t.replace(Nk,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Nk=/\{\$([^}]+)}/g;function Mk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ru(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],a=e[r];if(Ty(o)&&Ty(a)){if(!ru(o,a))return!1}else if(o!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Ty(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function _l(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function vl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Ok(t,e){const n=new Dk(t,e);return n.subscribe.bind(n)}class Dk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Vk(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Df),r.error===void 0&&(r.error=Df),r.complete===void 0&&(r.complete=Df);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Df(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=1e3,Fk=2,Bk=4*60*60*1e3,jk=.5;function Ey(t,e=zk,n=Fk){const i=e*Math.pow(n,t),r=Math.round(jk*i*(Math.random()-.5)*2);return Math.min(Bk,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class Gn{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Sk;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Hk(e))try{this.getOrInitializeService({instanceIdentifier:cs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cs){return this.instances.has(e)}getOptions(e=cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&a.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:$k(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=cs){return this.component?this.component.multipleInstances?e:cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $k(t){return t===cs?void 0:t}function Hk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Uk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const qk={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},Gk=ke.INFO,Kk={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},Zk=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=Kk[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Td{constructor(e){this.name=e,this._logLevel=Gk,this._logHandler=Zk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const Qk=(t,e)=>e.some(n=>t instanceof n);let Sy,Iy;function Yk(){return Sy||(Sy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xk(){return Iy||(Iy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UE=new WeakMap,Zp=new WeakMap,$E=new WeakMap,Vf=new WeakMap,Cg=new WeakMap;function Jk(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Rr(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&UE.set(n,t)}).catch(()=>{}),Cg.set(e,t),e}function eR(t){if(Zp.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});Zp.set(t,e)}let Qp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$E.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tR(t){Qp=t(Qp)}function nR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(zf(this),e,...n);return $E.set(i,e.sort?e.sort():[e]),Rr(i)}:Xk().includes(t)?function(...e){return t.apply(zf(this),e),Rr(UE.get(this))}:function(...e){return Rr(t.apply(zf(this),e))}}function iR(t){return typeof t=="function"?nR(t):(t instanceof IDBTransaction&&eR(t),Qk(t,Yk())?new Proxy(t,Qp):t)}function Rr(t){if(t instanceof IDBRequest)return Jk(t);if(Vf.has(t))return Vf.get(t);const e=iR(t);return e!==t&&(Vf.set(t,e),Cg.set(e,t)),e}const zf=t=>Cg.get(t);function HE(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const a=indexedDB.open(t,e),u=Rr(a);return i&&a.addEventListener("upgradeneeded",h=>{i(Rr(a.result),h.oldVersion,h.newVersion,Rr(a.transaction),h)}),n&&a.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const rR=["get","getKey","getAll","getAllKeys","count"],sR=["put","add","delete","clear"],Ff=new Map;function xy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ff.get(e))return Ff.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=sR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||rR.includes(n)))return;const o=async function(a,...u){const h=this.transaction(a,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),r&&h.done]))[0]};return Ff.set(e,o),o}tR(t=>({...t,get:(e,n,i)=>xy(e,n)||t.get(e,n,i),has:(e,n)=>!!xy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function aR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yp="@firebase/app",Py="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Td("@firebase/app"),lR="@firebase/app-compat",uR="@firebase/analytics-compat",cR="@firebase/analytics",hR="@firebase/app-check-compat",dR="@firebase/app-check",fR="@firebase/auth",pR="@firebase/auth-compat",mR="@firebase/database",gR="@firebase/data-connect",_R="@firebase/database-compat",vR="@firebase/functions",yR="@firebase/functions-compat",wR="@firebase/installations",TR="@firebase/installations-compat",ER="@firebase/messaging",SR="@firebase/messaging-compat",IR="@firebase/performance",xR="@firebase/performance-compat",PR="@firebase/remote-config",CR="@firebase/remote-config-compat",AR="@firebase/storage",bR="@firebase/storage-compat",kR="@firebase/firestore",RR="@firebase/vertexai-preview",LR="@firebase/firestore-compat",NR="firebase",MR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="[DEFAULT]",OR={[Yp]:"fire-core",[lR]:"fire-core-compat",[cR]:"fire-analytics",[uR]:"fire-analytics-compat",[dR]:"fire-app-check",[hR]:"fire-app-check-compat",[fR]:"fire-auth",[pR]:"fire-auth-compat",[mR]:"fire-rtdb",[gR]:"fire-data-connect",[_R]:"fire-rtdb-compat",[vR]:"fire-fn",[yR]:"fire-fn-compat",[wR]:"fire-iid",[TR]:"fire-iid-compat",[ER]:"fire-fcm",[SR]:"fire-fcm-compat",[IR]:"fire-perf",[xR]:"fire-perf-compat",[PR]:"fire-rc",[CR]:"fire-rc-compat",[AR]:"fire-gcs",[bR]:"fire-gcs-compat",[kR]:"fire-fst",[LR]:"fire-fst-compat",[RR]:"fire-vertex","fire-js":"fire-js",[NR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new Map,DR=new Map,Jp=new Map;function Cy(t,e){try{t.container.addComponent(e)}catch(n){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mi(t){const e=t.name;if(Jp.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;Jp.set(e,t);for(const n of jh.values())Cy(n,t);for(const n of DR.values())Cy(n,t);return!0}function Vs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function oi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new Ds("app","Firebase",VR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=MR;function WE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Xp,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Lr.create("bad-app-name",{appName:String(r)});if(n||(n=FE()),!n)throw Lr.create("no-options");const o=jh.get(r);if(o){if(ru(n,o.options)&&ru(i,o.config))return o;throw Lr.create("duplicate-app",{appName:r})}const a=new Wk(r);for(const h of Jp.values())a.addComponent(h);const u=new zR(n,i,a);return jh.set(r,u),u}function Ag(t=Xp){const e=jh.get(t);if(!e&&t===Xp&&FE())return WE();if(!e)throw Lr.create("no-app",{appName:t});return e}function Rn(t,e,n){var i;let r=(i=OR[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(u.join(" "));return}mi(new Gn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="firebase-heartbeat-database",BR=1,su="firebase-heartbeat-store";let Bf=null;function qE(){return Bf||(Bf=HE(FR,BR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(su)}catch(n){console.warn(n)}}}}).catch(t=>{throw Lr.create("idb-open",{originalErrorMessage:t.message})})),Bf}async function jR(t){try{const n=(await qE()).transaction(su),i=await n.objectStore(su).get(GE(t));return await n.done,i}catch(e){if(e instanceof Qn)Hi.warn(e.message);else{const n=Lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hi.warn(n.message)}}}async function Ay(t,e){try{const i=(await qE()).transaction(su,"readwrite");await i.objectStore(su).put(e,GE(t)),await i.done}catch(n){if(n instanceof Qn)Hi.warn(n.message);else{const i=Lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hi.warn(i.message)}}}function GE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=1024,$R=30*24*60*60*1e3;class HR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=by();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=$R}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Hi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=by(),{heartbeatsToSend:i,unsentEntries:r}=WR(this._heartbeatsCache.heartbeats),o=Bh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Hi.warn(n),""}}}function by(){return new Date().toISOString().substring(0,10)}function WR(t,e=UR){const n=[];let i=t.slice();for(const r of t){const o=n.find(a=>a.agent===r.agent);if(o){if(o.dates.push(r.date),ky(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),ky(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class qR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xg()?Pg().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Ay(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Ay(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ky(t){return Bh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t){mi(new Gn("platform-logger",e=>new oR(e),"PRIVATE")),mi(new Gn("heartbeat",e=>new HR(e),"PRIVATE")),Rn(Yp,Py,t),Rn(Yp,Py,"esm2017"),Rn("fire-js","")}GR("");var KR="firebase",ZR="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn(KR,ZR,"app");const KE="@firebase/installations",bg="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=1e4,QE=`w:${bg}`,YE="FIS_v2",QR="https://firebaseinstallations.googleapis.com/v1",YR=60*60*1e3,XR="installations",JR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xs=new Ds(XR,JR,eL);function XE(t){return t instanceof Qn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE({projectId:t}){return`${QR}/projects/${t}/installations`}function eS(t){return{token:t.token,requestStatus:2,expiresIn:nL(t.expiresIn),creationTime:Date.now()}}async function tS(t,e){const i=(await e.json()).error;return xs.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function nS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function tL(t,{refreshToken:e}){const n=nS(t);return n.append("Authorization",iL(e)),n}async function iS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function nL(t){return Number(t.replace("s","000"))}function iL(t){return`${YE} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=JE(t),r=nS(t),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const a={fid:n,authVersion:YE,appId:t.appId,sdkVersion:QE},u={method:"POST",headers:r,body:JSON.stringify(a)},h=await iS(()=>fetch(i,u));if(h.ok){const f=await h.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:eS(f.authToken)}}else throw await tS("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=/^[cdef][\w-]{21}$/,em="";function aL(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=lL(t);return oL.test(n)?n:em}catch{return em}}function lL(t){return sL(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=new Map;function oS(t,e){const n=Ed(t);aS(n,e),uL(n,e)}function aS(t,e){const n=sS.get(t);if(n)for(const i of n)i(e)}function uL(t,e){const n=cL();n&&n.postMessage({key:t,fid:e}),hL()}let ps=null;function cL(){return!ps&&"BroadcastChannel"in self&&(ps=new BroadcastChannel("[Firebase] FID Change"),ps.onmessage=t=>{aS(t.data.key,t.data.fid)}),ps}function hL(){sS.size===0&&ps&&(ps.close(),ps=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL="firebase-installations-database",fL=1,Ps="firebase-installations-store";let jf=null;function kg(){return jf||(jf=HE(dL,fL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ps)}}})),jf}async function Uh(t,e){const n=Ed(t),r=(await kg()).transaction(Ps,"readwrite"),o=r.objectStore(Ps),a=await o.get(n);return await o.put(e,n),await r.done,(!a||a.fid!==e.fid)&&oS(t,e.fid),e}async function lS(t){const e=Ed(t),i=(await kg()).transaction(Ps,"readwrite");await i.objectStore(Ps).delete(e),await i.done}async function Sd(t,e){const n=Ed(t),r=(await kg()).transaction(Ps,"readwrite"),o=r.objectStore(Ps),a=await o.get(n),u=e(a);return u===void 0?await o.delete(n):await o.put(u,n),await r.done,u&&(!a||a.fid!==u.fid)&&oS(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rg(t){let e;const n=await Sd(t.appConfig,i=>{const r=pL(i),o=mL(t,r);return e=o.registrationPromise,o.installationEntry});return n.fid===em?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function pL(t){const e=t||{fid:aL(),registrationStatus:0};return uS(e)}function mL(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(xs.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=gL(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:_L(t)}:{installationEntry:e}}async function gL(t,e){try{const n=await rL(t,e);return Uh(t.appConfig,n)}catch(n){throw XE(n)&&n.customData.serverCode===409?await lS(t.appConfig):await Uh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function _L(t){let e=await Ry(t.appConfig);for(;e.registrationStatus===1;)await rS(100),e=await Ry(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Rg(t);return i||n}return e}function Ry(t){return Sd(t,e=>{if(!e)throw xs.create("installation-not-found");return uS(e)})}function uS(t){return vL(t)?{fid:t.fid,registrationStatus:0}:t}function vL(t){return t.registrationStatus===1&&t.registrationTime+ZE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yL({appConfig:t,heartbeatServiceProvider:e},n){const i=wL(t,n),r=tL(t,n),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const a={installation:{sdkVersion:QE,appId:t.appId}},u={method:"POST",headers:r,body:JSON.stringify(a)},h=await iS(()=>fetch(i,u));if(h.ok){const f=await h.json();return eS(f)}else throw await tS("Generate Auth Token",h)}function wL(t,{fid:e}){return`${JE(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lg(t,e=!1){let n;const i=await Sd(t.appConfig,o=>{if(!cS(o))throw xs.create("not-registered");const a=o.authToken;if(!e&&SL(a))return o;if(a.requestStatus===1)return n=TL(t,e),o;{if(!navigator.onLine)throw xs.create("app-offline");const u=xL(o);return n=EL(t,u),u}});return n?await n:i.authToken}async function TL(t,e){let n=await Ly(t.appConfig);for(;n.authToken.requestStatus===1;)await rS(100),n=await Ly(t.appConfig);const i=n.authToken;return i.requestStatus===0?Lg(t,e):i}function Ly(t){return Sd(t,e=>{if(!cS(e))throw xs.create("not-registered");const n=e.authToken;return PL(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function EL(t,e){try{const n=await yL(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Uh(t.appConfig,i),n}catch(n){if(XE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await lS(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Uh(t.appConfig,i)}throw n}}function cS(t){return t!==void 0&&t.registrationStatus===2}function SL(t){return t.requestStatus===2&&!IL(t)}function IL(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+YR}function xL(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function PL(t){return t.requestStatus===1&&t.requestTime+ZE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(t){const e=t,{installationEntry:n,registrationPromise:i}=await Rg(e);return i?i.catch(console.error):Lg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(t,e=!1){const n=t;return await bL(n),(await Lg(n,e)).token}async function bL(t){const{registrationPromise:e}=await Rg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t){if(!t||!t.options)throw Uf("App Configuration");if(!t.name)throw Uf("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Uf(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Uf(t){return xs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="installations",RL="installations-internal",LL=t=>{const e=t.getProvider("app").getImmediate(),n=kL(e),i=Vs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},NL=t=>{const e=t.getProvider("app").getImmediate(),n=Vs(e,hS).getImmediate();return{getId:()=>CL(n),getToken:r=>AL(n,r)}};function ML(){mi(new Gn(hS,LL,"PUBLIC")),mi(new Gn(RL,NL,"PRIVATE"))}ML();Rn(KE,bg);Rn(KE,bg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="analytics",OL="firebase_id",DL="origin",VL=60*1e3,zL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ng="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn=new Td("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mn=new Ds("analytics","Analytics",FL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t){if(!t.startsWith(Ng)){const e=mn.create("invalid-gtag-resource",{gtagURL:t});return sn.warn(e.message),""}return t}function dS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function jL(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function UL(t,e){const n=jL("firebase-js-sdk-policy",{createScriptURL:BL}),i=document.createElement("script"),r=`${Ng}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function $L(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function HL(t,e,n,i,r,o){const a=i[r];try{if(a)await e[a];else{const h=(await dS(n)).find(f=>f.measurementId===r);h&&await e[h.appId]}}catch(u){sn.error(u)}t("config",r,o)}async function WL(t,e,n,i,r){try{let o=[];if(r&&r.send_to){let a=r.send_to;Array.isArray(a)||(a=[a]);const u=await dS(n);for(const h of a){const f=u.find(_=>_.measurementId===h),m=f&&e[f.appId];if(m)o.push(m);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",i,r||{})}catch(o){sn.error(o)}}function qL(t,e,n,i){async function r(o,...a){try{if(o==="event"){const[u,h]=a;await WL(t,e,n,u,h)}else if(o==="config"){const[u,h]=a;await HL(t,e,n,i,u,h)}else if(o==="consent"){const[u,h]=a;t("consent",u,h)}else if(o==="get"){const[u,h,f]=a;t("get",u,h,f)}else if(o==="set"){const[u]=a;t("set",u)}else t(o,...a)}catch(u){sn.error(u)}}return r}function GL(t,e,n,i,r){let o=function(...a){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(o=window[r]),window[r]=qL(o,t,e,n),{gtagCore:o,wrappedGtag:window[r]}}function KL(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ng)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=30,QL=1e3;class YL{constructor(e={},n=QL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const fS=new YL;function XL(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function JL(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:XL(i)},o=zL.replace("{app-id}",n),a=await fetch(o,r);if(a.status!==200&&a.status!==304){let u="";try{const h=await a.json();!((e=h.error)===null||e===void 0)&&e.message&&(u=h.error.message)}catch{}throw mn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function eN(t,e=fS,n){const{appId:i,apiKey:r,measurementId:o}=t.options;if(!i)throw mn.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw mn.create("no-api-key")}const a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new iN;return setTimeout(async()=>{u.abort()},VL),pS({appId:i,apiKey:r,measurementId:o},a,u,e)}async function pS(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=fS){var o;const{appId:a,measurementId:u}=t;try{await tN(i,e)}catch(h){if(u)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:a,measurementId:u};throw h}try{const h=await JL(t);return r.deleteThrottleMetadata(a),h}catch(h){const f=h;if(!nN(f)){if(r.deleteThrottleMetadata(a),u)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:a,measurementId:u};throw h}const m=Number((o=f==null?void 0:f.customData)===null||o===void 0?void 0:o.httpStatus)===503?Ey(n,r.intervalMillis,ZL):Ey(n,r.intervalMillis),_={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return r.setThrottleMetadata(a,_),sn.debug(`Calling attemptFetch again in ${m} millis`),pS(t,_,i,r)}}function tN(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(o),i(mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function nN(t){if(!(t instanceof Qn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class iN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function rN(t,e,n,i,r){if(r&&r.global){t("event",n,i);return}else{const o=await e,a=Object.assign(Object.assign({},i),{send_to:o});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(){if(xg())try{await Pg()}catch(t){return sn.warn(mn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return sn.warn(mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function oN(t,e,n,i,r,o,a){var u;const h=eN(t);h.then(P=>{n[P.measurementId]=P.appId,t.options.measurementId&&P.measurementId!==t.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${P.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(P=>sn.error(P)),e.push(h);const f=sN().then(P=>{if(P)return i.getId()}),[m,_]=await Promise.all([h,f]);KL(o)||UL(o,m.measurementId),r("js",new Date);const w=(u=a==null?void 0:a.config)!==null&&u!==void 0?u:{};return w[DL]="firebase",w.update=!0,_!=null&&(w[OL]=_),r("config",m.measurementId,w),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.app=e}_delete(){return delete Nl[this.app.options.appId],Promise.resolve()}}let Nl={},Ny=[];const My={};let $f="dataLayer",lN="gtag",Oy,mS,Dy=!1;function uN(){const t=[];if(Ig()&&t.push("This is a browser extension environment."),jE()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=mn.create("invalid-analytics-context",{errorInfo:e});sn.warn(n.message)}}function cN(t,e,n){uN();const i=t.options.appId;if(!i)throw mn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mn.create("no-api-key");if(Nl[i]!=null)throw mn.create("already-exists",{id:i});if(!Dy){$L($f);const{wrappedGtag:o,gtagCore:a}=GL(Nl,Ny,My,$f,lN);mS=o,Oy=a,Dy=!0}return Nl[i]=oN(t,Ny,My,e,Oy,$f,n),new aN(t)}function hN(t=Ag()){t=lt(t);const e=Vs(t,$h);return e.isInitialized()?e.getImmediate():dN(t)}function dN(t,e={}){const n=Vs(t,$h);if(n.isInitialized()){const r=n.getImmediate();if(ru(e,n.getOptions()))return r;throw mn.create("already-initialized")}return n.initialize({options:e})}async function fN(){if(Ig()||!jE()||!xg())return!1;try{return await Pg()}catch{return!1}}function pN(t,e,n,i){t=lt(t),rN(mS,Nl[t.app.options.appId],e,n,i).catch(r=>sn.error(r))}const Vy="@firebase/analytics",zy="0.10.8";function mN(){mi(new Gn($h,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return cN(i,r,n)},"PUBLIC")),mi(new Gn("analytics-internal",t,"PRIVATE")),Rn(Vy,zy),Rn(Vy,zy,"esm2017");function t(e){try{const n=e.getProvider($h).getImmediate();return{logEvent:(i,r,o)=>pN(n,i,r,o)}}catch(n){throw mn.create("interop-component-reg-failed",{reason:n})}}}mN();var Fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vs,gS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,C){function A(){}A.prototype=C.prototype,N.D=C.prototype,N.prototype=new A,N.prototype.constructor=N,N.C=function(R,O,F){for(var D=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)D[ce-2]=arguments[ce];return C.prototype[O].apply(R,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(N,C,A){A||(A=0);var R=Array(16);if(typeof C=="string")for(var O=0;16>O;++O)R[O]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(O=0;16>O;++O)R[O]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=N.g[0],A=N.g[1],O=N.g[2];var F=N.g[3],D=C+(F^A&(O^F))+R[0]+3614090360&4294967295;C=A+(D<<7&4294967295|D>>>25),D=F+(O^C&(A^O))+R[1]+3905402710&4294967295,F=C+(D<<12&4294967295|D>>>20),D=O+(A^F&(C^A))+R[2]+606105819&4294967295,O=F+(D<<17&4294967295|D>>>15),D=A+(C^O&(F^C))+R[3]+3250441966&4294967295,A=O+(D<<22&4294967295|D>>>10),D=C+(F^A&(O^F))+R[4]+4118548399&4294967295,C=A+(D<<7&4294967295|D>>>25),D=F+(O^C&(A^O))+R[5]+1200080426&4294967295,F=C+(D<<12&4294967295|D>>>20),D=O+(A^F&(C^A))+R[6]+2821735955&4294967295,O=F+(D<<17&4294967295|D>>>15),D=A+(C^O&(F^C))+R[7]+4249261313&4294967295,A=O+(D<<22&4294967295|D>>>10),D=C+(F^A&(O^F))+R[8]+1770035416&4294967295,C=A+(D<<7&4294967295|D>>>25),D=F+(O^C&(A^O))+R[9]+2336552879&4294967295,F=C+(D<<12&4294967295|D>>>20),D=O+(A^F&(C^A))+R[10]+4294925233&4294967295,O=F+(D<<17&4294967295|D>>>15),D=A+(C^O&(F^C))+R[11]+2304563134&4294967295,A=O+(D<<22&4294967295|D>>>10),D=C+(F^A&(O^F))+R[12]+1804603682&4294967295,C=A+(D<<7&4294967295|D>>>25),D=F+(O^C&(A^O))+R[13]+4254626195&4294967295,F=C+(D<<12&4294967295|D>>>20),D=O+(A^F&(C^A))+R[14]+2792965006&4294967295,O=F+(D<<17&4294967295|D>>>15),D=A+(C^O&(F^C))+R[15]+1236535329&4294967295,A=O+(D<<22&4294967295|D>>>10),D=C+(O^F&(A^O))+R[1]+4129170786&4294967295,C=A+(D<<5&4294967295|D>>>27),D=F+(A^O&(C^A))+R[6]+3225465664&4294967295,F=C+(D<<9&4294967295|D>>>23),D=O+(C^A&(F^C))+R[11]+643717713&4294967295,O=F+(D<<14&4294967295|D>>>18),D=A+(F^C&(O^F))+R[0]+3921069994&4294967295,A=O+(D<<20&4294967295|D>>>12),D=C+(O^F&(A^O))+R[5]+3593408605&4294967295,C=A+(D<<5&4294967295|D>>>27),D=F+(A^O&(C^A))+R[10]+38016083&4294967295,F=C+(D<<9&4294967295|D>>>23),D=O+(C^A&(F^C))+R[15]+3634488961&4294967295,O=F+(D<<14&4294967295|D>>>18),D=A+(F^C&(O^F))+R[4]+3889429448&4294967295,A=O+(D<<20&4294967295|D>>>12),D=C+(O^F&(A^O))+R[9]+568446438&4294967295,C=A+(D<<5&4294967295|D>>>27),D=F+(A^O&(C^A))+R[14]+3275163606&4294967295,F=C+(D<<9&4294967295|D>>>23),D=O+(C^A&(F^C))+R[3]+4107603335&4294967295,O=F+(D<<14&4294967295|D>>>18),D=A+(F^C&(O^F))+R[8]+1163531501&4294967295,A=O+(D<<20&4294967295|D>>>12),D=C+(O^F&(A^O))+R[13]+2850285829&4294967295,C=A+(D<<5&4294967295|D>>>27),D=F+(A^O&(C^A))+R[2]+4243563512&4294967295,F=C+(D<<9&4294967295|D>>>23),D=O+(C^A&(F^C))+R[7]+1735328473&4294967295,O=F+(D<<14&4294967295|D>>>18),D=A+(F^C&(O^F))+R[12]+2368359562&4294967295,A=O+(D<<20&4294967295|D>>>12),D=C+(A^O^F)+R[5]+4294588738&4294967295,C=A+(D<<4&4294967295|D>>>28),D=F+(C^A^O)+R[8]+2272392833&4294967295,F=C+(D<<11&4294967295|D>>>21),D=O+(F^C^A)+R[11]+1839030562&4294967295,O=F+(D<<16&4294967295|D>>>16),D=A+(O^F^C)+R[14]+4259657740&4294967295,A=O+(D<<23&4294967295|D>>>9),D=C+(A^O^F)+R[1]+2763975236&4294967295,C=A+(D<<4&4294967295|D>>>28),D=F+(C^A^O)+R[4]+1272893353&4294967295,F=C+(D<<11&4294967295|D>>>21),D=O+(F^C^A)+R[7]+4139469664&4294967295,O=F+(D<<16&4294967295|D>>>16),D=A+(O^F^C)+R[10]+3200236656&4294967295,A=O+(D<<23&4294967295|D>>>9),D=C+(A^O^F)+R[13]+681279174&4294967295,C=A+(D<<4&4294967295|D>>>28),D=F+(C^A^O)+R[0]+3936430074&4294967295,F=C+(D<<11&4294967295|D>>>21),D=O+(F^C^A)+R[3]+3572445317&4294967295,O=F+(D<<16&4294967295|D>>>16),D=A+(O^F^C)+R[6]+76029189&4294967295,A=O+(D<<23&4294967295|D>>>9),D=C+(A^O^F)+R[9]+3654602809&4294967295,C=A+(D<<4&4294967295|D>>>28),D=F+(C^A^O)+R[12]+3873151461&4294967295,F=C+(D<<11&4294967295|D>>>21),D=O+(F^C^A)+R[15]+530742520&4294967295,O=F+(D<<16&4294967295|D>>>16),D=A+(O^F^C)+R[2]+3299628645&4294967295,A=O+(D<<23&4294967295|D>>>9),D=C+(O^(A|~F))+R[0]+4096336452&4294967295,C=A+(D<<6&4294967295|D>>>26),D=F+(A^(C|~O))+R[7]+1126891415&4294967295,F=C+(D<<10&4294967295|D>>>22),D=O+(C^(F|~A))+R[14]+2878612391&4294967295,O=F+(D<<15&4294967295|D>>>17),D=A+(F^(O|~C))+R[5]+4237533241&4294967295,A=O+(D<<21&4294967295|D>>>11),D=C+(O^(A|~F))+R[12]+1700485571&4294967295,C=A+(D<<6&4294967295|D>>>26),D=F+(A^(C|~O))+R[3]+2399980690&4294967295,F=C+(D<<10&4294967295|D>>>22),D=O+(C^(F|~A))+R[10]+4293915773&4294967295,O=F+(D<<15&4294967295|D>>>17),D=A+(F^(O|~C))+R[1]+2240044497&4294967295,A=O+(D<<21&4294967295|D>>>11),D=C+(O^(A|~F))+R[8]+1873313359&4294967295,C=A+(D<<6&4294967295|D>>>26),D=F+(A^(C|~O))+R[15]+4264355552&4294967295,F=C+(D<<10&4294967295|D>>>22),D=O+(C^(F|~A))+R[6]+2734768916&4294967295,O=F+(D<<15&4294967295|D>>>17),D=A+(F^(O|~C))+R[13]+1309151649&4294967295,A=O+(D<<21&4294967295|D>>>11),D=C+(O^(A|~F))+R[4]+4149444226&4294967295,C=A+(D<<6&4294967295|D>>>26),D=F+(A^(C|~O))+R[11]+3174756917&4294967295,F=C+(D<<10&4294967295|D>>>22),D=O+(C^(F|~A))+R[2]+718787259&4294967295,O=F+(D<<15&4294967295|D>>>17),D=A+(F^(O|~C))+R[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+F&4294967295}i.prototype.u=function(N,C){C===void 0&&(C=N.length);for(var A=C-this.blockSize,R=this.B,O=this.h,F=0;F<C;){if(O==0)for(;F<=A;)r(this,N,F),F+=this.blockSize;if(typeof N=="string"){for(;F<C;)if(R[O++]=N.charCodeAt(F++),O==this.blockSize){r(this,R),O=0;break}}else for(;F<C;)if(R[O++]=N[F++],O==this.blockSize){r(this,R),O=0;break}}this.h=O,this.o+=C},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;var A=8*this.o;for(C=N.length-8;C<N.length;++C)N[C]=A&255,A/=256;for(this.u(N),N=Array(16),C=A=0;4>C;++C)for(var R=0;32>R;R+=8)N[A++]=this.g[C]>>>R&255;return N};function o(N,C){var A=u;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=C(N)}function a(N,C){this.h=C;for(var A=[],R=!0,O=N.length-1;0<=O;O--){var F=N[O]|0;R&&F==C||(A[O]=F,R=!1)}this.g=A}var u={};function h(N){return-128<=N&&128>N?o(N,function(C){return new a([C|0],0>C?-1:0)}):new a([N|0],0>N?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return _;if(0>N)return z(f(-N));for(var C=[],A=1,R=0;N>=A;R++)C[R]=N/A|0,A*=4294967296;return new a(C,0)}function m(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return z(m(N.substring(1),C));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=f(Math.pow(C,8)),R=_,O=0;O<N.length;O+=8){var F=Math.min(8,N.length-O),D=parseInt(N.substring(O,O+F),C);8>F?(F=f(Math.pow(C,F)),R=R.j(F).add(f(D))):(R=R.j(A),R=R.add(f(D)))}return R}var _=h(0),w=h(1),P=h(16777216);t=a.prototype,t.m=function(){if(k(this))return-z(this).m();for(var N=0,C=1,A=0;A<this.g.length;A++){var R=this.i(A);N+=(0<=R?R:4294967296+R)*C,C*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(S(this))return"0";if(k(this))return"-"+z(this).toString(N);for(var C=f(Math.pow(N,6)),A=this,R="";;){var O=V(A,C).g;A=I(A,O.j(C));var F=((0<A.g.length?A.g[0]:A.h)>>>0).toString(N);if(A=O,S(A))return F+R;for(;6>F.length;)F="0"+F;R=F+R}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function S(N){if(N.h!=0)return!1;for(var C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function k(N){return N.h==-1}t.l=function(N){return N=I(this,N),k(N)?-1:S(N)?0:1};function z(N){for(var C=N.g.length,A=[],R=0;R<C;R++)A[R]=~N.g[R];return new a(A,~N.h).add(w)}t.abs=function(){return k(this)?z(this):this},t.add=function(N){for(var C=Math.max(this.g.length,N.g.length),A=[],R=0,O=0;O<=C;O++){var F=R+(this.i(O)&65535)+(N.i(O)&65535),D=(F>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);R=D>>>16,F&=65535,D&=65535,A[O]=D<<16|F}return new a(A,A[A.length-1]&-2147483648?-1:0)};function I(N,C){return N.add(z(C))}t.j=function(N){if(S(this)||S(N))return _;if(k(this))return k(N)?z(this).j(z(N)):z(z(this).j(N));if(k(N))return z(this.j(z(N)));if(0>this.l(P)&&0>N.l(P))return f(this.m()*N.m());for(var C=this.g.length+N.g.length,A=[],R=0;R<2*C;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var O=0;O<N.g.length;O++){var F=this.i(R)>>>16,D=this.i(R)&65535,ce=N.i(O)>>>16,Te=N.i(O)&65535;A[2*R+2*O]+=D*Te,T(A,2*R+2*O),A[2*R+2*O+1]+=F*Te,T(A,2*R+2*O+1),A[2*R+2*O+1]+=D*ce,T(A,2*R+2*O+1),A[2*R+2*O+2]+=F*ce,T(A,2*R+2*O+2)}for(R=0;R<C;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=C;R<2*C;R++)A[R]=0;return new a(A,0)};function T(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function E(N,C){this.g=N,this.h=C}function V(N,C){if(S(C))throw Error("division by zero");if(S(N))return new E(_,_);if(k(N))return C=V(z(N),C),new E(z(C.g),z(C.h));if(k(C))return C=V(N,z(C)),new E(z(C.g),C.h);if(30<N.g.length){if(k(N)||k(C))throw Error("slowDivide_ only works with positive integers.");for(var A=w,R=C;0>=R.l(N);)A=j(A),R=j(R);var O=W(A,1),F=W(R,1);for(R=W(R,2),A=W(A,2);!S(R);){var D=F.add(R);0>=D.l(N)&&(O=O.add(A),F=D),R=W(R,1),A=W(A,1)}return C=I(N,O.j(C)),new E(O,C)}for(O=_;0<=N.l(C);){for(A=Math.max(1,Math.floor(N.m()/C.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),F=f(A),D=F.j(C);k(D)||0<D.l(N);)A-=R,F=f(A),D=F.j(C);S(F)&&(F=w),O=O.add(F),N=I(N,D)}return new E(O,N)}t.A=function(N){return V(this,N).h},t.and=function(N){for(var C=Math.max(this.g.length,N.g.length),A=[],R=0;R<C;R++)A[R]=this.i(R)&N.i(R);return new a(A,this.h&N.h)},t.or=function(N){for(var C=Math.max(this.g.length,N.g.length),A=[],R=0;R<C;R++)A[R]=this.i(R)|N.i(R);return new a(A,this.h|N.h)},t.xor=function(N){for(var C=Math.max(this.g.length,N.g.length),A=[],R=0;R<C;R++)A[R]=this.i(R)^N.i(R);return new a(A,this.h^N.h)};function j(N){for(var C=N.g.length+1,A=[],R=0;R<C;R++)A[R]=N.i(R)<<1|N.i(R-1)>>>31;return new a(A,N.h)}function W(N,C){var A=C>>5;C%=32;for(var R=N.g.length-A,O=[],F=0;F<R;F++)O[F]=0<C?N.i(F+A)>>>C|N.i(F+A+1)<<32-C:N.i(F+A);return new a(O,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,gS=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=m,vs=a}).apply(typeof Fy<"u"?Fy:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _S,yl,vS,eh,tm,yS,wS,TS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,y){return c==Array.prototype||c==Object.prototype||(c[g]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var g=0;g<c.length;++g){var y=c[g];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=n(this);function r(c,g){if(g)e:{var y=i;c=c.split(".");for(var b=0;b<c.length-1;b++){var $=c[b];if(!($ in y))break e;y=y[$]}c=c[c.length-1],b=y[c],g=g(b),g!=b&&g!=null&&e(y,c,{configurable:!0,writable:!0,value:g})}}function o(c,g){c instanceof String&&(c+="");var y=0,b=!1,$={next:function(){if(!b&&y<c.length){var K=y++;return{value:g(K,c[K]),done:!1}}return b=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}r("Array.prototype.values",function(c){return c||function(){return o(this,function(g,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function h(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function f(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function m(c,g,y){return c.call.apply(c.bind,arguments)}function _(c,g,y){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,b),c.apply(g,$)}}return function(){return c.apply(g,arguments)}}function w(c,g,y){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:_,w.apply(null,arguments)}function P(c,g){var y=Array.prototype.slice.call(arguments,1);return function(){var b=y.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function S(c,g){function y(){}y.prototype=g.prototype,c.aa=g.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(b,$,K){for(var te=Array(arguments.length-2),De=2;De<arguments.length;De++)te[De-2]=arguments[De];return g.prototype[$].apply(b,te)}}function k(c){const g=c.length;if(0<g){const y=Array(g);for(let b=0;b<g;b++)y[b]=c[b];return y}return[]}function z(c,g){for(let y=1;y<arguments.length;y++){const b=arguments[y];if(h(b)){const $=c.length||0,K=b.length||0;c.length=$+K;for(let te=0;te<K;te++)c[$+te]=b[te]}else c.push(b)}}class I{constructor(g,y){this.i=g,this.j=y,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function T(c){return/^[\s\xa0]*$/.test(c)}function E(){var c=u.navigator;return c&&(c=c.userAgent)?c:""}function V(c){return V[" "](c),c}V[" "]=function(){};var j=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function W(c,g,y){for(const b in c)g.call(y,c[b],b,c)}function N(c,g){for(const y in c)g.call(void 0,c[y],y,c)}function C(c){const g={};for(const y in c)g[y]=c[y];return g}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(c,g){let y,b;for(let $=1;$<arguments.length;$++){b=arguments[$];for(y in b)c[y]=b[y];for(let K=0;K<A.length;K++)y=A[K],Object.prototype.hasOwnProperty.call(b,y)&&(c[y]=b[y])}}function O(c){var g=1;c=c.split(":");const y=[];for(;0<g&&c.length;)y.push(c.shift()),g--;return c.length&&y.push(c.join(":")),y}function F(c){u.setTimeout(()=>{throw c},0)}function D(){var c=ee;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ce{constructor(){this.h=this.g=null}add(g,y){const b=Te.get();b.set(g,y),this.h?this.h.next=b:this.g=b,this.h=b}}var Te=new I(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(g,y){this.h=g,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,q=!1,ee=new ce,Z=()=>{const c=u.Promise.resolve(void 0);Pe=()=>{c.then(le)}};var le=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(y){F(y)}var g=Te;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}q=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ce(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}Ce.prototype.h=function(){this.defaultPrevented=!0};var Oe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};u.addEventListener("test",y,g),u.removeEventListener("test",y,g)}catch{}return c}();function Ee(c,g){if(Ce.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(j){e:{try{V(g.nodeName);var $=!0;break e}catch{}$=!1}$||(g=null)}}else y=="mouseover"?g=c.fromElement:y=="mouseout"&&(g=c.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:_e[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ee.aa.h.call(this)}}S(Ee,Ce);var _e={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),Yn=0;function Mu(c,g,y,b,$){this.listener=c,this.proxy=null,this.src=g,this.type=y,this.capture=!!b,this.ha=$,this.key=++Yn,this.da=this.fa=!1}function Qi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Yi(c){this.src=c,this.g={},this.h=0}Yi.prototype.add=function(c,g,y,b,$){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var te=Kr(c,g,b,$);return-1<te?(g=c[te],y||(g.fa=!1)):(g=new Mu(g,this.src,K,!!b,$),g.fa=y,c.push(g)),g};function _i(c,g){var y=g.type;if(y in c.g){var b=c.g[y],$=Array.prototype.indexOf.call(b,g,void 0),K;(K=0<=$)&&Array.prototype.splice.call(b,$,1),K&&(Qi(g),c.g[y].length==0&&(delete c.g[y],c.h--))}}function Kr(c,g,y,b){for(var $=0;$<c.length;++$){var K=c[$];if(!K.da&&K.listener==g&&K.capture==!!y&&K.ha==b)return $}return-1}var wa="closure_lm_"+(1e6*Math.random()|0),Us={};function Ta(c,g,y,b,$){if(Array.isArray(g)){for(var K=0;K<g.length;K++)Ta(c,g[K],y,b,$);return null}return y=Vu(y),c&&c[mt]?c.K(g,y,f(b)?!!b.capture:!1,$):Ea(c,g,y,!1,b,$)}function Ea(c,g,y,b,$,K){if(!g)throw Error("Invalid event type");var te=f($)?!!$.capture:!!$,De=qs(c);if(De||(c[wa]=De=new Yi(c)),y=De.add(g,y,b,te,K),y.proxy)return y;if(b=$s(),y.proxy=b,b.src=c,b.listener=y,c.addEventListener)Oe||($=te),$===void 0&&($=!1),c.addEventListener(g.toString(),b,$);else if(c.attachEvent)c.attachEvent(Ws(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return y}function $s(){function c(y){return g.call(c.src,c.listener,y)}const g=Du;return c}function Ou(c,g,y,b,$){if(Array.isArray(g))for(var K=0;K<g.length;K++)Ou(c,g[K],y,b,$);else b=f(b)?!!b.capture:!!b,y=Vu(y),c&&c[mt]?(c=c.i,g=String(g).toString(),g in c.g&&(K=c.g[g],y=Kr(K,y,b,$),-1<y&&(Qi(K[y]),Array.prototype.splice.call(K,y,1),K.length==0&&(delete c.g[g],c.h--)))):c&&(c=qs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Kr(g,y,b,$)),(y=-1<c?g[c]:null)&&Hs(y))}function Hs(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[mt])_i(g.i,c);else{var y=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(y,b,c.capture):g.detachEvent?g.detachEvent(Ws(y),b):g.addListener&&g.removeListener&&g.removeListener(b),(y=qs(g))?(_i(y,c),y.h==0&&(y.src=null,g[wa]=null)):Qi(c)}}}function Ws(c){return c in Us?Us[c]:Us[c]="on"+c}function Du(c,g){if(c.da)c=!0;else{g=new Ee(g,this);var y=c.listener,b=c.ha||c.src;c.fa&&Hs(c),c=y.call(b,g)}return c}function qs(c){return c=c[wa],c instanceof Yi?c:null}var Sa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vu(c){return typeof c=="function"?c:(c[Sa]||(c[Sa]=function(g){return c.handleEvent(g)}),c[Sa])}function ut(){pe.call(this),this.i=new Yi(this),this.M=this,this.F=null}S(ut,pe),ut.prototype[mt]=!0,ut.prototype.removeEventListener=function(c,g,y,b){Ou(this,c,g,y,b)};function yt(c,g){var y,b=c.F;if(b)for(y=[];b;b=b.F)y.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new Ce(g,c);else if(g instanceof Ce)g.target=g.target||c;else{var $=g;g=new Ce(b,c),R(g,$)}if($=!0,y)for(var K=y.length-1;0<=K;K--){var te=g.g=y[K];$=Zr(te,b,!0,g)&&$}if(te=g.g=c,$=Zr(te,b,!0,g)&&$,$=Zr(te,b,!1,g)&&$,y)for(K=0;K<y.length;K++)te=g.g=y[K],$=Zr(te,b,!1,g)&&$}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var y=c.g[g],b=0;b<y.length;b++)Qi(y[b]);delete c.g[g],c.h--}}this.F=null},ut.prototype.K=function(c,g,y,b){return this.i.add(String(c),g,!1,y,b)},ut.prototype.L=function(c,g,y,b){return this.i.add(String(c),g,!0,y,b)};function Zr(c,g,y,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var $=!0,K=0;K<g.length;++K){var te=g[K];if(te&&!te.da&&te.capture==y){var De=te.listener,ct=te.ha||te.src;te.fa&&_i(c.i,te),$=De.call(ct,b)!==!1&&$}}return $&&!b.defaultPrevented}function zu(c,g,y){if(typeof c=="function")y&&(c=w(c,y));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:u.setTimeout(c,g||0)}function Ia(c){c.g=zu(()=>{c.g=null,c.i&&(c.i=!1,Ia(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Fu extends pe{constructor(g,y){super(),this.m=g,this.l=y,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Ia(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(c){pe.call(this),this.h=c,this.g={}}S(Qr,pe);var xa=[];function Gs(c){W(c.g,function(g,y){this.g.hasOwnProperty(y)&&Hs(g)},c),c.g={}}Qr.prototype.N=function(){Qr.aa.N.call(this),Gs(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ks=u.JSON.stringify,Gd=u.JSON.parse,Yr=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function Pa(){}Pa.prototype.h=null;function Bu(c){return c.h||(c.h=c.i())}function Ca(){}var Xi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zs(){Ce.call(this,"d")}S(Zs,Ce);function Aa(){Ce.call(this,"c")}S(Aa,Ce);var vi={},ju=null;function Qs(){return ju=ju||new ut}vi.La="serverreachability";function Uu(c){Ce.call(this,vi.La,c)}S(Uu,Ce);function Xr(c){const g=Qs();yt(g,new Uu(g))}vi.STAT_EVENT="statevent";function Ys(c,g){Ce.call(this,vi.STAT_EVENT,c),this.stat=g}S(Ys,Ce);function Pt(c){const g=Qs();yt(g,new Ys(g,c))}vi.Ma="timingevent";function $u(c,g){Ce.call(this,vi.Ma,c),this.size=g}S($u,Ce);function Jr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},g)}function es(){this.g=!0}es.prototype.xa=function(){this.g=!1};function yn(c,g,y,b,$,K){c.info(function(){if(c.g)if(K)for(var te="",De=K.split("&"),ct=0;ct<De.length;ct++){var Re=De[ct].split("=");if(1<Re.length){var Be=Re[0];Re=Re[1];var Qe=Be.split("_");te=2<=Qe.length&&Qe[1]=="type"?te+(Be+"="+Re+"&"):te+(Be+"=redacted&")}}else te=null;else te=K;return"XMLHTTP REQ ("+b+") [attempt "+$+"]: "+g+`
`+y+`
`+te})}function ae(c,g,y,b,$,K,te){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+$+"]: "+g+`
`+y+`
`+K+" "+te})}function yi(c,g,y,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Wu(c,y)+(b?" "+b:"")})}function Hu(c,g){c.info(function(){return"TIMEOUT: "+g})}es.prototype.info=function(){};function Wu(c,g){if(!c.g)return g;if(!g)return null;try{var y=JSON.parse(g);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var b=y[c];if(!(2>b.length)){var $=b[1];if(Array.isArray($)&&!(1>$.length)){var K=$[0];if(K!="noop"&&K!="stop"&&K!="close")for(var te=1;te<$.length;te++)$[te]=""}}}}return Ks(y)}catch{return g}}var ts={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Js;function Mn(){}S(Mn,Pa),Mn.prototype.g=function(){return new XMLHttpRequest},Mn.prototype.i=function(){return{}},Js=new Mn;function On(c,g,y,b){this.j=c,this.i=g,this.l=y,this.R=b||1,this.U=new Qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qu}function qu(){this.i=null,this.g="",this.h=!1}var Gu={},ba={};function ka(c,g,y){c.L=1,c.v=Tn(nt(g)),c.m=y,c.P=!0,Ra(c,null)}function Ra(c,g){c.F=Date.now(),to(c),c.A=nt(c.v);var y=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Qu(y.i,"t",b),c.C=0,y=c.j.J,c.h=new qu,c.g=ic(c.j,y?g:null,!c.m),0<c.O&&(c.M=new Fu(w(c.Y,c,c.g),c.O)),g=c.U,y=c.g,b=c.ca;var $="readystatechange";Array.isArray($)||($&&(xa[0]=$.toString()),$=xa);for(var K=0;K<$.length;K++){var te=Ta(y,$[K],b||g.handleEvent,!1,g.h||g);if(!te)break;g.g[te.key]=te}g=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Xr(),yn(c.i,c.u,c.A,c.l,c.R,c.m)}On.prototype.ca=function(c){c=c.target;const g=this.M;g&&Ut(c)==3?g.j():this.Y(c)},On.prototype.Y=function(c){try{if(c==this.g)e:{const Qe=Ut(this.g);var g=this.g.Ba();const sr=this.g.Z();if(!(3>Qe)&&(Qe!=3||this.g&&(this.h.h||this.g.oa()||Ga(this.g)))){this.J||Qe!=4||g==7||(g==8||0>=sr?Xr(3):Xr(2)),La(this);var y=this.g.Z();this.X=y;t:if(Ku(this)){var b=Ga(this.g);c="";var $=b.length,K=Ut(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wi(this),ns(this);var te="";break t}this.h.i=new u.TextDecoder}for(g=0;g<$;g++)this.h.h=!0,c+=this.h.i.decode(b[g],{stream:!(K&&g==$-1)});b.length=0,this.h.g+=c,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=y==200,ae(this.i,this.u,this.A,this.l,this.R,Qe,y),this.o){if(this.T&&!this.K){t:{if(this.g){var De,ct=this.g;if((De=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(De)){var Re=De;break t}}Re=null}if(y=Re)yi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,is(this,y);else{this.o=!1,this.s=3,Pt(12),wi(this),ns(this);break e}}if(this.P){y=!0;let rt;for(;!this.J&&this.C<te.length;)if(rt=eo(this,te),rt==ba){Qe==4&&(this.s=4,Pt(14),y=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(rt==Gu){this.s=4,Pt(15),yi(this.i,this.l,te,"[Invalid Chunk]"),y=!1;break}else yi(this.i,this.l,rt,null),is(this,rt);if(Ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||te.length!=0||this.h.h||(this.s=1,Pt(16),y=!1),this.o=this.o&&y,!y)yi(this.i,this.l,te,"[Invalid Chunked Response]"),wi(this),ns(this);else if(0<te.length&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.ba&&!Be.M&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),co(Be),Be.M=!0,Pt(11))}}else yi(this.i,this.l,te,null),is(this,te);Qe==4&&wi(this),this.o&&!this.J&&(Qe==4?Za(this.j,this):(this.o=!1,to(this)))}else Kd(this.g),y==400&&0<te.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),wi(this),ns(this)}}}catch{}finally{}};function Ku(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function eo(c,g){var y=c.C,b=g.indexOf(`
`,y);return b==-1?ba:(y=Number(g.substring(y,b)),isNaN(y)?Gu:(b+=1,b+y>g.length?ba:(g=g.slice(b,b+y),c.C=b+y,g)))}On.prototype.cancel=function(){this.J=!0,wi(this)};function to(c){c.S=Date.now()+c.I,Zu(c,c.I)}function Zu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Jr(w(c.ba,c),g)}function La(c){c.B&&(u.clearTimeout(c.B),c.B=null)}On.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Hu(this.i,this.A),this.L!=2&&(Xr(),Pt(17)),wi(this),this.s=2,ns(this)):Zu(this,this.S-c)};function ns(c){c.j.G==0||c.J||Za(c.j,c)}function wi(c){La(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Gs(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function is(c,g){try{var y=c.j;if(y.G!=0&&(y.g==c||Ae(y.h,c))){if(!c.K&&Ae(y.h,c)&&y.G==3){try{var b=y.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var $=b;if($[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)fo(y),lo(y);else break e;uo(y),Pt(18)}}else y.za=$[1],0<y.za-y.T&&37500>$[2]&&y.F&&y.v==0&&!y.C&&(y.C=Jr(w(y.Za,y),6e3));if(1>=Ji(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else xi(y,11)}else if((c.K||y.g==c)&&fo(y),!T(g))for($=y.Da.g.parse(g),g=0;g<$.length;g++){let Re=$[g];if(y.T=Re[0],Re=Re[1],y.G==2)if(Re[0]=="c"){y.K=Re[1],y.ia=Re[2];const Be=Re[3];Be!=null&&(y.la=Be,y.j.info("VER="+y.la));const Qe=Re[4];Qe!=null&&(y.Aa=Qe,y.j.info("SVER="+y.Aa));const sr=Re[5];sr!=null&&typeof sr=="number"&&0<sr&&(b=1.5*sr,y.L=b,y.j.info("backChannelRequestTimeoutMs_="+b)),b=y;const rt=c.g;if(rt){const mo=rt.g?rt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mo){var K=b.h;K.g||mo.indexOf("spdy")==-1&&mo.indexOf("quic")==-1&&mo.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(je(K,K.h),K.h=null))}if(b.D){const ei=rt.g?rt.g.getResponseHeader("X-HTTP-Session-Id"):null;ei&&(b.ya=ei,me(b.I,b.D,ei))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),b=y;var te=c;if(b.qa=po(b,b.J?b.ia:null,b.W),te.K){ss(b.h,te);var De=te,ct=b.L;ct&&(De.I=ct),De.B&&(La(De),to(De)),b.g=te}else zn(b);0<y.i.length&&rr(y)}else Re[0]!="stop"&&Re[0]!="close"||xi(y,7);else y.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?xi(y,7):ao(y):Re[0]!="noop"&&y.l&&y.l.ta(Re),y.v=0)}}Xr(4)}catch{}}var rs=class{constructor(c,g){this.g=c,this.map=g}};function Na(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ma(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ji(c){return c.h?1:c.g?c.g.size:0}function Ae(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function je(c,g){c.g?c.g.add(g):c.h=g}function ss(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Na.prototype.cancel=function(){if(this.i=Ti(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ti(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const y of c.g.values())g=g.concat(y.D);return g}return k(c.i)}function er(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(h(c)){for(var g=[],y=c.length,b=0;b<y;b++)g.push(c[b]);return g}g=[],y=0;for(b in c)g[y++]=c[b];return g}function Oa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(h(c)||typeof c=="string"){var g=[];c=c.length;for(var y=0;y<c;y++)g.push(y);return g}g=[],y=0;for(const b in c)g[y++]=b;return g}}}function we(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(h(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var y=Oa(c),b=er(c),$=b.length,K=0;K<$;K++)g.call(void 0,b[K],y&&y[K],c)}var qe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Da(c,g){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var b=c[y].indexOf("="),$=null;if(0<=b){var K=c[y].substring(0,b);$=c[y].substring(b+1)}else K=c[y];g(K,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function wn(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wn){this.h=c.h,no(this,c.j),this.o=c.o,this.g=c.g,Ei(this,c.s),this.l=c.l;var g=c.i,y=new Si;y.i=g.i,g.g&&(y.g=new Map(g.g),y.h=g.h),Xn(this,y),this.m=c.m}else c&&(g=String(c).match(qe))?(this.h=!1,no(this,g[1]||"",!0),this.o=Dn(g[2]||""),this.g=Dn(g[3]||"",!0),Ei(this,g[4]),this.l=Dn(g[5]||"",!0),Xn(this,g[6]||"",!0),this.m=Dn(g[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}wn.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Vn(g,tr,!0),":");var y=this.g;return(y||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Vn(g,tr,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(Vn(y,y.charAt(0)=="/"?Fa:za,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",Vn(y,Ba)),c.join("")};function nt(c){return new wn(c)}function no(c,g,y){c.j=y?Dn(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Ei(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Xn(c,g,y){g instanceof Si?(c.i=g,En(c.i,c.h)):(y||(g=Vn(g,io)),c.i=new Si(g,c.h))}function me(c,g,y){c.i.set(g,y)}function Tn(c){return me(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Dn(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vn(c,g,y){return typeof c=="string"?(c=encodeURI(c).replace(g,Va),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Va(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var tr=/[#\/\?@]/g,za=/[#\?:]/g,Fa=/[#\?]/g,io=/[#\?@]/g,Ba=/#/g;function Si(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&Da(c.i,function(g,y){c.add(decodeURIComponent(g.replace(/\+/g," ")),y)}))}t=Si.prototype,t.add=function(c,g){an(this),this.i=null,c=he(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(g),this.h+=1,this};function ja(c,g){an(c),g=he(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function ro(c,g){return an(c),g=he(c,g),c.g.has(g)}t.forEach=function(c,g){an(this),this.g.forEach(function(y,b){y.forEach(function($){c.call(g,$,b,this)},this)},this)},t.na=function(){an(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),y=[];for(let b=0;b<g.length;b++){const $=c[b];for(let K=0;K<$.length;K++)y.push(g[b])}return y},t.V=function(c){an(this);let g=[];if(typeof c=="string")ro(this,c)&&(g=g.concat(this.g.get(he(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)g=g.concat(c[y])}return g},t.set=function(c,g){return an(this),this.i=null,c=he(this,c),ro(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Qu(c,g,y){ja(c,g),0<y.length&&(c.i=null,c.g.set(he(c,g),k(y)),c.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var y=0;y<g.length;y++){var b=g[y];const K=encodeURIComponent(String(b)),te=this.V(b);for(b=0;b<te.length;b++){var $=K;te[b]!==""&&($+="="+encodeURIComponent(String(te[b]))),c.push($)}}return this.i=c.join("&")};function he(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function En(c,g){g&&!c.j&&(an(c),c.i=null,c.g.forEach(function(y,b){var $=b.toLowerCase();b!=$&&(ja(this,b),Qu(this,$,y))},c)),c.j=g}function Fe(c,g){const y=new es;if(u.Image){const b=new Image;b.onload=P(Sn,y,"TestLoadImage: loaded",!0,g,b),b.onerror=P(Sn,y,"TestLoadImage: error",!1,g,b),b.onabort=P(Sn,y,"TestLoadImage: abort",!1,g,b),b.ontimeout=P(Sn,y,"TestLoadImage: timeout",!1,g,b),u.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function Yu(c,g){const y=new es,b=new AbortController,$=setTimeout(()=>{b.abort(),Sn(y,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(K=>{clearTimeout($),K.ok?Sn(y,"TestPingServer: ok",!0,g):Sn(y,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout($),Sn(y,"TestPingServer: error",!1,g)})}function Sn(c,g,y,b,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),b(y)}catch{}}function Ua(){this.g=new Yr}function $a(c,g,y){const b=y||"";try{we(c,function($,K){let te=$;f($)&&(te=Ks($)),g.push(b+K+"="+encodeURIComponent(te))})}catch($){throw g.push(b+"type="+encodeURIComponent("_badmap")),$}}function In(c){this.l=c.Ub||null,this.j=c.eb||!1}S(In,Pa),In.prototype.g=function(){return new nr(this.l,this.j)},In.prototype.i=function(c){return function(){return c}}({});function nr(c,g){ut.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(nr,ut),t=nr.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ln(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||u).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ze(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ln(this)),this.g&&(this.readyState=3,ln(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ir(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ir(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Ze(this):ln(this),this.readyState==3&&ir(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ze(this))},t.Qa=function(c){this.g&&(this.response=c,Ze(this))},t.ga=function(){this.g&&Ze(this)};function Ze(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ln(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var y=g.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=g.next();return c.join(`\r
`)};function ln(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ha(c){let g="";return W(c,function(y,b){g+=b,g+=":",g+=y,g+=`\r
`}),g}function so(c,g,y){e:{for(b in y){var b=!1;break e}b=!0}b||(y=Ha(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):me(c,g,y))}function Ge(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ge,ut);var Xu=/^https?$/i,Wa=["POST","PUT"];t=Ge.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,y,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Js.g(),this.v=this.o?Bu(this.o):Bu(Js),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(K){Ju(this,K);return}if(c=y||"",y=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var $ in b)y.set($,b[$]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const K of b.keys())y.set(K,b.get(K));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(y.keys()).find(K=>K.toLowerCase()=="content-type"),$=u.FormData&&c instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Wa,g,void 0))||b||$||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,te]of y)this.g.setRequestHeader(K,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qt(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Ju(this,K)}};function Ju(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,qa(c),oo(c)}function qa(c){c.A||(c.A=!0,yt(c,"complete"),yt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,yt(this,"complete"),yt(this,"abort"),oo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oo(this,!0)),Ge.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ie(this):this.bb())},t.bb=function(){Ie(this)};function Ie(c){if(c.h&&typeof a<"u"&&(!c.v[1]||Ut(c)!=4||c.Z()!=2)){if(c.u&&Ut(c)==4)zu(c.Ea,0,c);else if(yt(c,"readystatechange"),Ut(c)==4){c.h=!1;try{const te=c.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var y;if(!(y=g)){var b;if(b=te===0){var $=String(c.D).match(qe)[1]||null;!$&&u.self&&u.self.location&&($=u.self.location.protocol.slice(0,-1)),b=!Xu.test($?$.toLowerCase():"")}y=b}if(y)yt(c,"complete"),yt(c,"success");else{c.m=6;try{var K=2<Ut(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",qa(c)}}finally{oo(c)}}}}function oo(c,g){if(c.g){Qt(c);const y=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||yt(c,"ready");try{y.onreadystatechange=b}catch{}}}function Qt(c){c.I&&(u.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Ut(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Ut(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Gd(g)}};function Ga(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Kd(c){const g={};c=(c.g&&2<=Ut(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(T(c[b]))continue;var y=O(c[b]);const $=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const K=g[$]||[];g[$]=K,K.push(y)}N(g,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(c,g,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||g}function ec(c){this.Aa=0,this.i=[],this.j=new es,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ii("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ii("baseRetryDelayMs",5e3,c),this.cb=Ii("retryDelaySeedMs",1e4,c),this.Wa=Ii("forwardChannelMaxRetries",2,c),this.wa=Ii("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Na(c&&c.concurrentRequestLimit),this.Da=new Ua,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ec.prototype,t.la=8,t.G=1,t.connect=function(c,g,y,b){Pt(0),this.W=c,this.H=g||{},y&&b!==void 0&&(this.H.OSID=y,this.H.OAID=b),this.F=this.X,this.I=po(this,null,this.W),rr(this)};function ao(c){if(tc(c),c.G==3){var g=c.U++,y=nt(c.I);if(me(y,"SID",c.K),me(y,"RID",g),me(y,"TYPE","terminate"),os(c,y),g=new On(c,c.j,g),g.L=2,g.v=Tn(nt(y)),y=!1,u.navigator&&u.navigator.sendBeacon)try{y=u.navigator.sendBeacon(g.v.toString(),"")}catch{}!y&&u.Image&&(new Image().src=g.v,y=!0),y||(g.g=ic(g.j,null),g.g.ea(g.v)),g.F=Date.now(),to(g)}nc(c)}function lo(c){c.g&&(co(c),c.g.cancel(),c.g=null)}function tc(c){lo(c),c.u&&(u.clearTimeout(c.u),c.u=null),fo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&u.clearTimeout(c.s),c.s=null)}function rr(c){if(!Ma(c.h)&&!c.s){c.s=!0;var g=c.Ga;Pe||Z(),q||(Pe(),q=!0),ee.add(g,c),c.B=0}}function Zd(c,g){return Ji(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Jr(w(c.Ga,c,g),Qa(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const $=new On(this,this.j,c);let K=this.o;if(this.S&&(K?(K=C(K),R(K,this.S)):K=this.S),this.m!==null||this.O||($.H=K,K=null),this.P)e:{for(var g=0,y=0;y<this.i.length;y++){t:{var b=this.i[y];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=y;break e}if(g===4096||y===this.i.length-1){g=y+1;break e}}g=1e3}else g=1e3;g=Ka(this,$,g),y=nt(this.I),me(y,"RID",c),me(y,"CVER",22),this.D&&me(y,"X-HTTP-Session-Id",this.D),os(this,y),K&&(this.O?g="headers="+encodeURIComponent(String(Ha(K)))+"&"+g:this.m&&so(y,this.m,K)),je(this.h,$),this.Ua&&me(y,"TYPE","init"),this.P?(me(y,"$req",g),me(y,"SID","null"),$.T=!0,ka($,y,null)):ka($,y,g),this.G=2}}else this.G==3&&(c?un(this,c):this.i.length==0||Ma(this.h)||un(this))};function un(c,g){var y;g?y=g.l:y=c.U++;const b=nt(c.I);me(b,"SID",c.K),me(b,"RID",y),me(b,"AID",c.T),os(c,b),c.m&&c.o&&so(b,c.m,c.o),y=new On(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Ka(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),je(c.h,y),ka(y,b,g)}function os(c,g){c.H&&W(c.H,function(y,b){me(g,b,y)}),c.l&&we({},function(y,b){me(g,b,y)})}function Ka(c,g,y){y=Math.min(c.i.length,y);var b=c.l?w(c.l.Na,c.l,c):null;e:{var $=c.i;let K=-1;for(;;){const te=["count="+y];K==-1?0<y?(K=$[0].g,te.push("ofs="+K)):K=0:te.push("ofs="+K);let De=!0;for(let ct=0;ct<y;ct++){let Re=$[ct].g;const Be=$[ct].map;if(Re-=K,0>Re)K=Math.max(0,$[ct].g-100),De=!1;else try{$a(Be,te,"req"+Re+"_")}catch{b&&b(Be)}}if(De){b=te.join("&");break e}}}return c=c.i.splice(0,y),g.D=c,b}function zn(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Pe||Z(),q||(Pe(),q=!0),ee.add(g,c),c.v=0}}function uo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Jr(w(c.Fa,c),Qa(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,ho(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Jr(w(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),lo(this),ho(this))};function co(c){c.A!=null&&(u.clearTimeout(c.A),c.A=null)}function ho(c){c.g=new On(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=nt(c.qa);me(g,"RID","rpc"),me(g,"SID",c.K),me(g,"AID",c.T),me(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&me(g,"TO",c.ja),me(g,"TYPE","xmlhttp"),os(c,g),c.m&&c.o&&so(g,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=Tn(nt(g)),y.m=null,y.P=!0,Ra(y,c)}t.Za=function(){this.C!=null&&(this.C=null,lo(this),uo(this),Pt(19))};function fo(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function Za(c,g){var y=null;if(c.g==g){fo(c),co(c),c.g=null;var b=2}else if(Ae(c.h,g))y=g.D,ss(c.h,g),b=1;else return;if(c.G!=0){if(g.o)if(b==1){y=g.m?g.m.length:0,g=Date.now()-g.F;var $=c.B;b=Qs(),yt(b,new $u(b,y)),rr(c)}else zn(c);else if($=g.s,$==3||$==0&&0<g.X||!(b==1&&Zd(c,g)||b==2&&uo(c)))switch(y&&0<y.length&&(g=c.h,g.i=g.i.concat(y)),$){case 1:xi(c,5);break;case 4:xi(c,10);break;case 3:xi(c,6);break;default:xi(c,2)}}}function Qa(c,g){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*g}function xi(c,g){if(c.j.info("Error code "+g),g==2){var y=w(c.fb,c),b=c.Xa;const $=!b;b=new wn(b||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||no(b,"https"),Tn(b),$?Fe(b.toString(),y):Yu(b.toString(),y)}else Pt(2);c.G=0,c.l&&c.l.sa(g),nc(c),tc(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function nc(c){if(c.G=0,c.ka=[],c.l){const g=Ti(c.h);(g.length!=0||c.i.length!=0)&&(z(c.ka,g),z(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function po(c,g,y){var b=y instanceof wn?nt(y):new wn(y);if(b.g!="")g&&(b.g=g+"."+b.g),Ei(b,b.s);else{var $=u.location;b=$.protocol,g=g?g+"."+$.hostname:$.hostname,$=+$.port;var K=new wn(null);b&&no(K,b),g&&(K.g=g),$&&Ei(K,$),y&&(K.l=y),b=K}return y=c.D,g=c.ya,y&&g&&me(b,y,g),me(b,"VER",c.la),os(c,b),b}function ic(c,g,y){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ge(new In({eb:y})):new Ge(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ya(){}t=Ya.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function as(){}as.prototype.g=function(c,g){return new wt(c,g)};function wt(c,g){ut.call(this),this.g=new ec(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!T(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!T(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new xn(this)}S(wt,ut),wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wt.prototype.close=function(){ao(this.g)},wt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=Ks(c),c=y);g.i.push(new rs(g.Ya++,c)),g.G==3&&rr(g)},wt.prototype.N=function(){this.g.l=null,delete this.j,ao(this.g),delete this.g,wt.aa.N.call(this)};function Jn(c){Zs.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const y in g){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}S(Jn,Zs);function rc(){Aa.call(this),this.status=1}S(rc,Aa);function xn(c){this.g=c}S(xn,Ya),xn.prototype.ua=function(){yt(this.g,"a")},xn.prototype.ta=function(c){yt(this.g,new Jn(c))},xn.prototype.sa=function(c){yt(this.g,new rc)},xn.prototype.ra=function(){yt(this.g,"b")},as.prototype.createWebChannel=as.prototype.g,wt.prototype.send=wt.prototype.o,wt.prototype.open=wt.prototype.m,wt.prototype.close=wt.prototype.close,TS=function(){return new as},wS=function(){return Qs()},yS=vi,tm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ts.NO_ERROR=0,ts.TIMEOUT=8,ts.HTTP_ERROR=6,eh=ts,Xs.COMPLETE="complete",vS=Xs,Ca.EventType=Xi,Xi.OPEN="a",Xi.CLOSE="b",Xi.ERROR="c",Xi.MESSAGE="d",ut.prototype.listen=ut.prototype.K,yl=Ca,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,_S=Ge}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});const By="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pa="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new Td("@firebase/firestore");function hl(){return Cs.logLevel}function oe(t,...e){if(Cs.logLevel<=ke.DEBUG){const n=e.map(Mg);Cs.debug(`Firestore (${pa}): ${t}`,...n)}}function Wi(t,...e){if(Cs.logLevel<=ke.ERROR){const n=e.map(Mg);Cs.error(`Firestore (${pa}): ${t}`,...n)}}function ta(t,...e){if(Cs.logLevel<=ke.WARN){const n=e.map(Mg);Cs.warn(`Firestore (${pa}): ${t}`,...n)}}function Mg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${pa}) INTERNAL ASSERTION FAILED: `+t;throw Wi(e),new Error(e)}function ze(t,e){t||ge()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Qn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class _N{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vN{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0);let i=this.i;const r=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let o=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nr,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await r(this.currentUser)})},u=h=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ze(typeof i.accessToken=="string"),new ES(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Vt(e)}}class yN{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class wN{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new yN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ze(this.o===void 0);const i=o=>{o.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,oe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new TN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=SN(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}}function Me(t,e){return t<e?-1:t>e?1:0}function na(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new vt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new vt(0,0))}static max(){return new ve(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,i){n===void 0?n=0:n>e.length&&ge(),i===void 0?i=e.length-n:i>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ou.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ou?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const o=e.get(r),a=n.get(r);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class He extends ou{construct(e,n,i){return new He(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new se(Q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new He(n)}static emptyPath(){return new He([])}}const IN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends ou{construct(e,n,i){return new bt(e,n,i)}static isValidIdentifier(e){return IN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new bt(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const o=()=>{if(i.length===0)throw new se(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<e.length;){const u=e[r];if(u==="\\"){if(r+1===e.length)throw new se(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[r+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new se(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,r+=2}else u==="`"?(a=!a,r++):u!=="."||a?(i+=u,r++):(o(),r++)}if(o(),a)throw new se(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(n)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(He.fromString(e))}static fromName(e){return new ue(He.fromString(e).popFirst(5))}static empty(){return new ue(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new He(e.slice()))}}function xN(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=ve.fromTimestamp(i===1e9?new vt(n+1,0):new vt(n,i));return new Vr(r,ue.empty(),e)}function PN(t){return new Vr(t.readTime,t.key,-1)}class Vr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Vr(ve.min(),ue.empty(),-1)}static max(){return new Vr(ve.max(),ue.empty(),-1)}}function CN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==AN)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,i)=>{n(e)})}static reject(e){return new X((n,i)=>{i(e)})}static waitFor(e){return new X((n,i)=>{let r=0,o=0,a=!1;e.forEach(u=>{++r,u.next(()=>{++o,a&&o===r&&n()},h=>i(h))}),a=!0,o===r&&n()})}static or(e){let n=X.resolve(!1);for(const i of e)n=n.next(r=>r?X.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new X((i,r)=>{const o=e.length,a=new Array(o);let u=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next(m=>{a[f]=m,++u,u===o&&i(a)},m=>r(m))}})}static doWhile(e,n){return new X((i,r)=>{const o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}}function kN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Su(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Og.oe=-1;function Id(t){return t==null}function Hh(t){return t===0&&1/t==-1/0}function RN(t){return typeof t=="number"&&Number.isInteger(t)&&!Hh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function IS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??At.RED,this.left=r??At.EMPTY,this.right=o??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new At(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return At.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,i,r,o){return this}insert(e,n,i){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uy(this.data.getIterator())}getIteratorFrom(e){return new Uy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class Uy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new fn([])}unionWith(e){let n=new Rt(bt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return na(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new xS("Invalid base64 string: "+o):o}}(e);return new Nt(n)}static fromUint8Array(e){const n=function(r){let o="";for(let a=0;a<r.length;++a)o+=String.fromCharCode(r[a]);return o}(e);return new Nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const LN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(t){if(ze(!!t),typeof t=="string"){let e=0;const n=LN.exec(t);if(ze(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function As(t){return typeof t=="string"?Nt.fromBase64String(t):Nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vg(t){const e=t.mapValue.fields.__previous_value__;return Dg(e)?Vg(e):e}function au(t){const e=zr(t.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n,i,r,o,a,u,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f}}class lu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof lu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc={mapValue:{}};function bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dg(t)?4:ON(t)?9007199254740991:MN(t)?10:11:ge()}function gi(t,e){if(t===e)return!0;const n=bs(t);if(n!==bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return au(t).isEqual(au(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const a=zr(r.timestampValue),u=zr(o.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return As(r.bytesValue).isEqual(As(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return st(r.geoPointValue.latitude)===st(o.geoPointValue.latitude)&&st(r.geoPointValue.longitude)===st(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return st(r.integerValue)===st(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const a=st(r.doubleValue),u=st(o.doubleValue);return a===u?Hh(a)===Hh(u):isNaN(a)&&isNaN(u)}return!1}(t,e);case 9:return na(t.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return function(r,o){const a=r.mapValue.fields||{},u=o.mapValue.fields||{};if(jy(a)!==jy(u))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(u[h]===void 0||!gi(a[h],u[h])))return!1;return!0}(t,e);default:return ge()}}function uu(t,e){return(t.values||[]).find(n=>gi(n,e))!==void 0}function ia(t,e){if(t===e)return 0;const n=bs(t),i=bs(e);if(n!==i)return Me(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(o,a){const u=st(o.integerValue||o.doubleValue),h=st(a.integerValue||a.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return $y(t.timestampValue,e.timestampValue);case 4:return $y(au(t),au(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return function(o,a){const u=As(o),h=As(a);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const u=o.split("/"),h=a.split("/");for(let f=0;f<u.length&&f<h.length;f++){const m=Me(u[f],h[f]);if(m!==0)return m}return Me(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const u=Me(st(o.latitude),st(a.latitude));return u!==0?u:Me(st(o.longitude),st(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Hy(t.arrayValue,e.arrayValue);case 10:return function(o,a){var u,h,f,m;const _=o.fields||{},w=a.fields||{},P=(u=_.value)===null||u===void 0?void 0:u.arrayValue,S=(h=w.value)===null||h===void 0?void 0:h.arrayValue,k=Me(((f=P==null?void 0:P.values)===null||f===void 0?void 0:f.length)||0,((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0);return k!==0?k:Hy(P,S)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Vc.mapValue&&a===Vc.mapValue)return 0;if(o===Vc.mapValue)return 1;if(a===Vc.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),f=a.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let _=0;_<h.length&&_<m.length;++_){const w=Me(h[_],m[_]);if(w!==0)return w;const P=ia(u[h[_]],f[m[_]]);if(P!==0)return P}return Me(h.length,m.length)}(t.mapValue,e.mapValue);default:throw ge()}}function $y(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=zr(t),i=zr(e),r=Me(n.seconds,i.seconds);return r!==0?r:Me(n.nanos,i.nanos)}function Hy(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const o=ia(n[r],i[r]);if(o)return o}return Me(n.length,i.length)}function ra(t){return nm(t)}function nm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=zr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return As(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const o of n.values||[])r?r=!1:i+=",",i+=nm(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const a of i)o?o=!1:r+=",",r+=`${a}:${nm(n.fields[a])}`;return r+"}"}(t.mapValue):ge()}function Wy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function im(t){return!!t&&"integerValue"in t}function zg(t){return!!t&&"arrayValue"in t}function qy(t){return!!t&&"nullValue"in t}function Gy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function th(t){return!!t&&"mapValue"in t}function MN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ml(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zs(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ml(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ml(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ON(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(n)}setAll(e){let n=bt.emptyPath(),i={},r=[];e.forEach((a,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,i,r),i={},r=[],n=u.popLast()}a?i[u.lastSegment()]=Ml(a):r.push(u.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];th(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){zs(n,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Jt(Ml(this.value))}}function PS(t){const e=[];return zs(t.fields,(n,i)=>{const r=new bt([n]);if(th(i)){const o=PS(i.mapValue).fields;if(o.length===0)e.push(r);else for(const a of o)e.push(r.child(a))}else e.push(r)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,i,r,o,a,u){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Ft(e,0,ve.min(),ve.min(),ve.min(),Jt.empty(),0)}static newFoundDocument(e,n,i,r){return new Ft(e,1,n,ve.min(),i,r,0)}static newNoDocument(e,n){return new Ft(e,2,n,ve.min(),ve.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,ve.min(),ve.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.position=e,this.inclusive=n}}function Ky(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const o=e[r],a=t.position[r];if(o.field.isKeyField()?i=ue.comparator(ue.fromName(a.referenceValue),n.key):i=ia(a,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Zy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n="asc"){this.field=e,this.dir=n}}function DN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{}class pt extends CS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new zN(e,n,i):n==="array-contains"?new jN(e,i):n==="in"?new UN(e,i):n==="not-in"?new $N(e,i):n==="array-contains-any"?new HN(e,i):new pt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new FN(e,i):new BN(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ia(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(ia(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends CS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Kn(e,n)}matches(e){return AS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function AS(t){return t.op==="and"}function bS(t){return VN(t)&&AS(t)}function VN(t){for(const e of t.filters)if(e instanceof Kn)return!1;return!0}function rm(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+ra(t.value);if(bS(t))return t.filters.map(e=>rm(e)).join(",");{const e=t.filters.map(n=>rm(n)).join(",");return`${t.op}(${e})`}}function kS(t,e){return t instanceof pt?function(i,r){return r instanceof pt&&i.op===r.op&&i.field.isEqual(r.field)&&gi(i.value,r.value)}(t,e):t instanceof Kn?function(i,r){return r instanceof Kn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,a,u)=>o&&kS(a,r.filters[u]),!0):!1}(t,e):void ge()}function RS(t){return t instanceof pt?function(n){return`${n.field.canonicalString()} ${n.op} ${ra(n.value)}`}(t):t instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(RS).join(" ,")+"}"}(t):"Filter"}class zN extends pt{constructor(e,n,i){super(e,n,i),this.key=ue.fromName(i.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class FN extends pt{constructor(e,n){super(e,"in",n),this.keys=LS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class BN extends pt{constructor(e,n){super(e,"not-in",n),this.keys=LS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ue.fromName(i.referenceValue))}class jN extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zg(n)&&uu(n.arrayValue,this.value)}}class UN extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uu(this.value.arrayValue,n)}}class $N extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!uu(this.value.arrayValue,n)}}class HN extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>uu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n=null,i=[],r=[],o=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=a,this.endAt=u,this.ue=null}}function Qy(t,e=null,n=[],i=[],r=null,o=null,a=null){return new WN(t,e,n,i,r,o,a)}function Fg(t){const e=ye(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>rm(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Id(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ra(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ra(i)).join(",")),e.ue=n}return e.ue}function Bg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zy(t.startAt,e.startAt)&&Zy(t.endAt,e.endAt)}function sm(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n=null,i=[],r=[],o=null,a="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function qN(t,e,n,i,r,o,a,u){return new Iu(t,e,n,i,r,o,a,u)}function jg(t){return new Iu(t)}function Yy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NS(t){return t.collectionGroup!==null}function Ol(t){const e=ye(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new Rt(bt.comparator);return a.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new qh(o,i))}),n.has(bt.keyField().canonicalString())||e.ce.push(new qh(bt.keyField(),i))}return e.ce}function ci(t){const e=ye(t);return e.le||(e.le=GN(e,Ol(t))),e.le}function GN(t,e){if(t.limitType==="F")return Qy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new qh(r.field,o)});const n=t.endAt?new Wh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Wh(t.startAt.position,t.startAt.inclusive):null;return Qy(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function om(t,e){const n=t.filters.concat([e]);return new Iu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function am(t,e,n){return new Iu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xd(t,e){return Bg(ci(t),ci(e))&&t.limitType===e.limitType}function MS(t){return`${Fg(ci(t))}|lt:${t.limitType}`}function To(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>RS(r)).join(", ")}]`),Id(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>ra(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>ra(r)).join(",")),`Target(${i})`}(ci(t))}; limitType=${t.limitType})`}function Pd(t,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ue.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(const o of Ol(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,u,h){const f=Ky(a,u,h);return a.inclusive?f<=0:f<0}(i.startAt,Ol(i),r)||i.endAt&&!function(a,u,h){const f=Ky(a,u,h);return a.inclusive?f>=0:f>0}(i.endAt,Ol(i),r))}(t,e)}function KN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OS(t){return(e,n)=>{let i=!1;for(const r of Ol(t)){const o=ZN(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function ZN(t,e,n){const i=t.field.isKeyField()?ue.comparator(e.key,n.key):function(o,a,u){const h=a.data.field(o),f=u.data.field(o);return h!==null&&f!==null?ia(h,f):ge()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){zs(this.inner,(n,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return IS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=new tt(ue.comparator);function qi(){return QN}const DS=new tt(ue.comparator);function wl(...t){let e=DS;for(const n of t)e=e.insert(n.key,n);return e}function VS(t){let e=DS;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ms(){return Dl()}function zS(){return Dl()}function Dl(){return new ma(t=>t.toString(),(t,e)=>t.isEqual(e))}const YN=new tt(ue.comparator),XN=new Rt(ue.comparator);function be(...t){let e=XN;for(const n of t)e=e.add(n);return e}const JN=new Rt(Me);function eM(){return JN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hh(e)?"-0":e}}function FS(t){return{integerValue:""+t}}function tM(t,e){return RN(e)?FS(e):Ug(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this._=void 0}}function nM(t,e,n){return t instanceof cu?function(r,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Dg(o)&&(o=Vg(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof hu?jS(t,e):t instanceof du?US(t,e):function(r,o){const a=BS(r,o),u=Xy(a)+Xy(r.Pe);return im(a)&&im(r.Pe)?FS(u):Ug(r.serializer,u)}(t,e)}function iM(t,e,n){return t instanceof hu?jS(t,e):t instanceof du?US(t,e):n}function BS(t,e){return t instanceof Gh?function(i){return im(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class cu extends Cd{}class hu extends Cd{constructor(e){super(),this.elements=e}}function jS(t,e){const n=$S(e);for(const i of t.elements)n.some(r=>gi(r,i))||n.push(i);return{arrayValue:{values:n}}}class du extends Cd{constructor(e){super(),this.elements=e}}function US(t,e){let n=$S(e);for(const i of t.elements)n=n.filter(r=>!gi(r,i));return{arrayValue:{values:n}}}class Gh extends Cd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Xy(t){return st(t.integerValue||t.doubleValue)}function $S(t){return zg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,n){this.field=e,this.transform=n}}function sM(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof hu&&r instanceof hu||i instanceof du&&r instanceof du?na(i.elements,r.elements,gi):i instanceof Gh&&r instanceof Gh?gi(i.Pe,r.Pe):i instanceof cu&&r instanceof cu}(t.transform,e.transform)}class oM{constructor(e,n){this.version=e,this.transformResults=n}}class Wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ad{}function HS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $g(t.key,Wn.none()):new xu(t.key,t.data,Wn.none());{const n=t.data,i=Jt.empty();let r=new Rt(bt.comparator);for(let o of e.fields)if(!r.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?i.delete(o):i.set(o,a),r=r.add(o)}return new Hr(t.key,i,new fn(r.toArray()),Wn.none())}}function aM(t,e,n){t instanceof xu?function(r,o,a){const u=r.value.clone(),h=ew(r.fieldTransforms,o,a.transformResults);u.setAll(h),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Hr?function(r,o,a){if(!nh(r.precondition,o))return void o.convertToUnknownDocument(a.version);const u=ew(r.fieldTransforms,o,a.transformResults),h=o.data;h.setAll(WS(r)),h.setAll(u),o.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(t,e,n):function(r,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Vl(t,e,n,i){return t instanceof xu?function(o,a,u,h){if(!nh(o.precondition,a))return u;const f=o.value.clone(),m=tw(o.fieldTransforms,h,a);return f.setAll(m),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,i):t instanceof Hr?function(o,a,u,h){if(!nh(o.precondition,a))return u;const f=tw(o.fieldTransforms,h,a),m=a.data;return m.setAll(WS(o)),m.setAll(f),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(t,e,n,i):function(o,a,u){return nh(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(t,e,n)}function lM(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),o=BS(i.transform,r||null);o!=null&&(n===null&&(n=Jt.empty()),n.set(i.field,o))}return n||null}function Jy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&na(i,r,(o,a)=>sM(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xu extends Ad{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Hr extends Ad{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function WS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function ew(t,e,n){const i=new Map;ze(t.length===n.length);for(let r=0;r<n.length;r++){const o=t[r],a=o.transform,u=e.data.field(o.field);i.set(o.field,iM(a,u,n[r]))}return i}function tw(t,e,n){const i=new Map;for(const r of t){const o=r.transform,a=n.data.field(r.field);i.set(r.field,nM(o,a,e))}return i}class $g extends Ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uM extends Ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&aM(o,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Vl(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Vl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=zS();return this.mutations.forEach(r=>{const o=e.get(r.key),a=o.overlayedDocument;let u=this.applyToLocalView(a,o.mutatedFields);u=n.has(r.key)?null:u;const h=HS(a,u);h!==null&&i.set(r.key,h),a.isValidDocument()||a.convertToNoDocument(ve.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&na(this.mutations,e.mutations,(n,i)=>Jy(n,i))&&na(this.baseMutations,e.baseMutations,(n,i)=>Jy(n,i))}}class Hg{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){ze(e.mutations.length===i.length);let r=function(){return YN}();const o=e.mutations;for(let a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new Hg(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Le;function fM(t){switch(t){default:return ge();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function qS(t){if(t===void 0)return Wi("GRPC error has no .code"),Q.UNKNOWN;switch(t){case dt.OK:return Q.OK;case dt.CANCELLED:return Q.CANCELLED;case dt.UNKNOWN:return Q.UNKNOWN;case dt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case dt.INTERNAL:return Q.INTERNAL;case dt.UNAVAILABLE:return Q.UNAVAILABLE;case dt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case dt.NOT_FOUND:return Q.NOT_FOUND;case dt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case dt.ABORTED:return Q.ABORTED;case dt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case dt.DATA_LOSS:return Q.DATA_LOSS;default:return ge()}}(Le=dt||(dt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=new vs([4294967295,4294967295],0);function nw(t){const e=pM().encode(t),n=new gS;return n.update(e),new Uint8Array(n.digest())}function iw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new vs([n,i],0),new vs([r,o],0)]}class Wg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Tl(`Invalid padding: ${n}`);if(i<0)throw new Tl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=vs.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(vs.fromNumber(i)));return r.compare(mM)===1&&(r=new vs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=nw(e),[i,r]=iw(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(i,r,o);if(!this.de(a))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new Wg(o,r,n);return i.forEach(u=>a.insert(u)),a}insert(e){if(this.Ie===0)return;const n=nw(e),[i,r]=iw(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(i,r,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new bd(ve.min(),r,new tt(Me),qi(),be())}}class Pu{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Pu(i,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}}class GS{constructor(e,n){this.targetId=e,this.me=n}}class KS{constructor(e,n,i=Nt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class rw{constructor(){this.fe=0,this.ge=ow(),this.pe=Nt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=be(),n=be(),i=be();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:ge()}}),new Pu(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=ow()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class gM{constructor(e){this.Le=e,this.Be=new Map,this.ke=qi(),this.qe=sw(),this.Qe=new tt(Me)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){const n=e.targetId,i=e.me.count,r=this.Je(n);if(r){const o=r.target;if(sm(o))if(i===0){const a=new ue(o.path);this.Ue(n,a,Ft.newNoDocument(a,ve.min()))}else ze(i===1);else{const a=this.Ye(n);if(a!==i){const u=this.Ze(e),h=u?this.Xe(u,e,a):1;if(h!==0){this.je(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n;let a,u;try{a=As(i).toUint8Array()}catch(h){if(h instanceof xS)return ta("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Wg(a,r,o)}catch(h){return ta(h instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.Ie===0?null:u}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(o=>{const a=this.Le.tt(),u=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.Ue(n,o,null),r++)}),r}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const u=this.Je(a);if(u){if(o.current&&sm(u.target)){const h=new ue(u.target.path);this.ke.get(h)!==null||this.it(a,h)||this.Ue(a,h,Ft.newNoDocument(h,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let i=be();this.qe.forEach((o,a)=>{let u=!0;a.forEachWhile(h=>{const f=this.Je(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const r=new bd(e,n,this.Qe,this.ke,i);return this.ke=qi(),this.qe=sw(),this.Qe=new tt(Me),r}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new rw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Rt(Me),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function sw(){return new tt(ue.comparator)}function ow(){return new tt(ue.comparator)}const _M={asc:"ASCENDING",desc:"DESCENDING"},vM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yM={and:"AND",or:"OR"};class wM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lm(t,e){return t.useProto3Json||Id(e)?e:{value:e}}function Kh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TM(t,e){return Kh(t,e.toTimestamp())}function hi(t){return ze(!!t),ve.fromTimestamp(function(n){const i=zr(n);return new vt(i.seconds,i.nanos)}(t))}function qg(t,e){return um(t,e).canonicalString()}function um(t,e){const n=function(r){return new He(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QS(t){const e=He.fromString(t);return ze(tI(e)),e}function cm(t,e){return qg(t.databaseId,e.path)}function Hf(t,e){const n=QS(e);if(n.get(1)!==t.databaseId.projectId)throw new se(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(XS(n))}function YS(t,e){return qg(t.databaseId,e)}function EM(t){const e=QS(t);return e.length===4?He.emptyPath():XS(e)}function hm(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XS(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function aw(t,e,n){return{name:cm(t,e),fields:n.value.mapValue.fields}}function SM(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(ze(m===void 0||typeof m=="string"),Nt.fromBase64String(m||"")):(ze(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Nt.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(f){const m=f.code===void 0?Q.UNKNOWN:qS(f.code);return new se(m,f.message||"")}(a);n=new KS(i,r,o,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Hf(t,i.document.name),o=hi(i.document.updateTime),a=i.document.createTime?hi(i.document.createTime):ve.min(),u=new Jt({mapValue:{fields:i.document.fields}}),h=Ft.newFoundDocument(r,o,a,u),f=i.targetIds||[],m=i.removedTargetIds||[];n=new ih(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Hf(t,i.document),o=i.readTime?hi(i.readTime):ve.min(),a=Ft.newNoDocument(r,o),u=i.removedTargetIds||[];n=new ih([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Hf(t,i.document),o=i.removedTargetIds||[];n=new ih([],o,r,null)}else{if(!("filter"in e))return ge();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,a=new dM(r,o),u=i.targetId;n=new GS(u,a)}}return n}function IM(t,e){let n;if(e instanceof xu)n={update:aw(t,e.key,e.value)};else if(e instanceof $g)n={delete:cm(t,e.key)};else if(e instanceof Hr)n={update:aw(t,e.key,e.data),updateMask:NM(e.fieldMask)};else{if(!(e instanceof uM))return ge();n={verify:cm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,a){const u=a.transform;if(u instanceof cu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof hu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof du)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Gh)return{fieldPath:a.field.canonicalString(),increment:u.Pe};throw ge()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:TM(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ge()}(t,e.precondition)),n}function xM(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(r,o){let a=r.updateTime?hi(r.updateTime):hi(o);return a.isEqual(ve.min())&&(a=hi(o)),new oM(a,r.transformResults||[])}(n,e))):[]}function PM(t,e){return{documents:[YS(t,e.path)]}}function CM(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=YS(t,r);const o=function(f){if(f.length!==0)return eI(Kn.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(f){if(f.length!==0)return f.map(m=>function(w){return{field:Eo(w.field),direction:kM(w.dir)}}(m))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=lm(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:n,parent:r}}function AM(t){let e=EM(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){ze(i===1);const m=n.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(_){const w=JS(_);return w instanceof Kn&&bS(w)?w.getFilters():[w]}(n.where));let a=[];n.orderBy&&(a=function(_){return _.map(w=>function(S){return new qh(So(S.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(w))}(n.orderBy));let u=null;n.limit&&(u=function(_){let w;return w=typeof _=="object"?_.value:_,Id(w)?null:w}(n.limit));let h=null;n.startAt&&(h=function(_){const w=!!_.before,P=_.values||[];return new Wh(P,w)}(n.startAt));let f=null;return n.endAt&&(f=function(_){const w=!_.before,P=_.values||[];return new Wh(P,w)}(n.endAt)),qN(e,r,a,o,u,"F",h,f)}function bM(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=So(n.unaryFilter.field);return pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=So(n.unaryFilter.field);return pt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=So(n.unaryFilter.field);return pt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=So(n.unaryFilter.field);return pt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return pt.create(So(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(i=>JS(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function kM(t){return _M[t]}function RM(t){return vM[t]}function LM(t){return yM[t]}function Eo(t){return{fieldPath:t.canonicalString()}}function So(t){return bt.fromServerFormat(t.fieldPath)}function eI(t){return t instanceof pt?function(n){if(n.op==="=="){if(Gy(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NAN"}};if(qy(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Gy(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NAN"}};if(qy(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(n.field),op:RM(n.op),value:n.value}}}(t):t instanceof Kn?function(n){const i=n.getFilters().map(r=>eI(r));return i.length===1?i[0]:{compositeFilter:{op:LM(n.op),filters:i}}}(t):ge()}function NM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n,i,r,o=ve.min(),a=ve.min(),u=Nt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.ct=e}}function OM(t){const e=AM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.un=new VM}addToCollectionParentIndex(e,n){return this.un.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(Vr.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(Vr.min())}updateCollectionGroup(e,n,i){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class VM{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Rt(He.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Rt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new sa(0)}static kn(){return new sa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(){this.changes=new ma(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?X.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Vl(i.mutation,r,fn.empty(),vt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,be()).next(()=>i))}getLocalViewOfDocuments(e,n,i=be()){const r=ms();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let a=wl();return o.forEach((u,h)=>{a=a.insert(u,h.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=ms();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,be()))}populateOverlays(e,n,i){const r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((a,u)=>{n.set(a,u)})})}computeViews(e,n,i,r){let o=qi();const a=Dl(),u=function(){return Dl()}();return n.forEach((h,f)=>{const m=i.get(f.key);r.has(f.key)&&(m===void 0||m.mutation instanceof Hr)?o=o.insert(f.key,f):m!==void 0?(a.set(f.key,m.mutation.getFieldMask()),Vl(m.mutation,f,m.mutation.getFieldMask(),vt.now())):a.set(f.key,fn.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,m)=>a.set(f,m)),n.forEach((f,m)=>{var _;return u.set(f,new FM(m,(_=a.get(f))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(e,n){const i=Dl();let r=new tt((a,u)=>a-u),o=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const u of a)u.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let m=i.get(h)||fn.empty();m=u.applyToLocalView(f,m),i.set(h,m);const _=(r.get(u.batchId)||be()).add(h);r=r.insert(u.batchId,_)})}).next(()=>{const a=[],u=r.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,m=h.value,_=zS();m.forEach(w=>{if(!o.has(w)){const P=HS(n.get(w),i.get(w));P!==null&&_.set(w,P),o=o.add(w)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,_))}return X.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(a){return ue.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{const a=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):X.resolve(ms());let u=-1,h=o;return a.next(f=>X.forEach(f,(m,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(m)?X.resolve():this.remoteDocumentCache.getEntry(e,m).next(w=>{h=h.insert(m,w)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,be())).next(m=>({batchId:u,changes:VS(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(i=>{let r=wl();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const o=n.collectionGroup;let a=wl();return this.indexManager.getCollectionParents(e,o).next(u=>X.forEach(u,h=>{const f=function(_,w){return new Iu(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next(m=>{m.forEach((_,w)=>{a=a.insert(_,w)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(a=>{o.forEach((h,f)=>{const m=f.getKey();a.get(m)===null&&(a=a.insert(m,Ft.newInvalidDocument(m)))});let u=wl();return a.forEach((h,f)=>{const m=o.get(h);m!==void 0&&Vl(m.mutation,f,fn.empty(),vt.now()),Pd(n,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return X.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:hi(r.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:OM(r.bundledQuery),readTime:hi(r.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.overlays=new tt(ue.comparator),this.Ir=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ms();return X.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.ht(e,n,o)}),X.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Ir.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),X.resolve()}getOverlaysForCollection(e,n,i){const r=ms(),o=n.length+1,a=new ue(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&r.set(h.getKey(),h)}return X.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new tt((f,m)=>f-m);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let m=o.get(f.largestBatchId);m===null&&(m=ms(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=ms(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,m)=>u.set(f,m)),!(u.size()>=r)););return X.resolve(u)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new hM(n,i));let o=this.Ir.get(n);o===void 0&&(o=be(),this.Ir.set(n,o)),this.Ir.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(){this.Tr=new Rt(St.Er),this.dr=new Rt(St.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new St(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new St(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){const n=new ue(new He([])),i=new St(n,e),r=new St(n,e+1),o=[];return this.dr.forEachInRange([i,r],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ue(new He([])),i=new St(n,e),r=new St(n,e+1);let o=be();return this.dr.forEachInRange([i,r],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new St(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class St{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ue.comparator(e.key,n.key)||Me(e.wr,n.wr)}static Ar(e,n){return Me(e.wr,n.wr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Rt(St.Er)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new cM(o,n,i,r);this.mutationQueue.push(a);for(const u of r)this.br=this.br.add(new St(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return X.resolve(a)}lookupMutationBatch(e,n){return X.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.vr(i),o=r<0?0:r;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new St(n,0),r=new St(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,r],a=>{const u=this.Dr(a.wr);o.push(u)}),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Rt(Me);return n.forEach(r=>{const o=new St(r,0),a=new St(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],u=>{i=i.add(u.wr)})}),X.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let o=i;ue.isDocumentKey(o)||(o=o.child(""));const a=new St(new ue(o),0);let u=new Rt(Me);return this.br.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(h.wr)),!0)},a),X.resolve(this.Cr(u))}Cr(e){const n=[];return e.forEach(i=>{const r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){ze(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return X.forEach(n.mutations,r=>{const o=new St(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){const i=new St(n,0),r=this.br.firstAfterOrEqual(i);return X.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.Mr=e,this.docs=function(){return new tt(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),o=r?r.size:0,a=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return X.resolve(i?i.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let i=qi();return n.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Ft.newInvalidDocument(r))}),X.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=qi();const a=n.path,u=new ue(a.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||CN(PN(m),i)<=0||(r.has(m.key)||Pd(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,n,i,r){ge()}Or(e,n){return X.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new qM(this)}getSize(e){return X.resolve(this.size)}}class qM extends zM{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),X.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.persistence=e,this.Nr=new ma(n=>Fg(n),Bg),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Gg,this.targetCount=0,this.kr=sa.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,r)=>n(r)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),X.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new sa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Kn(n),X.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,i){let r=0;const o=[];return this.Nr.forEach((a,u)=>{u.sequenceNumber<=n&&i.get(u.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),r++)}),X.waitFor(o).next(()=>r)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return X.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),X.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(a=>{o.push(r.markPotentiallyOrphaned(e,a))}),X.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return X.resolve(i)}containsKey(e,n){return X.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Og(0),this.Kr=!1,this.Kr=!0,this.$r=new $M,this.referenceDelegate=e(this),this.Ur=new GM(this),this.indexManager=new DM,this.remoteDocumentCache=function(r){return new WM(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new MM(n),this.Gr=new jM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new HM(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){oe("MemoryPersistence","Starting transaction:",e);const r=new ZM(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(o=>this.referenceDelegate.jr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Hr(e,n){return X.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}}class ZM extends bN{constructor(e){super(),this.currentSequenceNumber=e}}class Kg{constructor(e){this.persistence=e,this.Jr=new Gg,this.Yr=null}static Zr(e){return new Kg(e)}get Xr(){if(this.Yr)return this.Yr;throw ge()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),X.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),X.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Xr,i=>{const r=ue.fromPath(i);return this.ei(e,r).next(o=>{o||n.removeEntry(r,ve.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return X.or([()=>X.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(e,n){let i=be(),r=be();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Zg(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return kk()?8:kN(jt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,r){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,r,i).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new QM;return this.Xi(e,n,a).next(u=>{if(o.result=u,this.zi)return this.es(e,n,a,u.size)})}).next(()=>o.result)}es(e,n,i,r){return i.documentReadCount<this.ji?(hl()<=ke.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",To(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),X.resolve()):(hl()<=ke.DEBUG&&oe("QueryEngine","Query:",To(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(hl()<=ke.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",To(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(n))):X.resolve())}Yi(e,n){if(Yy(n))return X.resolve(null);let i=ci(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=am(n,null,"F"),i=ci(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const a=be(...o);return this.Ji.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,i).next(h=>{const f=this.ts(n,u);return this.ns(n,f,a,h.readTime)?this.Yi(e,am(n,null,"F")):this.rs(e,f,n,h)}))})))}Zi(e,n,i,r){return Yy(n)||r.isEqual(ve.min())?X.resolve(null):this.Ji.getDocuments(e,i).next(o=>{const a=this.ts(n,o);return this.ns(n,a,i,r)?X.resolve(null):(hl()<=ke.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),To(n)),this.rs(e,a,n,xN(r,-1)).next(u=>u))})}ts(e,n){let i=new Rt(OS(e));return n.forEach((r,o)=>{Pd(e,o)&&(i=i.add(o))}),i}ns(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Xi(e,n,i){return hl()<=ke.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",To(n)),this.Ji.getDocumentsMatchingQuery(e,n,Vr.min(),i)}rs(e,n,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n,i,r){this.persistence=e,this.ss=n,this.serializer=r,this.os=new tt(Me),this._s=new ma(o=>Fg(o),Bg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BM(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function JM(t,e,n,i){return new XM(t,e,n,i)}async function nI(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const a=[],u=[];let h=be();for(const f of r){a.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of o){u.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(i,h).next(f=>({hs:f,removedBatchIds:a,addedBatchIds:u}))})})}function eO(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(u,h,f,m){const _=f.batch,w=_.keys();let P=X.resolve();return w.forEach(S=>{P=P.next(()=>m.getEntry(h,S)).next(k=>{const z=f.docVersions.get(S);ze(z!==null),k.version.compareTo(z)<0&&(_.applyToRemoteDocument(k,f),k.isValidDocument()&&(k.setReadTime(f.commitVersion),m.addEntry(k)))})}),P.next(()=>u.mutationQueue.removeMutationBatch(h,_))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=be();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function iI(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function tO(t,e){const n=ye(t),i=e.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const u=[];e.targetChanges.forEach((m,_)=>{const w=r.get(_);if(!w)return;u.push(n.Ur.removeMatchingKeys(o,m.removedDocuments,_).next(()=>n.Ur.addMatchingKeys(o,m.addedDocuments,_)));let P=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?P=P.withResumeToken(Nt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):m.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(m.resumeToken,i)),r=r.insert(_,P),function(k,z,I){return k.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(w,P,m)&&u.push(n.Ur.updateTargetData(o,P))});let h=qi(),f=be();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(nO(o,a,e.documentUpdates).next(m=>{h=m.Ps,f=m.Is})),!i.isEqual(ve.min())){const m=n.Ur.getLastRemoteSnapshotVersion(o).next(_=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(m)}return X.waitFor(u).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(n.os=r,o))}function nO(t,e,n){let i=be(),r=be();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let a=qi();return n.forEach((u,h)=>{const f=o.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),h.isNoDocument()&&h.version.isEqual(ve.min())?(e.removeEntry(u,h.readTime),a=a.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),a=a.insert(u,h)):oe("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{Ps:a,Is:r}})}function iO(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function rO(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,e).next(o=>o?(r=o,X.resolve(r)):n.Ur.allocateTargetId(i).next(a=>(r=new Tr(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}async function dm(t,e,n){const i=ye(t),r=i.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!Su(a))throw a;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.os=i.os.remove(e),i._s.delete(r.target)}function lw(t,e,n){const i=ye(t);let r=ve.min(),o=be();return i.persistence.runTransaction("Execute query","readwrite",a=>function(h,f,m){const _=ye(h),w=_._s.get(m);return w!==void 0?X.resolve(_.os.get(w)):_.Ur.getTargetData(f,m)}(i,a,ci(e)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(a,u.targetId).next(h=>{o=h})}).next(()=>i.ss.getDocumentsMatchingQuery(a,e,n?r:ve.min(),n?o:be())).next(u=>(sO(i,KN(e),u),{documents:u,Ts:o})))}function sO(t,e,n){let i=t.us.get(e)||ve.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.us.set(e,i)}class uw{constructor(){this.activeTargetIds=eM()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oO{constructor(){this.so=new uw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new uw,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function Wf(){return zc===null?zc=function(){return 268435456+Math.round(2147483648*Math.random())}():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt="WebChannelConnection";class cO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Fo(){return!1}Mo(n,i,r,o,a){const u=Wf(),h=this.xo(n,i.toUriEncodedString());oe("RestConnection",`Sending RPC '${n}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,o,a),this.No(n,h,f,r).then(m=>(oe("RestConnection",`Received RPC '${n}' ${u}: `,m),m),m=>{throw ta("RestConnection",`RPC '${n}' ${u} failed with error: `,m,"url: ",h,"request:",r),m})}Lo(n,i,r,o,a,u){return this.Mo(n,i,r,o,a)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,a)=>n[a]=o),r&&r.headers.forEach((o,a)=>n[a]=o)}xo(n,i){const r=lO[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,r){const o=Wf();return new Promise((a,u)=>{const h=new _S;h.setWithCredentials(!0),h.listenOnce(vS.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case eh.NO_ERROR:const m=h.getResponseJson();oe(Dt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case eh.TIMEOUT:oe(Dt,`RPC '${e}' ${o} timed out`),u(new se(Q.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const _=h.getStatus();if(oe(Dt,`RPC '${e}' ${o} failed with status:`,_,"response text:",h.getResponseText()),_>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const P=w==null?void 0:w.error;if(P&&P.status&&P.message){const S=function(z){const I=z.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(I)>=0?I:Q.UNKNOWN}(P.status);u(new se(S,P.message))}else u(new se(Q.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new se(Q.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{oe(Dt,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(r);oe(Dt,`RPC '${e}' ${o} sending request:`,r),h.send(n,"POST",f,i,15)})}Bo(e,n,i){const r=Wf(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=TS(),u=wS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Oo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const m=o.join("");oe(Dt,`Creating RPC '${e}' stream ${r}: ${m}`,h);const _=a.createWebChannel(m,h);let w=!1,P=!1;const S=new uO({Io:z=>{P?oe(Dt,`Not sending because RPC '${e}' stream ${r} is closed:`,z):(w||(oe(Dt,`Opening RPC '${e}' stream ${r} transport.`),_.open(),w=!0),oe(Dt,`RPC '${e}' stream ${r} sending:`,z),_.send(z))},To:()=>_.close()}),k=(z,I,T)=>{z.listen(I,E=>{try{T(E)}catch(V){setTimeout(()=>{throw V},0)}})};return k(_,yl.EventType.OPEN,()=>{P||(oe(Dt,`RPC '${e}' stream ${r} transport opened.`),S.yo())}),k(_,yl.EventType.CLOSE,()=>{P||(P=!0,oe(Dt,`RPC '${e}' stream ${r} transport closed`),S.So())}),k(_,yl.EventType.ERROR,z=>{P||(P=!0,ta(Dt,`RPC '${e}' stream ${r} transport errored:`,z),S.So(new se(Q.UNAVAILABLE,"The operation could not be completed")))}),k(_,yl.EventType.MESSAGE,z=>{var I;if(!P){const T=z.data[0];ze(!!T);const E=T,V=E.error||((I=E[0])===null||I===void 0?void 0:I.error);if(V){oe(Dt,`RPC '${e}' stream ${r} received error:`,V);const j=V.status;let W=function(A){const R=dt[A];if(R!==void 0)return qS(R)}(j),N=V.message;W===void 0&&(W=Q.INTERNAL,N="Unknown error status: "+j+" with message "+V.message),P=!0,S.So(new se(W,N)),_.close()}else oe(Dt,`RPC '${e}' stream ${r} received:`,T),S.bo(T)}}),k(u,yS.STAT_EVENT,z=>{z.stat===tm.PROXY?oe(Dt,`RPC '${e}' stream ${r} detected buffering proxy`):z.stat===tm.NOPROXY&&oe(Dt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}}function qf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t){return new wM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n,i=1e3,r=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&oe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,i,r,o,a,u,h){this.ui=e,this.Ho=i,this.Jo=r,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new rI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Wi(n.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{e(()=>{const r=new se(Q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hO extends sI{constructor(e,n,i,r,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=SM(this.serializer,e),i=function(o){if(!("targetChange"in o))return ve.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?ve.min():a.readTime?hi(a.readTime):ve.min()}(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=hm(this.serializer),n.addTarget=function(o,a){let u;const h=a.target;if(u=sm(h)?{documents:PM(o,h)}:{query:CM(o,h)._t},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=ZS(o,a.resumeToken);const f=lm(o,a.expectedCount);f!==null&&(u.expectedCount=f)}else if(a.snapshotVersion.compareTo(ve.min())>0){u.readTime=Kh(o,a.snapshotVersion.toTimestamp());const f=lm(o,a.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const i=bM(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=hm(this.serializer),n.removeTarget=e,this.a_(n)}}class dO extends sI{constructor(e,n,i,r,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=xM(e.writeResults,e.commitTime),i=hi(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=hm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>IM(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new se(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,um(n,i),r,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(Q.UNKNOWN,o.toString())})}Lo(e,n,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Lo(e,um(n,i),r,a,u,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new se(Q.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class pO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Wi(n),this.D_=!1):oe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{i.enqueueAndForget(async()=>{Fs(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(h){const f=ye(h);f.L_.add(4),await Cu(f),f.q_.set("Unknown"),f.L_.delete(4),await Rd(f)}(this))})}),this.q_=new pO(i,r)}}async function Rd(t){if(Fs(t))for(const e of t.B_)await e(!0)}async function Cu(t){for(const e of t.B_)await e(!1)}function oI(t,e){const n=ye(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Jg(n)?Xg(n):ga(n).r_()&&Yg(n,e))}function Qg(t,e){const n=ye(t),i=ga(n);n.N_.delete(e),i.r_()&&aI(n,e),n.N_.size===0&&(i.r_()?i.o_():Fs(n)&&n.q_.set("Unknown"))}function Yg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ga(t).A_(e)}function aI(t,e){t.Q_.xe(e),ga(t).R_(e)}function Xg(t){t.Q_=new gM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ga(t).start(),t.q_.v_()}function Jg(t){return Fs(t)&&!ga(t).n_()&&t.N_.size>0}function Fs(t){return ye(t).L_.size===0}function lI(t){t.Q_=void 0}async function gO(t){t.q_.set("Online")}async function _O(t){t.N_.forEach((e,n)=>{Yg(t,e)})}async function vO(t,e){lI(t),Jg(t)?(t.q_.M_(e),Xg(t)):t.q_.set("Unknown")}async function yO(t,e,n){if(t.q_.set("Online"),e instanceof KS&&e.state===2&&e.cause)try{await async function(r,o){const a=o.cause;for(const u of o.targetIds)r.N_.has(u)&&(await r.remoteSyncer.rejectListen(u,a),r.N_.delete(u),r.Q_.removeTarget(u))}(t,e)}catch(i){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Zh(t,i)}else if(e instanceof ih?t.Q_.Ke(e):e instanceof GS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ve.min()))try{const i=await iI(t.localStore);n.compareTo(i)>=0&&await function(o,a){const u=o.Q_.rt(a);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.N_.get(f);m&&o.N_.set(f,m.withResumeToken(h.resumeToken,a))}}),u.targetMismatches.forEach((h,f)=>{const m=o.N_.get(h);if(!m)return;o.N_.set(h,m.withResumeToken(Nt.EMPTY_BYTE_STRING,m.snapshotVersion)),aI(o,h);const _=new Tr(m.target,h,f,m.sequenceNumber);Yg(o,_)}),o.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(i){oe("RemoteStore","Failed to raise snapshot:",i),await Zh(t,i)}}async function Zh(t,e,n){if(!Su(e))throw e;t.L_.add(1),await Cu(t),t.q_.set("Offline"),n||(n=()=>iI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Rd(t)})}function uI(t,e){return e().catch(n=>Zh(t,n,e))}async function Ld(t){const e=ye(t),n=Fr(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;wO(e);)try{const r=await iO(e.localStore,i);if(r===null){e.O_.length===0&&n.o_();break}i=r.batchId,TO(e,r)}catch(r){await Zh(e,r)}cI(e)&&hI(e)}function wO(t){return Fs(t)&&t.O_.length<10}function TO(t,e){t.O_.push(e);const n=Fr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function cI(t){return Fs(t)&&!Fr(t).n_()&&t.O_.length>0}function hI(t){Fr(t).start()}async function EO(t){Fr(t).p_()}async function SO(t){const e=Fr(t);for(const n of t.O_)e.m_(n.mutations)}async function IO(t,e,n){const i=t.O_.shift(),r=Hg.from(i,e,n);await uI(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Ld(t)}async function xO(t,e){e&&Fr(t).V_&&await async function(i,r){if(function(a){return fM(a)&&a!==Q.ABORTED}(r.code)){const o=i.O_.shift();Fr(i).s_(),await uI(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Ld(i)}}(t,e),cI(t)&&hI(t)}async function hw(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const i=Fs(n);n.L_.add(3),await Cu(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Rd(n)}async function PO(t,e){const n=ye(t);e?(n.L_.delete(2),await Rd(n)):e||(n.L_.add(2),await Cu(n),n.q_.set("Unknown"))}function ga(t){return t.K_||(t.K_=function(n,i,r){const o=ye(n);return o.w_(),new hO(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Eo:gO.bind(null,t),Ro:_O.bind(null,t),mo:vO.bind(null,t),d_:yO.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Jg(t)?Xg(t):t.q_.set("Unknown")):(await t.K_.stop(),lI(t))})),t.K_}function Fr(t){return t.U_||(t.U_=function(n,i,r){const o=ye(n);return o.w_(),new dO(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:EO.bind(null,t),mo:xO.bind(null,t),f_:SO.bind(null,t),g_:IO.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ld(t)):(await t.U_.stop(),t.O_.length>0&&(oe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){const a=Date.now()+i,u=new e_(e,n,a,r,o);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function t_(t,e){if(Wi("AsyncQueue",`${e}: ${t}`),Su(t))return new se(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.comparator=e?(n,i)=>e(n,i)||ue.comparator(n.key,i.key):(n,i)=>ue.comparator(n.key,i.key),this.keyedMap=wl(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new Ho(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ho;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(){this.W_=new tt(ue.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ge():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}}class oa{constructor(e,n,i,r,o,a,u,h,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,i,r,o){const a=[];return n.forEach(u=>{a.push({type:0,doc:u})}),new oa(e,n,Ho.emptySet(n),a,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class AO{constructor(){this.queries=fw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const r=ye(n),o=r.queries;r.queries=fw(),o.forEach((a,u)=>{for(const h of u.j_)h.onError(i)})})(this,new se(Q.ABORTED,"Firestore shutting down"))}}function fw(){return new ma(t=>MS(t),xd)}async function dI(t,e){const n=ye(t);let i=3;const r=e.query;let o=n.queries.get(r);o?!o.H_()&&e.J_()&&(i=2):(o=new CO,i=e.J_()?0:1);try{switch(i){case 0:o.z_=await n.onListen(r,!0);break;case 1:o.z_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const u=t_(a,`Initialization of query '${To(e.query)}' failed`);return void e.onError(u)}n.queries.set(r,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&n_(n)}async function fI(t,e){const n=ye(t),i=e.query;let r=3;const o=n.queries.get(i);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?r=e.J_()?0:1:!o.H_()&&e.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function bO(t,e){const n=ye(t);let i=!1;for(const r of e){const o=r.query,a=n.queries.get(o);if(a){for(const u of a.j_)u.X_(r)&&(i=!0);a.z_=r}}i&&n_(n)}function kO(t,e,n){const i=ye(t),r=i.queries.get(e);if(r)for(const o of r.j_)o.onError(n);i.queries.delete(e)}function n_(t){t.Y_.forEach(e=>{e.next()})}var fm,pw;(pw=fm||(fm={})).ea="default",pw.Cache="cache";class pI{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new oa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=oa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==fm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.key=e}}class gI{constructor(e){this.key=e}}class RO{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=be(),this.mutatedKeys=be(),this.Aa=OS(e),this.Ra=new Ho(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new dw,r=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=r,u=!1;const h=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,_)=>{const w=r.get(m),P=Pd(this.query,_)?_:null,S=!!w&&this.mutatedKeys.has(w.key),k=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let z=!1;w&&P?w.data.isEqual(P.data)?S!==k&&(i.track({type:3,doc:P}),z=!0):this.ga(w,P)||(i.track({type:2,doc:P}),z=!0,(h&&this.Aa(P,h)>0||f&&this.Aa(P,f)<0)&&(u=!0)):!w&&P?(i.track({type:0,doc:P}),z=!0):w&&!P&&(i.track({type:1,doc:w}),z=!0,(h||f)&&(u=!0)),z&&(P?(a=a.add(P),o=k?o.add(m):o.delete(m)):(a=a.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{Ra:a,fa:i,ns:u,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((m,_)=>function(P,S){const k=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return k(P)-k(S)}(m.type,_.type)||this.Aa(m.doc,_.doc)),this.pa(i),r=r!=null&&r;const u=n&&!r?this.ya():[],h=this.da.size===0&&this.current&&!r?1:0,f=h!==this.Ea;return this.Ea=h,a.length!==0||f?{snapshot:new oa(this.query,e.Ra,o,a,e.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new dw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=be(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return e.forEach(i=>{this.da.has(i)||n.push(new gI(i))}),this.da.forEach(i=>{e.has(i)||n.push(new mI(i))}),n}ba(e){this.Ta=e.Ts,this.da=be();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return oa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class LO{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class NO{constructor(e){this.key=e,this.va=!1}}class MO{constructor(e,n,i,r,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new ma(u=>MS(u),xd),this.Ma=new Map,this.xa=new Set,this.Oa=new tt(ue.comparator),this.Na=new Map,this.La=new Gg,this.Ba={},this.ka=new Map,this.qa=sa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function OO(t,e,n=!0){const i=EI(t);let r;const o=i.Fa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Da()):r=await _I(i,e,n,!0),r}async function DO(t,e){const n=EI(t);await _I(n,e,!0,!1)}async function _I(t,e,n,i){const r=await rO(t.localStore,ci(e)),o=r.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let u;return i&&(u=await VO(t,e,o,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&oI(t.remoteStore,r),u}async function VO(t,e,n,i,r){t.Ka=(_,w,P)=>async function(k,z,I,T){let E=z.view.ma(I);E.ns&&(E=await lw(k.localStore,z.query,!1).then(({documents:N})=>z.view.ma(N,E)));const V=T&&T.targetChanges.get(z.targetId),j=T&&T.targetMismatches.get(z.targetId)!=null,W=z.view.applyChanges(E,k.isPrimaryClient,V,j);return gw(k,z.targetId,W.wa),W.snapshot}(t,_,w,P);const o=await lw(t.localStore,e,!0),a=new RO(e,o.Ts),u=a.ma(o.documents),h=Pu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),f=a.applyChanges(u,t.isPrimaryClient,h);gw(t,n,f.wa);const m=new LO(e,n,a);return t.Fa.set(e,m),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),f.snapshot}async function zO(t,e,n){const i=ye(t),r=i.Fa.get(e),o=i.Ma.get(r.targetId);if(o.length>1)return i.Ma.set(r.targetId,o.filter(a=>!xd(a,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await dm(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Qg(i.remoteStore,r.targetId),pm(i,r.targetId)}).catch(Eu)):(pm(i,r.targetId),await dm(i.localStore,r.targetId,!0))}async function FO(t,e){const n=ye(t),i=n.Fa.get(e),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Qg(n.remoteStore,i.targetId))}async function BO(t,e,n){const i=GO(t);try{const r=await function(a,u){const h=ye(a),f=vt.now(),m=u.reduce((P,S)=>P.add(S.key),be());let _,w;return h.persistence.runTransaction("Locally write mutations","readwrite",P=>{let S=qi(),k=be();return h.cs.getEntries(P,m).next(z=>{S=z,S.forEach((I,T)=>{T.isValidDocument()||(k=k.add(I))})}).next(()=>h.localDocuments.getOverlayedDocuments(P,S)).next(z=>{_=z;const I=[];for(const T of u){const E=lM(T,_.get(T.key).overlayedDocument);E!=null&&I.push(new Hr(T.key,E,PS(E.value.mapValue),Wn.exists(!0)))}return h.mutationQueue.addMutationBatch(P,f,I,u)}).next(z=>{w=z;const I=z.applyToLocalDocumentSet(_,k);return h.documentOverlayCache.saveOverlays(P,z.batchId,I)})}).then(()=>({batchId:w.batchId,changes:VS(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,h){let f=a.Ba[a.currentUser.toKey()];f||(f=new tt(Me)),f=f.insert(u,h),a.Ba[a.currentUser.toKey()]=f}(i,r.batchId,n),await Au(i,r.changes),await Ld(i.remoteStore)}catch(r){const o=t_(r,"Failed to persist write");n.reject(o)}}async function vI(t,e){const n=ye(t);try{const i=await tO(n.localStore,e);e.targetChanges.forEach((r,o)=>{const a=n.Na.get(o);a&&(ze(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.va=!0:r.modifiedDocuments.size>0?ze(a.va):r.removedDocuments.size>0&&(ze(a.va),a.va=!1))}),await Au(n,i,e)}catch(i){await Eu(i)}}function mw(t,e,n){const i=ye(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Fa.forEach((o,a)=>{const u=a.view.Z_(e);u.snapshot&&r.push(u.snapshot)}),function(a,u){const h=ye(a);h.onlineState=u;let f=!1;h.queries.forEach((m,_)=>{for(const w of _.j_)w.Z_(u)&&(f=!0)}),f&&n_(h)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function jO(t,e,n){const i=ye(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Na.get(e),o=r&&r.key;if(o){let a=new tt(ue.comparator);a=a.insert(o,Ft.newNoDocument(o,ve.min()));const u=be().add(o),h=new bd(ve.min(),new Map,new tt(Me),a,u);await vI(i,h),i.Oa=i.Oa.remove(o),i.Na.delete(e),i_(i)}else await dm(i.localStore,e,!1).then(()=>pm(i,e,n)).catch(Eu)}async function UO(t,e){const n=ye(t),i=e.batch.batchId;try{const r=await eO(n.localStore,e);wI(n,i,null),yI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Au(n,r)}catch(r){await Eu(r)}}async function $O(t,e,n){const i=ye(t);try{const r=await function(a,u){const h=ye(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return h.mutationQueue.lookupMutationBatch(f,u).next(_=>(ze(_!==null),m=_.keys(),h.mutationQueue.removeMutationBatch(f,_))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>h.localDocuments.getDocuments(f,m))})}(i.localStore,e);wI(i,e,n),yI(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Au(i,r)}catch(r){await Eu(r)}}function yI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function wI(t,e,n){const i=ye(t);let r=i.Ba[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function pm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||TI(t,i)})}function TI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Qg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),i_(t))}function gw(t,e,n){for(const i of n)i instanceof mI?(t.La.addReference(i.key,e),HO(t,i)):i instanceof gI?(oe("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||TI(t,i.key)):ge()}function HO(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(oe("SyncEngine","New document in limbo: "+n),t.xa.add(i),i_(t))}function i_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ue(He.fromString(e)),i=t.qa.next();t.Na.set(i,new NO(n)),t.Oa=t.Oa.insert(n,i),oI(t.remoteStore,new Tr(ci(jg(n.path)),i,"TargetPurposeLimboResolution",Og.oe))}}async function Au(t,e,n){const i=ye(t),r=[],o=[],a=[];i.Fa.isEmpty()||(i.Fa.forEach((u,h)=>{a.push(i.Ka(h,e,n).then(f=>{var m;if((f||n)&&i.isPrimaryClient){const _=f?!f.fromCache:(m=n==null?void 0:n.targetChanges.get(h.targetId))===null||m===void 0?void 0:m.current;i.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(f){r.push(f);const _=Zg.Wi(h.targetId,f);o.push(_)}}))}),await Promise.all(a),i.Ca.d_(r),await async function(h,f){const m=ye(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>X.forEach(f,w=>X.forEach(w.$i,P=>m.persistence.referenceDelegate.addReference(_,w.targetId,P)).next(()=>X.forEach(w.Ui,P=>m.persistence.referenceDelegate.removeReference(_,w.targetId,P)))))}catch(_){if(!Su(_))throw _;oe("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of f){const w=_.targetId;if(!_.fromCache){const P=m.os.get(w),S=P.snapshotVersion,k=P.withLastLimboFreeSnapshotVersion(S);m.os=m.os.insert(w,k)}}}(i.localStore,o))}async function WO(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const i=await nI(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(u=>{u.forEach(h=>{h.reject(new se(Q.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Au(n,i.hs)}}function qO(t,e){const n=ye(t),i=n.Na.get(e);if(i&&i.va)return be().add(i.key);{let r=be();const o=n.Ma.get(e);if(!o)return r;for(const a of o){const u=n.Fa.get(a);r=r.unionWith(u.view.Va)}return r}}function EI(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jO.bind(null,e),e.Ca.d_=bO.bind(null,e.eventManager),e.Ca.$a=kO.bind(null,e.eventManager),e}function GO(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$O.bind(null,e),e}class Qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return JM(this.persistence,new YM,e.initialUser,this.serializer)}Ga(e){return new KM(Kg.Zr,this.serializer)}Wa(e){return new oO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qh.provider={build:()=>new Qh};class mm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>mw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=WO.bind(null,this.syncEngine),await PO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AO}()}createDatastore(e){const n=kd(e.databaseInfo.databaseId),i=function(o){return new cO(o)}(e.databaseInfo);return function(o,a,u,h){return new fO(o,a,u,h)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,a,u){return new mO(i,r,o,a,u)}(this.localStore,this.datastore,e.asyncQueue,n=>mw(this.syncEngine,n,0),function(){return cw.D()?new cw:new aO}())}createSyncEngine(e,n){return function(r,o,a,u,h,f,m){const _=new MO(r,o,a,u,h,f);return m&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const o=ye(r);oe("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Cu(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}mm.provider={build:()=>new mm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n,i,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Vt.UNAUTHENTICATED,this.clientId=SS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async a=>{oe("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(oe("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=t_(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Gf(t,e){t.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await nI(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _w(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ZO(t);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>hw(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>hw(e.remoteStore,r)),t._onlineComponents=e}async function ZO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===Q.FAILED_PRECONDITION||r.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;ta("Error using user provided cache. Falling back to memory cache: "+n),await Gf(t,new Qh)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await Gf(t,new Qh);return t._offlineComponents}async function II(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await _w(t,t._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await _w(t,new mm))),t._onlineComponents}function QO(t){return II(t).then(e=>e.syncEngine)}async function gm(t){const e=await II(t),n=e.eventManager;return n.onListen=OO.bind(null,e.syncEngine),n.onUnlisten=zO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FO.bind(null,e.syncEngine),n}function YO(t,e,n={}){const i=new Nr;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,u,h,f){const m=new SI({next:w=>{m.Za(),a.enqueueAndForget(()=>fI(o,_)),w.fromCache&&h.source==="server"?f.reject(new se(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(w)},error:w=>f.reject(w)}),_=new pI(u,m,{includeMetadataChanges:!0,_a:!0});return dI(o,_)}(await gm(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t,e,n){if(!n)throw new se(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XO(t,e,n,i){if(e===!0&&i===!0)throw new se(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yw(t){if(!ue.isDocumentKey(t))throw new se(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ww(t){if(ue.isDocumentKey(t))throw new se(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function di(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nd(t);throw new se(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new se(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xI((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new se(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new se(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new se(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Md{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tw(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new gN;switch(i.type){case"firstParty":return new wN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new se(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=vw.get(n);i&&(oe("ComponentProvider","Removing Datastore"),vw.delete(n),i.terminate())}(this),Promise.resolve()}}function JO(t,e,n,i={}){var r;const o=(t=di(t,Md))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),i.mockUserToken){let u,h;if(typeof i.mockUserToken=="string")u=i.mockUserToken,h=Vt.MOCK_USER;else{u=Ik(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new se(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Vt(f)}t._authCredentials=new _N(new ES(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Bs(this.firestore,e,this._query)}}class on{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class Mr extends Bs{constructor(e,n,i){super(e,n,jg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new ue(e))}withConverter(e){return new Mr(this.firestore,e,this._path)}}function r_(t,e,...n){if(t=lt(t),PI("collection","path",e),t instanceof Md){const i=He.fromString(e,...n);return ww(i),new Mr(t,null,i)}{if(!(t instanceof on||t instanceof Mr))throw new se(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(He.fromString(e,...n));return ww(i),new Mr(t.firestore,null,i)}}function Od(t,e,...n){if(t=lt(t),arguments.length===1&&(e=SS.newId()),PI("doc","path",e),t instanceof Md){const i=He.fromString(e,...n);return yw(i),new on(t,null,new ue(i))}{if(!(t instanceof on||t instanceof Mr))throw new se(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(He.fromString(e,...n));return yw(i),new on(t.firestore,t instanceof Mr?t.converter:null,new ue(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new rI(this,"async_queue_retry"),this.Vu=()=>{const i=qf();i&&oe("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=qf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=qf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Nr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Su(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const r=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(i);throw Wi("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const r=e_.createAndSchedule(this,e,n,i,o=>this.yu(o));return this.Tu.push(r),r}fu(){this.Eu&&ge()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Sw(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(t,["next","error","complete"])}class ks extends Md{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new Ew,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ew(e),this._firestoreClient=void 0,await e}}}function eD(t,e){const n=typeof t=="object"?t:Ag(),i=typeof t=="string"?t:"(default)",r=Vs(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=Ek("firestore");o&&JO(r,...o)}return r}function s_(t){if(t._terminated)throw new se(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tD(t),t._firestoreClient}function tD(t){var e,n,i;const r=t._freezeSettings(),o=function(u,h,f,m){return new NN(u,h,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,xI(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new KO(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new aa(Nt.fromBase64String(e))}catch(n){throw new se(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new aa(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=/^__.*__$/;class iD{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new xu(e,this.data,n,this.fieldTransforms)}}class CI{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Hr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class l_{constructor(e,n,i,r,o,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new l_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Yh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(AI(this.Cu)&&nD.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class rD{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||kd(e)}Qu(e,n,i,r=!1){return new l_({Cu:e,methodName:n,qu:i,path:bt.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function u_(t){const e=t._freezeSettings(),n=kd(t._databaseId);return new rD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sD(t,e,n,i,r,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,r);h_("Data must be an object, but it was:",a,i);const u=bI(i,a);let h,f;if(o.merge)h=new fn(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const m=[];for(const _ of o.mergeFields){const w=_m(e,_,n);if(!a.contains(w))throw new se(Q.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);RI(m,w)||m.push(w)}h=new fn(m),f=a.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,f=a.fieldTransforms;return new iD(new Jt(u),h,f)}class zd extends Vd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zd}}class c_ extends Vd{_toFieldTransform(e){return new rM(e.path,new cu)}isEqual(e){return e instanceof c_}}function oD(t,e,n,i){const r=t.Qu(1,e,n);h_("Data must be an object, but it was:",r,i);const o=[],a=Jt.empty();zs(i,(h,f)=>{const m=d_(e,h,n);f=lt(f);const _=r.Nu(m);if(f instanceof zd)o.push(m);else{const w=bu(f,_);w!=null&&(o.push(m),a.set(m,w))}});const u=new fn(o);return new CI(a,u,r.fieldTransforms)}function aD(t,e,n,i,r,o){const a=t.Qu(1,e,n),u=[_m(e,i,n)],h=[r];if(o.length%2!=0)throw new se(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)u.push(_m(e,o[w])),h.push(o[w+1]);const f=[],m=Jt.empty();for(let w=u.length-1;w>=0;--w)if(!RI(f,u[w])){const P=u[w];let S=h[w];S=lt(S);const k=a.Nu(P);if(S instanceof zd)f.push(P);else{const z=bu(S,k);z!=null&&(f.push(P),m.set(P,z))}}const _=new fn(f);return new CI(m,_,a.fieldTransforms)}function lD(t,e,n,i=!1){return bu(n,t.Qu(i?4:3,e))}function bu(t,e){if(kI(t=lt(t)))return h_("Unsupported field value:",e,t),bI(t,e);if(t instanceof Vd)return function(i,r){if(!AI(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){const o=[];let a=0;for(const u of i){let h=bu(u,r.Lu(a));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),a++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=lt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return tM(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=vt.fromDate(i);return{timestampValue:Kh(r.serializer,o)}}if(i instanceof vt){const o=new vt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Kh(r.serializer,o)}}if(i instanceof o_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof aa)return{bytesValue:ZS(r.serializer,i._byteString)};if(i instanceof on){const o=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(o))throw r.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:qg(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof a_)return function(a,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw u.Bu("VectorValues must only contain numeric values.");return Ug(u.serializer,h)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${Nd(i)}`)}(t,e)}function bI(t,e){const n={};return IS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zs(t,(i,r)=>{const o=bu(r,e.Mu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function kI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof o_||t instanceof aa||t instanceof on||t instanceof Vd||t instanceof a_)}function h_(t,e,n){if(!kI(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=Nd(n);throw i==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+i)}}function _m(t,e,n){if((e=lt(e))instanceof Dd)return e._internalPath;if(typeof e=="string")return d_(t,e);throw Yh("Field path arguments must be of type string or ",t,!1,void 0,n)}const uD=new RegExp("[~\\*/\\[\\]]");function d_(t,e,n){if(e.search(uD)>=0)throw Yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dd(...e.split("."))._internalPath}catch{throw Yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yh(t,e,n,i,r){const o=i&&!i.isEmpty(),a=r!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||a)&&(h+=" (found",o&&(h+=` in field ${i}`),a&&(h+=` in document ${r}`),h+=")"),new se(Q.INVALID_ARGUMENT,u+t+h)}function RI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(f_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cD extends LI{data(){return super.data()}}function f_(t,e){return typeof e=="string"?d_(t,e):e instanceof Dd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class p_{}class hD extends p_{}function MI(t,e,...n){let i=[];e instanceof p_&&i.push(e),i=i.concat(n),function(o){const a=o.filter(h=>h instanceof m_).length,u=o.filter(h=>h instanceof Fd).length;if(a>1||a>0&&u>0)throw new se(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class Fd extends hD{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Fd(e,n,i)}_apply(e){const n=this._parse(e);return DI(e._query,n),new Bs(e.firestore,e.converter,om(e._query,n))}_parse(e){const n=u_(e.firestore);return function(o,a,u,h,f,m,_){let w;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new se(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){xw(_,m);const P=[];for(const S of _)P.push(Iw(h,o,S));w={arrayValue:{values:P}}}else w=Iw(h,o,_)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||xw(_,m),w=lD(u,a,_,m==="in"||m==="not-in");return pt.create(f,m,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function OI(t,e,n){const i=e,r=f_("where",t);return Fd._create(r,i,n)}class m_ extends p_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new m_(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,o){let a=r;const u=o.getFlattenedFilters();for(const h of u)DI(a,h),a=om(a,h)}(e._query,n),new Bs(e.firestore,e.converter,om(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Iw(t,e,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new se(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NS(e)&&n.indexOf("/")!==-1)throw new se(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(He.fromString(n));if(!ue.isDocumentKey(i))throw new se(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Wy(t,new ue(i))}if(n instanceof on)return Wy(t,n._key);throw new se(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nd(n)}.`)}function xw(t,e){if(!Array.isArray(t)||t.length===0)throw new se(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DI(t,e){const n=function(r,o){for(const a of r)for(const u of a.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dD{convertValue(e,n="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return zs(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertVectorValue(e){var n,i,r;const o=(r=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>st(a.doubleValue));return new a_(o)}convertGeoPoint(e){return new o_(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Vg(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){const n=zr(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=He.fromString(e);ze(tI(i));const r=new lu(i.get(1),i.get(3)),o=new ue(i.popFirst(5));return r.isEqual(n)||Wi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class VI extends LI{constructor(e,n,i,r,o,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(f_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class rh extends VI{data(e={}){return super.data(e)}}class zI{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new El(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new rh(this._firestore,this._userDataWriter,i.key,i,new El(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>{const h=new rh(r._firestore,r._userDataWriter,u.doc.key,u.doc,new El(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const h=new rh(r._firestore,r._userDataWriter,u.doc.key,u.doc,new El(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,m=-1;return u.type!==0&&(f=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),m=a.indexOf(u.doc.key)),{type:pD(u.type),doc:h,oldIndex:f,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}class g_ extends dD{constructor(e){super(),this.firestore=e}convertBytes(e){return new aa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function mD(t){t=di(t,Bs);const e=di(t.firestore,ks),n=s_(e),i=new g_(e);return NI(t._query),YO(n,t._query).then(r=>new zI(e,i,t,r))}function gD(t,e,n,...i){t=di(t,on);const r=di(t.firestore,ks),o=u_(r);let a;return a=typeof(e=lt(e))=="string"||e instanceof Dd?aD(o,"updateDoc",t._key,e,n,i):oD(o,"updateDoc",t._key,e),__(r,[a.toMutation(t._key,Wn.exists(!0))])}function _D(t){return __(di(t.firestore,ks),[new $g(t._key,Wn.none())])}function vD(t,e){const n=di(t.firestore,ks),i=Od(t),r=fD(t.converter,e);return __(n,[sD(u_(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Wn.exists(!1))]).then(()=>i)}function FI(t,...e){var n,i,r;t=lt(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Sw(e[a])||(o=e[a],a++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Sw(e[a])){const _=e[a];e[a]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[a+1]=(i=_.error)===null||i===void 0?void 0:i.bind(_),e[a+2]=(r=_.complete)===null||r===void 0?void 0:r.bind(_)}let h,f,m;if(t instanceof on)f=di(t.firestore,ks),m=jg(t._key.path),h={next:_=>{e[a]&&e[a](yD(f,t,_))},error:e[a+1],complete:e[a+2]};else{const _=di(t,Bs);f=di(_.firestore,ks),m=_._query;const w=new g_(f);h={next:P=>{e[a]&&e[a](new zI(f,w,_,P))},error:e[a+1],complete:e[a+2]},NI(t._query)}return function(w,P,S,k){const z=new SI(k),I=new pI(P,z,S);return w.asyncQueue.enqueueAndForget(async()=>dI(await gm(w),I)),()=>{z.Za(),w.asyncQueue.enqueueAndForget(async()=>fI(await gm(w),I))}}(s_(f),m,u,h)}function __(t,e){return function(i,r){const o=new Nr;return i.asyncQueue.enqueueAndForget(async()=>BO(await QO(i),r,o)),o.promise}(s_(t),e)}function yD(t,e,n){const i=n.docs.get(e._key),r=new g_(t);return new VI(t,r,e._key,i,new El(n.hasPendingWrites,n.fromCache),e.converter)}function wD(){return new c_("serverTimestamp")}(function(e,n=!0){(function(r){pa=r})(fa),mi(new Gn("firestore",(i,{instanceIdentifier:r,options:o})=>{const a=i.getProvider("app").getImmediate(),u=new ks(new vN(i.getProvider("auth-internal")),new EN(i.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new se(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(f.options.projectId,m)}(a,r),a);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Rn(By,"4.7.3",e),Rn(By,"4.7.3","esm2017")})();function v_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function BI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TD=BI,jI=new Ds("auth","Firebase",BI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new Td("@firebase/auth");function ED(t,...e){Xh.logLevel<=ke.WARN&&Xh.warn(`Auth (${fa}): ${t}`,...e)}function sh(t,...e){Xh.logLevel<=ke.ERROR&&Xh.error(`Auth (${fa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t,...e){throw y_(t,...e)}function fi(t,...e){return y_(t,...e)}function UI(t,e,n){const i=Object.assign(Object.assign({},TD()),{[e]:n});return new Ds("auth","Firebase",i).create(e,{appName:t.name})}function Fi(t){return UI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return jI.create(t,...e)}function fe(t,e,...n){if(!t)throw y_(e,...n)}function Oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sh(e),new Error(e)}function Gi(t,e){t||Oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function SD(){return Pw()==="http:"||Pw()==="https:"}function Pw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SD()||Ig()||"connection"in navigator)?navigator.onLine:!0}function xD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gi(n>e,"Short delay should be less than long delay!"),this.isMobile=xk()||Ak()}get(){return ID()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t,e){Gi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new ku(3e4,6e4);function Wr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qr(t,e,n,i,r={}){return HI(t,r,async()=>{let o={},a={};i&&(e==="GET"?a=i:o={body:JSON.stringify(i)});const u=Tu(Object.assign({key:t.config.apiKey},a)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:h},o);return Ck()||(f.referrerPolicy="no-referrer"),$I.fetch()(WI(t,t.config.apiHost,n,u),f)})}async function HI(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},PD),e);try{const r=new bD(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Fc(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const u=o.ok?a.errorMessage:a.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(t,"credential-already-in-use",a);if(h==="EMAIL_EXISTS")throw Fc(t,"email-already-in-use",a);if(h==="USER_DISABLED")throw Fc(t,"user-disabled",a);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw UI(t,m,f);Zn(t,m)}}catch(r){if(r instanceof Qn)throw r;Zn(t,"network-request-failed",{message:String(r)})}}async function Ru(t,e,n,i,r={}){const o=await qr(t,e,n,i,r);return"mfaPendingCredential"in o&&Zn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function WI(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?w_(t.config,r):`${t.config.apiScheme}://${r}`}function AD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(fi(this.auth,"network-request-failed")),CD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=fi(t,e,i);return r.customData._tokenResponse=n,r}function Cw(t){return t!==void 0&&t.enterprise!==void 0}class kD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function RD(t,e){return qr(t,"GET","/v2/recaptchaConfig",Wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(t,e){return qr(t,"POST","/v1/accounts:delete",e)}async function qI(t,e){return qr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ND(t,e=!1){const n=lt(t),i=await n.getIdToken(e),r=T_(i);fe(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:zl(Kf(r.auth_time)),issuedAtTime:zl(Kf(r.iat)),expirationTime:zl(Kf(r.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Kf(t){return Number(t)*1e3}function T_(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const r=VE(n);return r?JSON.parse(r):(sh("Failed to decode base64 JWT payload"),null)}catch(r){return sh("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Aw(t){const e=T_(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Qn&&MD(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function MD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jh(t){var e;const n=t.auth,i=await t.getIdToken(),r=await fu(t,qI(n,{idToken:i}));fe(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?GI(o.providerUserInfo):[],u=VD(t.providerData,a),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),m=h?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ym(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,_)}async function DD(t){const e=lt(t);await Jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VD(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function GI(t){return t.map(e=>{var{providerId:n}=e,i=v_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(t,e){const n=await HI(t,{},async()=>{const i=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,a=WI(t,r,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",$I.fetch()(a,{method:"POST",headers:u,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FD(t,e){return qr(t,"POST","/v2/accounts:revokeToken",Wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Aw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const n=Aw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await zD(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,a=new Wo;return i&&(fe(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(fe(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),o&&(fe(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wo,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Di{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=v_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new OD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ym(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await fu(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ND(this,e)}reload(){return DD(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Jh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(Fi(this.auth));const e=await this.getIdToken();return await fu(this,LD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,a,u,h,f,m;const _=(i=n.displayName)!==null&&i!==void 0?i:void 0,w=(r=n.email)!==null&&r!==void 0?r:void 0,P=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(a=n.photoURL)!==null&&a!==void 0?a:void 0,k=(u=n.tenantId)!==null&&u!==void 0?u:void 0,z=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,I=(f=n.createdAt)!==null&&f!==void 0?f:void 0,T=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:E,emailVerified:V,isAnonymous:j,providerData:W,stsTokenManager:N}=n;fe(E&&N,e,"internal-error");const C=Wo.fromJSON(this.name,N);fe(typeof E=="string",e,"internal-error"),lr(_,e.name),lr(w,e.name),fe(typeof V=="boolean",e,"internal-error"),fe(typeof j=="boolean",e,"internal-error"),lr(P,e.name),lr(S,e.name),lr(k,e.name),lr(z,e.name),lr(I,e.name),lr(T,e.name);const A=new Di({uid:E,auth:e,email:w,emailVerified:V,displayName:_,isAnonymous:j,photoURL:S,phoneNumber:P,tenantId:k,stsTokenManager:C,createdAt:I,lastLoginAt:T});return W&&Array.isArray(W)&&(A.providerData=W.map(R=>Object.assign({},R))),z&&(A._redirectEventId=z),A}static async _fromIdTokenResponse(e,n,i=!1){const r=new Wo;r.updateFromServerResponse(n);const o=new Di({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Jh(o),o}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];fe(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?GI(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),u=new Wo;u.updateFromIdToken(i);const h=new Di({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:a}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new ym(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=new Map;function Vi(t){Gi(t instanceof Function,"Expected a class definition");let e=bw.get(t);return e?(Gi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KI.type="NONE";const kw=KI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t,e,n){return`firebase:${t}:${e}:${n}`}class qo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=oh(this.userKey,r.apiKey,o),this.fullPersistenceKey=oh("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Di._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new qo(Vi(kw),e,i);const r=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||Vi(kw);const a=oh(i,e.config.apiKey,e.name);let u=null;for(const f of n)try{const m=await f._get(a);if(m){const _=Di._fromJSON(e,m);f!==o&&(u=_),o=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new qo(o,e,i):(o=h[0],u&&await o._set(a,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(a)}catch{}})),new qo(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ex(e))return"Blackberry";if(tx(e))return"Webos";if(QI(e))return"Safari";if((e.includes("chrome/")||YI(e))&&!e.includes("edge/"))return"Chrome";if(JI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function ZI(t=jt()){return/firefox\//i.test(t)}function QI(t=jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YI(t=jt()){return/crios\//i.test(t)}function XI(t=jt()){return/iemobile/i.test(t)}function JI(t=jt()){return/android/i.test(t)}function ex(t=jt()){return/blackberry/i.test(t)}function tx(t=jt()){return/webos/i.test(t)}function E_(t=jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BD(t=jt()){var e;return E_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jD(){return bk()&&document.documentMode===10}function nx(t=jt()){return E_(t)||JI(t)||tx(t)||ex(t)||/windows phone/i.test(t)||XI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t,e=[]){let n;switch(t){case"Browser":n=Rw(jt());break;case"Worker":n=`${Rw(jt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((a,u)=>{try{const h=e(o);a(h)}catch(h){u(h)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(t,e={}){return qr(t,"GET","/v2/passwordPolicy",Wr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=6;class WD{constructor(e){var n,i,r,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:HD,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,a,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(r=h.containsLowercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsNumericCharacter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lw(this),this.idTokenSubscription=new Lw(this),this.beforeStateQueue=new UD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vi(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await qo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qI(this,{idToken:e}),i=await Di._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(oi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&(h!=null&&h.user)&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(Fi(this));const n=e?lt(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(Fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(Fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $D(this),n=new WD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ds("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await FD(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vi(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await qo.create(this,[Vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(u,this,"internal-error"),u.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,r);return()=>{a=!0,h()}}else{const h=e.addObserver(n);return()=>{a=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ix(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ED(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function js(t){return lt(t)}class Lw{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ok(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GD(t){Bd=t}function rx(t){return Bd.loadJS(t)}function KD(){return Bd.recaptchaEnterpriseScript}function ZD(){return Bd.gapiScript}function QD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const YD="recaptcha-enterprise",XD="NO_RECAPTCHA";class JD{constructor(e){this.type=YD,this.auth=js(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,u)=>{RD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new kD(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(h=>{u(h)})})}function r(o,a,u){const h=window.grecaptcha;Cw(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(XD)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{i(this.auth).then(u=>{if(!n&&Cw(window.grecaptcha))r(u,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let h=KD();h.length!==0&&(h+=u),rx(h).then(()=>{r(u,o,a)}).catch(f=>{a(f)})}}).catch(u=>{a(u)})})}}async function Nw(t,e,n,i=!1){const r=new JD(t);let o;try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const a=Object.assign({},e);return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function wm(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Nw(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Nw(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t,e){const n=Vs(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(ru(o,e??{}))return r;Zn(r,"already-initialized")}return n.initialize({options:e})}function t2(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Vi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function n2(t,e,n){const i=js(t);fe(i._canInitEmulator,i,"emulator-config-failed"),fe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,o=sx(e),{host:a,port:u}=i2(e),h=u===null?"":`:${u}`;i.config.emulator={url:`${o}//${a}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r2()}function sx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function i2(t){const e=sx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Mw(i.substr(o.length+1))}}else{const[o,a]=i.split(":");return{host:o,port:Mw(a)}}}function Mw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function r2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,n){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function s2(t,e){return qr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o2(t,e){return Ru(t,"POST","/v1/accounts:signInWithPassword",Wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(t,e){return Ru(t,"POST","/v1/accounts:signInWithEmailLink",Wr(t,e))}async function l2(t,e){return Ru(t,"POST","/v1/accounts:signInWithEmailLink",Wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends S_{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new pu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new pu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wm(e,n,"signInWithPassword",o2);case"emailLink":return a2(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wm(e,i,"signUpPassword",s2);case"emailLink":return l2(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(t,e){return Ru(t,"POST","/v1/accounts:signInWithIdp",Wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="http://localhost";class Rs extends S_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=v_(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new Rs(i,r);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Go(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Go(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Go(e,n)}buildRequest(){const e={requestUri:u2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function h2(t){const e=_l(vl(t)).link,n=e?_l(vl(e)).deep_link_id:null,i=_l(vl(t)).deep_link_id;return(i?_l(vl(i)).link:null)||i||n||e||t}class I_{constructor(e){var n,i,r,o,a,u;const h=_l(vl(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,m=(i=h.oobCode)!==null&&i!==void 0?i:null,_=c2((r=h.mode)!==null&&r!==void 0?r:null);fe(f&&m&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=m,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=h.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=h2(e);try{return new I_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.providerId=_a.PROVIDER_ID}static credential(e,n){return pu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=I_.parseLink(n);return fe(i,"argument-error"),pu._fromEmailAndCode(e,i.code,i.tenantId)}}_a.PROVIDER_ID="password";_a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends ox{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Lu{constructor(){super("facebook.com")}static credential(e){return Rs._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Rs._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return pr.credential(n,i)}catch{return null}}}pr.GOOGLE_SIGN_IN_METHOD="google.com";pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends Lu{constructor(){super("github.com")}static credential(e){return Rs._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Lu{constructor(){super("twitter.com")}static credential(e,n){return Rs._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return gr.credential(n,i)}catch{return null}}}gr.TWITTER_SIGN_IN_METHOD="twitter.com";gr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(t,e){return Ru(t,"POST","/v1/accounts:signUp",Wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await Di._fromIdTokenResponse(e,i,r),a=Ow(i);return new Ls({user:o,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=Ow(i);return new Ls({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function Ow(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends Qn{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,ed.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new ed(e,n,i,r)}}function ax(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ed._fromErrorAndOperation(t,o,e,i):o})}async function f2(t,e,n=!1){const i=await fu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ls._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(t,e,n=!1){const{auth:i}=t;if(oi(i.app))return Promise.reject(Fi(i));const r="reauthenticate";try{const o=await fu(t,ax(i,r,e,t),n);fe(o.idToken,i,"internal-error");const a=T_(o.idToken);fe(a,i,"internal-error");const{sub:u}=a;return fe(t.uid===u,i,"user-mismatch"),Ls._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Zn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(t,e,n=!1){if(oi(t.app))return Promise.reject(Fi(t));const i="signIn",r=await ax(t,i,e),o=await Ls._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function m2(t,e){return lx(js(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ux(t){const e=js(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function g2(t,e,n){if(oi(t.app))return Promise.reject(Fi(t));const i=js(t),a=await wm(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",d2).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&ux(t),h}),u=await Ls._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(u.user),u}function _2(t,e,n){return oi(t.app)?Promise.reject(Fi(t)):m2(lt(t),_a.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&ux(t),i})}function v2(t,e,n,i){return lt(t).onIdTokenChanged(e,n,i)}function y2(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function w2(t,e,n,i){return lt(t).onAuthStateChanged(e,n,i)}function T2(t){return lt(t).signOut()}const td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(td,"1"),this.storage.removeItem(td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=1e3,S2=10;class hx extends cx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,h)=>{this.notifyListeners(a,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);jD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,S2):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},E2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hx.type="LOCAL";const I2=hx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx extends cx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dx.type="SESSION";const fx=dx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new jd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(a).map(async f=>f(n.origin,o)),h=await x2(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,a;return new Promise((u,h)=>{const f=x_("",20);r.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(_){const w=_;if(w.data.eventId===f)switch(w.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(w.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function C2(t){pi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function A2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function b2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function k2(){return px()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="firebaseLocalStorageDb",R2=1,nd="firebaseLocalStorage",gx="fbase_key";class Nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ud(t,e){return t.transaction([nd],e?"readwrite":"readonly").objectStore(nd)}function L2(){const t=indexedDB.deleteDatabase(mx);return new Nu(t).toPromise()}function Tm(){const t=indexedDB.open(mx,R2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(nd,{keyPath:gx})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(nd)?e(i):(i.close(),await L2(),e(await Tm()))})})}async function Dw(t,e,n){const i=Ud(t,!0).put({[gx]:e,value:n});return new Nu(i).toPromise()}async function N2(t,e){const n=Ud(t,!1).get(e),i=await new Nu(n).toPromise();return i===void 0?null:i.value}function Vw(t,e){const n=Ud(t,!0).delete(e);return new Nu(n).toPromise()}const M2=800,O2=3;class _x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>O2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return px()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jd._getInstance(k2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await A2(),!this.activeServiceWorker)return;this.sender=new P2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||b2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tm();return await Dw(e,td,"1"),await Vw(e,td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Dw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>N2(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=Ud(r,!1).getAll();return new Nu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),M2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_x.type="LOCAL";const D2=_x;new ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t,e){return e?Vi(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_ extends S_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function z2(t){return lx(t.auth,new P_(t),t.bypassAuthState)}function F2(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),p2(n,new P_(t),t.bypassAuthState)}async function B2(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),f2(n,new P_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:a,type:u}=e;if(a){this.reject(a);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return z2;case"linkViaPopup":case"linkViaRedirect":return B2;case"reauthViaPopup":case"reauthViaRedirect":return F2;default:Zn(this.auth,"internal-error")}}resolve(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new ku(2e3,1e4);class Do extends vx{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Do.currentPopupAction&&Do.currentPopupAction.cancel(),Do.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const e=x_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Do.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,j2.get())};e()}}Do.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="pendingRedirect",ah=new Map;class $2 extends vx{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const i=await H2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function H2(t,e){const n=G2(e),i=q2(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function W2(t,e){ah.set(t._key(),e)}function q2(t){return Vi(t._redirectPersistence)}function G2(t){return oh(U2,t.config.apiKey,t.name)}async function K2(t,e,n=!1){if(oi(t.app))return Promise.reject(Fi(t));const i=js(t),r=V2(i,e),a=await new $2(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=10*60*1e3;class Q2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!yx(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(fi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z2&&this.cachedEventUids.clear(),this.cachedEventUids.has(zw(e))}saveEventToCache(e){this.cachedEventUids.add(zw(e)),this.lastProcessedEventTime=Date.now()}}function zw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Y2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(t,e={}){return qr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eV=/^https?/;async function tV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await X2(t);for(const n of e)try{if(nV(n))return}catch{}Zn(t,"unauthorized-domain")}function nV(t){const e=vm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!eV.test(n))return!1;if(J2.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=new ku(3e4,6e4);function Fw(){const t=pi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rV(t){return new Promise((e,n)=>{var i,r,o;function a(){Fw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fw(),n(fi(t,"network-request-failed"))},timeout:iV.get()})}if(!((r=(i=pi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=pi().gapi)===null||o===void 0)&&o.load)a();else{const u=QD("iframefcb");return pi()[u]=()=>{gapi.load?a():n(fi(t,"network-request-failed"))},rx(`${ZD()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw lh=null,e})}let lh=null;function sV(t){return lh=lh||rV(t),lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=new ku(5e3,15e3),aV="__/auth/iframe",lV="emulator/auth/iframe",uV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hV(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?w_(e,lV):`https://${t.config.authDomain}/${aV}`,i={apiKey:e.apiKey,appName:t.name,v:fa},r=cV.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Tu(i).slice(1)}`}async function dV(t){const e=await sV(t),n=pi().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:hV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uV,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const a=fi(t,"network-request-failed"),u=pi().setTimeout(()=>{o(a)},oV.get());function h(){pi().clearTimeout(u),r(i)}i.ping(h).then(h,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pV=500,mV=600,gV="_blank",_V="http://localhost";class Bw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vV(t,e,n,i=pV,r=mV){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h=Object.assign(Object.assign({},fV),{width:i.toString(),height:r.toString(),top:o,left:a}),f=jt().toLowerCase();n&&(u=YI(f)?gV:n),ZI(f)&&(e=e||_V,h.scrollbars="yes");const m=Object.entries(h).reduce((w,[P,S])=>`${w}${P}=${S},`,"");if(BD(f)&&u!=="_self")return yV(e||"",u),new Bw(null);const _=window.open(e||"",u,m);fe(_,t,"popup-blocked");try{_.focus()}catch{}return new Bw(_)}function yV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV="__/auth/handler",TV="emulator/auth/handler",EV=encodeURIComponent("fac");async function jw(t,e,n,i,r,o){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:fa,eventId:r};if(e instanceof ox){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Mk(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries({}))a[m]=_}if(e instanceof Lu){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(a.scopes=m.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),f=h?`#${EV}=${encodeURIComponent(h)}`:"";return`${SV(t)}?${Tu(u).slice(1)}${f}`}function SV({config:t}){return t.emulator?w_(t,TV):`https://${t.authDomain}/${wV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="webStorageSupport";class IV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fx,this._completeRedirectFn=K2,this._overrideRedirectResult=W2}async _openPopup(e,n,i,r){var o;Gi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await jw(e,n,i,vm(),r);return vV(e,a,x_())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await jw(e,n,i,vm(),r);return C2(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Gi(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await dV(e),i=new Q2(e);return n.register("authEvent",r=>(fe(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zf,{type:Zf},r=>{var o;const a=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[Zf];a!==void 0&&n(!!a),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nx()||QI()||E_()}}const xV=IV;var Uw="@firebase/auth",$w="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AV(t){mi(new Gn("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=i.options;fe(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ix(t)},f=new qD(i,r,o,h);return t2(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),mi(new Gn("auth-internal",e=>{const n=js(e.getProvider("auth").getImmediate());return(i=>new PV(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rn(Uw,$w,CV(t)),Rn(Uw,$w,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=5*60,kV=BE("authIdTokenMaxAge")||bV;let Hw=null;const RV=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>kV)return;const r=n==null?void 0:n.token;Hw!==r&&(Hw=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function LV(t=Ag()){const e=Vs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=e2(t,{popupRedirectResolver:xV,persistence:[D2,I2,fx]}),i=BE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const a=RV(o.toString());y2(n,a,()=>a(n.currentUser)),v2(n,u=>a(u))}}const r=zE("auth");return r&&n2(n,`http://${r}`),n}function NV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}GD({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=fi("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",NV().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AV("Browser");const MV={apiKey:"AIzaSyDfDb4D0QJmW3zbP4B10Uu2QxTU5I-mJJ4",authDomain:"trip-itenary-planner.firebaseapp.com",projectId:"trip-itenary-planner",storageBucket:"trip-itenary-planner.firebasestorage.app",messagingSenderId:"852985400101",appId:"1:852985400101:web:be5395269bb6b4cc8868cc",measurementId:"G-YPMP7KK1X6"},C_=WE(MV),va=eD(C_),Bc=LV(C_);fN().then(t=>{t&&hN(C_)}).catch(()=>{});const wx=U.createContext(null);function OV({children:t}){const[e,n]=U.useState(null),[i,r]=U.useState(!0),o=Os();U.useEffect(()=>w2(Bc,m=>{n(m||null),r(!1)}),[]);const a=(f,m)=>_2(Bc,f,m),u=(f,m)=>g2(Bc,f,m),h=async()=>{await T2(Bc),n(null),o("/")};return M.jsx(wx.Provider,{value:{user:e,loading:i,login:a,register:u,logout:h},children:t})}const Gr=()=>U.useContext(wx);function DV(){const{login:t}=Gr(),e=Os(),[n,i]=U.useState(""),[r,o]=U.useState(""),[a,u]=U.useState("");async function h(f){f.preventDefault(),u("");try{await t(n,r),e("/dashboard")}catch(m){u(m.message)}}return M.jsxs("main",{className:"max-w-md mx-auto p-6",children:[M.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Sign in"}),a&&M.jsx("div",{className:"bg-red-50 text-red-700 p-3 rounded-xl mb-3",children:a}),M.jsxs("form",{className:"space-y-3",onSubmit:h,children:[M.jsx("input",{className:"w-full border rounded-xl px-4 py-2",placeholder:"Email",type:"email",value:n,onChange:f=>i(f.target.value)}),M.jsx("input",{className:"w-full border rounded-xl px-4 py-2",placeholder:"Password",type:"password",value:r,onChange:f=>o(f.target.value)}),M.jsx("button",{className:"btn btn-primary w-full",children:"Sign in"})]}),M.jsxs("p",{className:"text-sm mt-3",children:["No account? ",M.jsx(Wt,{className:"underline",to:"/register",children:"Register"})]})]})}function VV(){const{register:t}=Gr(),e=Os(),[n,i]=U.useState(""),[r,o]=U.useState(""),[a,u]=U.useState("");async function h(f){f.preventDefault(),u("");try{await t(n,r),e("/dashboard")}catch(m){u(m.message)}}return M.jsxs("main",{className:"max-w-md mx-auto p-6",children:[M.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Create account"}),a&&M.jsx("div",{className:"bg-red-50 text-red-700 p-3 rounded-xl mb-3",children:a}),M.jsxs("form",{className:"space-y-3",onSubmit:h,children:[M.jsx("input",{className:"w-full border rounded-xl px-4 py-2",placeholder:"Email",type:"email",value:n,onChange:f=>i(f.target.value)}),M.jsx("input",{className:"w-full border rounded-xl px-4 py-2",placeholder:"Password (min 6 chars)",type:"password",value:r,onChange:f=>o(f.target.value)}),M.jsx("button",{className:"btn btn-primary w-full",children:"Create account"})]}),M.jsxs("p",{className:"text-sm mt-3",children:["Already registered? ",M.jsx(Wt,{className:"underline",to:"/login",children:"Sign in"})]})]})}const Ww=t=>t?typeof t.toMillis=="function"?t.toMillis():new Date(t).getTime()||0:0,Tx=t=>t.sort((e,n)=>Ww(n.createdAt)-Ww(e.createdAt)),Ex=async t=>{const e=r_(va,"trips");return(await vD(e,{...t,createdAt:wD()})).id},zV=async t=>{const e=r_(va,"trips"),n=MI(e,OI("userId","==",t)),r=(await mD(n)).docs.map(o=>({id:o.id,...o.data()}));return Tx(r)},FV=async(t,e)=>{const n=Od(va,"trips",t);return await gD(n,e)},BV=async t=>{const e=Od(va,"trips",t);return await _D(e)},jV=(t,e,n)=>{const i=r_(va,"trips"),r=MI(i,OI("userId","==",t));return FI(r,o=>{const a=o.docs.map(u=>({id:u.id,...u.data()}));e(Tx(a))},o=>{console.error("listenToTripsByUser error:",o),n&&n(o),e([])})},UV=(t,e,n)=>{const i=Od(va,"trips",t);return FI(i,r=>e(r.exists()?{id:r.id,...r.data()}:null),r=>{console.error("listenToTrip error:",r),e(null)})},$V=zV;function HV(){const{user:t}=Gr(),[e,n]=U.useState([]),[i,r]=U.useState("");return U.useEffect(()=>{if(!t)return;const o=jV(t.uid,n,a=>r(a.message));return()=>o()},[t]),M.jsxs("main",{className:"max-w-5xl mx-auto p-6 space-y-4",children:[M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsx("h2",{className:"text-2xl font-bold",children:"My Trips"}),M.jsx(Wt,{to:"/create",className:"btn btn-primary",children:"Create Trip"})]}),i&&M.jsx("div",{className:"bg-red-50 text-red-700 p-3 rounded-xl",children:i}),M.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.map(o=>{var a,u;return M.jsx(Wt,{to:`/trip/${o.id}`,className:"card hover:shadow-md transition",children:M.jsxs("div",{className:"flex items-start justify-between",children:[M.jsxs("div",{children:[M.jsx("h3",{className:"text-xl font-semibold",children:o.title||((a=o.destination)==null?void 0:a.name)||"Untitled trip"}),M.jsx("p",{className:"text-gray-600 text-sm",children:((u=o.destination)==null?void 0:u.name)||o.name}),M.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:[o.startDate,"  ",o.endDate]})]}),M.jsx("button",{className:"text-red-500 text-sm",onClick:h=>{h.preventDefault(),BV(o.id)},children:"Delete"})]})},o.id)}),e.length===0&&M.jsx("div",{className:"text-gray-500",children:"No trips yet. Create your first one!"})]})]})}function WV({value:t,onSelect:e,placeholder:n="Search a place..."}){const[i,r]=U.useState((t==null?void 0:t.name)||""),[o,a]=U.useState([]),[u,h]=U.useState(!1),f=U.useRef(null);return U.useEffect(()=>{function m(_){var w;(w=f.current)!=null&&w.contains(_.target)||h(!1)}return document.addEventListener("click",m),()=>document.removeEventListener("click",m)},[]),U.useEffect(()=>{if(!i||i.length<2){a([]);return}const m=setTimeout(async()=>{try{const P=(await(await fetch(`https://nominatim.openstreetmap.org/search?format=jsonv2&limit=8&q=${encodeURIComponent(i)}`,{headers:{Accept:"application/json"}})).json()||[]).map(S=>({name:S.display_name,lat:parseFloat(S.lat),lng:parseFloat(S.lon)}));a(P),h(!0)}catch(_){console.error("nominatim error",_)}},250);return()=>clearTimeout(m)},[i]),M.jsxs("div",{className:"relative",ref:f,children:[M.jsx("input",{className:"w-full border rounded-2xl px-4 py-3 outline-none",value:i,onChange:m=>r(m.target.value),placeholder:n,onFocus:()=>i.length>=2&&h(!0)}),u&&o.length>0&&M.jsx("div",{className:"absolute z-20 top-full left-0 right-0 bg-white border rounded-xl shadow max-h-72 overflow-auto",children:o.map((m,_)=>M.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 hover:bg-gray-100",onMouseDown:w=>w.preventDefault(),onClick:()=>{e(m),r(m.name),h(!1)},children:m.name},_))})]})}function Sx(t,e){const n=U.useRef(e);U.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const qV=1;function GV(t){return Object.freeze({__version:qV,map:t})}function Ix(t,e){return Object.freeze({...t,...e})}const xx=U.createContext(null),Px=xx.Provider;function $d(){const t=U.useContext(xx);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Cx(t){function e(n,i){const{instance:r,context:o}=t(n).current;return U.useImperativeHandle(i,()=>r),n.children==null?null:Ye.createElement(Px,{value:o},n.children)}return U.forwardRef(e)}function KV(t){function e(n,i){const[r,o]=U.useState(!1),{instance:a}=t(n,o).current;U.useImperativeHandle(i,()=>a),U.useEffect(function(){r&&a.update()},[a,r,n.children]);const u=a._contentNode;return u?sE.createPortal(n.children,u):null}return U.forwardRef(e)}function ZV(t){function e(n,i){const{instance:r}=t(n).current;return U.useImperativeHandle(i,()=>r),null}return U.forwardRef(e)}function A_(t,e){const n=U.useRef();U.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Hd(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function QV(t,e){return function(i,r){const o=$d(),a=t(Hd(i,o),o);return Sx(o.map,i.attribution),A_(a.current,i.eventHandlers),e(a.current,o,i,r),a}}var Em={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(aP,function(n){var i="1.9.4";function r(s){var l,d,p,v;for(d=1,p=arguments.length;d<p;d++){v=arguments[d];for(l in v)s[l]=v[l]}return s}var o=Object.create||function(){function s(){}return function(l){return s.prototype=l,new s}}();function a(s,l){var d=Array.prototype.slice;if(s.bind)return s.bind.apply(s,d.call(arguments,1));var p=d.call(arguments,2);return function(){return s.apply(l,p.length?p.concat(d.call(arguments)):arguments)}}var u=0;function h(s){return"_leaflet_id"in s||(s._leaflet_id=++u),s._leaflet_id}function f(s,l,d){var p,v,x,B;return B=function(){p=!1,v&&(x.apply(d,v),v=!1)},x=function(){p?v=arguments:(s.apply(d,arguments),setTimeout(B,l),p=!0)},x}function m(s,l,d){var p=l[1],v=l[0],x=p-v;return s===p&&d?s:((s-v)%x+x)%x+v}function _(){return!1}function w(s,l){if(l===!1)return s;var d=Math.pow(10,l===void 0?6:l);return Math.round(s*d)/d}function P(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function S(s){return P(s).split(/\s+/)}function k(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var d in l)s.options[d]=l[d];return s.options}function z(s,l,d){var p=[];for(var v in s)p.push(encodeURIComponent(d?v.toUpperCase():v)+"="+encodeURIComponent(s[v]));return(!l||l.indexOf("?")===-1?"?":"&")+p.join("&")}var I=/\{ *([\w_ -]+) *\}/g;function T(s,l){return s.replace(I,function(d,p){var v=l[p];if(v===void 0)throw new Error("No value provided for variable "+d);return typeof v=="function"&&(v=v(l)),v})}var E=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function V(s,l){for(var d=0;d<s.length;d++)if(s[d]===l)return d;return-1}var j="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function W(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var N=0;function C(s){var l=+new Date,d=Math.max(0,16-(l-N));return N=l+d,window.setTimeout(s,d)}var A=window.requestAnimationFrame||W("RequestAnimationFrame")||C,R=window.cancelAnimationFrame||W("CancelAnimationFrame")||W("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function O(s,l,d){if(d&&A===C)s.call(l);else return A.call(window,a(s,l))}function F(s){s&&R.call(window,s)}var D={__proto__:null,extend:r,create:o,bind:a,get lastId(){return u},stamp:h,throttle:f,wrapNum:m,falseFn:_,formatNum:w,trim:P,splitWords:S,setOptions:k,getParamString:z,template:T,isArray:E,indexOf:V,emptyImageUrl:j,requestFn:A,cancelFn:R,requestAnimFrame:O,cancelAnimFrame:F};function ce(){}ce.extend=function(s){var l=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=l.__super__=this.prototype,p=o(d);p.constructor=l,l.prototype=p;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(l[v]=this[v]);return s.statics&&r(l,s.statics),s.includes&&(Te(s.includes),r.apply(null,[p].concat(s.includes))),r(p,s),delete p.statics,delete p.includes,p.options&&(p.options=d.options?o(d.options):{},r(p.options,s.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var x=0,B=p._initHooks.length;x<B;x++)p._initHooks[x].call(this)}},l},ce.include=function(s){var l=this.prototype.options;return r(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},ce.mergeOptions=function(s){return r(this.prototype.options,s),this},ce.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),d=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Te(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=E(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var re={on:function(s,l,d){if(typeof s=="object")for(var p in s)this._on(p,s[p],l);else{s=S(s);for(var v=0,x=s.length;v<x;v++)this._on(s[v],l,d)}return this},off:function(s,l,d){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var p in s)this._off(p,s[p],l);else{s=S(s);for(var v=arguments.length===1,x=0,B=s.length;x<B;x++)v?this._off(s[x]):this._off(s[x],l,d)}return this},_on:function(s,l,d,p){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,d)===!1){d===this&&(d=void 0);var v={fn:l,ctx:d};p&&(v.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(v)}},_off:function(s,l,d){var p,v,x;if(this._events&&(p=this._events[s],!!p)){if(arguments.length===1){if(this._firingCount)for(v=0,x=p.length;v<x;v++)p[v].fn=_;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var B=this._listens(s,l,d);if(B!==!1){var H=p[B];this._firingCount&&(H.fn=_,this._events[s]=p=p.slice()),p.splice(B,1)}}},fire:function(s,l,d){if(!this.listens(s,d))return this;var p=r({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var v=this._events[s];if(v){this._firingCount=this._firingCount+1||1;for(var x=0,B=v.length;x<B;x++){var H=v[x],G=H.fn;H.once&&this.off(s,G,H.ctx),G.call(H.ctx||this,p)}this._firingCount--}}return d&&this._propagateEvent(p),this},listens:function(s,l,d,p){typeof s!="string"&&console.warn('"string" type argument expected');var v=l;typeof l!="function"&&(p=!!l,v=void 0,d=void 0);var x=this._events&&this._events[s];if(x&&x.length&&this._listens(s,v,d)!==!1)return!0;if(p){for(var B in this._eventParents)if(this._eventParents[B].listens(s,l,d,p))return!0}return!1},_listens:function(s,l,d){if(!this._events)return!1;var p=this._events[s]||[];if(!l)return!!p.length;d===this&&(d=void 0);for(var v=0,x=p.length;v<x;v++)if(p[v].fn===l&&p[v].ctx===d)return v;return!1},once:function(s,l,d){if(typeof s=="object")for(var p in s)this._on(p,s[p],l,!0);else{s=S(s);for(var v=0,x=s.length;v<x;v++)this._on(s[v],l,d,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[h(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[h(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,r({layer:s.target,propagatedFrom:s.target},s),!0)}};re.addEventListener=re.on,re.removeEventListener=re.clearAllEventListeners=re.off,re.addOneTimeEventListener=re.once,re.fireEvent=re.fire,re.hasEventListeners=re.listens;var Pe=ce.extend(re);function q(s,l,d){this.x=d?Math.round(s):s,this.y=d?Math.round(l):l}var ee=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};q.prototype={clone:function(){return new q(this.x,this.y)},add:function(s){return this.clone()._add(Z(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(Z(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new q(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new q(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(s){s=Z(s);var l=s.x-this.x,d=s.y-this.y;return Math.sqrt(l*l+d*d)},equals:function(s){return s=Z(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=Z(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function Z(s,l,d){return s instanceof q?s:E(s)?new q(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new q(s.x,s.y):new q(s,l,d)}function le(s,l){if(s)for(var d=l?[s,l]:s,p=0,v=d.length;p<v;p++)this.extend(d[p])}le.prototype={extend:function(s){var l,d;if(!s)return this;if(s instanceof q||typeof s[0]=="number"||"x"in s)l=d=Z(s);else if(s=pe(s),l=s.min,d=s.max,!l||!d)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=d.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(s){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,d;return typeof s[0]=="number"||s instanceof q?s=Z(s):s=pe(s),s instanceof le?(l=s.min,d=s.max):l=d=s,l.x>=this.min.x&&d.x<=this.max.x&&l.y>=this.min.y&&d.y<=this.max.y},intersects:function(s){s=pe(s);var l=this.min,d=this.max,p=s.min,v=s.max,x=v.x>=l.x&&p.x<=d.x,B=v.y>=l.y&&p.y<=d.y;return x&&B},overlaps:function(s){s=pe(s);var l=this.min,d=this.max,p=s.min,v=s.max,x=v.x>l.x&&p.x<d.x,B=v.y>l.y&&p.y<d.y;return x&&B},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,d=this.max,p=Math.abs(l.x-d.x)*s,v=Math.abs(l.y-d.y)*s;return pe(Z(l.x-p,l.y-v),Z(d.x+p,d.y+v))},equals:function(s){return s?(s=pe(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function pe(s,l){return!s||s instanceof le?s:new le(s,l)}function Ce(s,l){if(s)for(var d=l?[s,l]:s,p=0,v=d.length;p<v;p++)this.extend(d[p])}Ce.prototype={extend:function(s){var l=this._southWest,d=this._northEast,p,v;if(s instanceof Ee)p=s,v=s;else if(s instanceof Ce){if(p=s._southWest,v=s._northEast,!p||!v)return this}else return s?this.extend(_e(s)||Oe(s)):this;return!l&&!d?(this._southWest=new Ee(p.lat,p.lng),this._northEast=new Ee(v.lat,v.lng)):(l.lat=Math.min(p.lat,l.lat),l.lng=Math.min(p.lng,l.lng),d.lat=Math.max(v.lat,d.lat),d.lng=Math.max(v.lng,d.lng)),this},pad:function(s){var l=this._southWest,d=this._northEast,p=Math.abs(l.lat-d.lat)*s,v=Math.abs(l.lng-d.lng)*s;return new Ce(new Ee(l.lat-p,l.lng-v),new Ee(d.lat+p,d.lng+v))},getCenter:function(){return new Ee((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ee(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ee(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof Ee||"lat"in s?s=_e(s):s=Oe(s);var l=this._southWest,d=this._northEast,p,v;return s instanceof Ce?(p=s.getSouthWest(),v=s.getNorthEast()):p=v=s,p.lat>=l.lat&&v.lat<=d.lat&&p.lng>=l.lng&&v.lng<=d.lng},intersects:function(s){s=Oe(s);var l=this._southWest,d=this._northEast,p=s.getSouthWest(),v=s.getNorthEast(),x=v.lat>=l.lat&&p.lat<=d.lat,B=v.lng>=l.lng&&p.lng<=d.lng;return x&&B},overlaps:function(s){s=Oe(s);var l=this._southWest,d=this._northEast,p=s.getSouthWest(),v=s.getNorthEast(),x=v.lat>l.lat&&p.lat<d.lat,B=v.lng>l.lng&&p.lng<d.lng;return x&&B},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=Oe(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Oe(s,l){return s instanceof Ce?s:new Ce(s,l)}function Ee(s,l,d){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,d!==void 0&&(this.alt=+d)}Ee.prototype={equals:function(s,l){if(!s)return!1;s=_e(s);var d=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return d<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+w(this.lat,s)+", "+w(this.lng,s)+")"},distanceTo:function(s){return Yn.distance(this,_e(s))},wrap:function(){return Yn.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,d=l/Math.cos(Math.PI/180*this.lat);return Oe([this.lat-l,this.lng-d],[this.lat+l,this.lng+d])},clone:function(){return new Ee(this.lat,this.lng,this.alt)}};function _e(s,l,d){return s instanceof Ee?s:E(s)&&typeof s[0]!="object"?s.length===3?new Ee(s[0],s[1],s[2]):s.length===2?new Ee(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new Ee(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new Ee(s,l,d)}var mt={latLngToPoint:function(s,l){var d=this.projection.project(s),p=this.scale(l);return this.transformation._transform(d,p)},pointToLatLng:function(s,l){var d=this.scale(l),p=this.transformation.untransform(s,d);return this.projection.unproject(p)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,d=this.scale(s),p=this.transformation.transform(l.min,d),v=this.transformation.transform(l.max,d);return new le(p,v)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?m(s.lng,this.wrapLng,!0):s.lng,d=this.wrapLat?m(s.lat,this.wrapLat,!0):s.lat,p=s.alt;return new Ee(d,l,p)},wrapLatLngBounds:function(s){var l=s.getCenter(),d=this.wrapLatLng(l),p=l.lat-d.lat,v=l.lng-d.lng;if(p===0&&v===0)return s;var x=s.getSouthWest(),B=s.getNorthEast(),H=new Ee(x.lat-p,x.lng-v),G=new Ee(B.lat-p,B.lng-v);return new Ce(H,G)}},Yn=r({},mt,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var d=Math.PI/180,p=s.lat*d,v=l.lat*d,x=Math.sin((l.lat-s.lat)*d/2),B=Math.sin((l.lng-s.lng)*d/2),H=x*x+Math.cos(p)*Math.cos(v)*B*B,G=2*Math.atan2(Math.sqrt(H),Math.sqrt(1-H));return this.R*G}}),Mu=6378137,Qi={R:Mu,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,d=this.MAX_LATITUDE,p=Math.max(Math.min(d,s.lat),-d),v=Math.sin(p*l);return new q(this.R*s.lng*l,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(s){var l=180/Math.PI;return new Ee((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:function(){var s=Mu*Math.PI;return new le([-s,-s],[s,s])}()};function Yi(s,l,d,p){if(E(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=d,this._d=p}Yi.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new q((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function _i(s,l,d,p){return new Yi(s,l,d,p)}var Kr=r({},Yn,{code:"EPSG:3857",projection:Qi,transformation:function(){var s=.5/(Math.PI*Qi.R);return _i(s,.5,-s,.5)}()}),wa=r({},Kr,{code:"EPSG:900913"});function Us(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Ta(s,l){var d="",p,v,x,B,H,G;for(p=0,x=s.length;p<x;p++){for(H=s[p],v=0,B=H.length;v<B;v++)G=H[v],d+=(v?"L":"M")+G.x+" "+G.y;d+=l?ae.svg?"z":"x":""}return d||"M0 0"}var Ea=document.documentElement.style,$s="ActiveXObject"in window,Ou=$s&&!document.addEventListener,Hs="msLaunchUri"in navigator&&!("documentMode"in document),Ws=yn("webkit"),Du=yn("android"),qs=yn("android 2")||yn("android 3"),Sa=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Vu=Du&&yn("Google")&&Sa<537&&!("AudioNode"in window),ut=!!window.opera,yt=!Hs&&yn("chrome"),Zr=yn("gecko")&&!Ws&&!ut&&!$s,zu=!yt&&yn("safari"),Ia=yn("phantom"),Fu="OTransition"in Ea,Qr=navigator.platform.indexOf("Win")===0,xa=$s&&"transition"in Ea,Gs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!qs,Ks="MozPerspective"in Ea,Gd=!window.L_DISABLE_3D&&(xa||Gs||Ks)&&!Fu&&!Ia,Yr=typeof orientation<"u"||yn("mobile"),Pa=Yr&&Ws,Bu=Yr&&Gs,Ca=!window.PointerEvent&&window.MSPointerEvent,Xi=!!(window.PointerEvent||Ca),Zs="ontouchstart"in window||!!window.TouchEvent,Aa=!window.L_NO_TOUCH&&(Zs||Xi),vi=Yr&&ut,ju=Yr&&Zr,Qs=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Uu=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",_,l),window.removeEventListener("testPassiveEventSupport",_,l)}catch{}return s}(),Xr=function(){return!!document.createElement("canvas").getContext}(),Ys=!!(document.createElementNS&&Us("svg").createSVGRect),Pt=!!Ys&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),$u=!Ys&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),Jr=navigator.platform.indexOf("Mac")===0,es=navigator.platform.indexOf("Linux")===0;function yn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var ae={ie:$s,ielt9:Ou,edge:Hs,webkit:Ws,android:Du,android23:qs,androidStock:Vu,opera:ut,chrome:yt,gecko:Zr,safari:zu,phantom:Ia,opera12:Fu,win:Qr,ie3d:xa,webkit3d:Gs,gecko3d:Ks,any3d:Gd,mobile:Yr,mobileWebkit:Pa,mobileWebkit3d:Bu,msPointer:Ca,pointer:Xi,touch:Aa,touchNative:Zs,mobileOpera:vi,mobileGecko:ju,retina:Qs,passiveEvents:Uu,canvas:Xr,svg:Ys,vml:$u,inlineSvg:Pt,mac:Jr,linux:es},yi=ae.msPointer?"MSPointerDown":"pointerdown",Hu=ae.msPointer?"MSPointerMove":"pointermove",Wu=ae.msPointer?"MSPointerUp":"pointerup",ts=ae.msPointer?"MSPointerCancel":"pointercancel",Xs={touchstart:yi,touchmove:Hu,touchend:Wu,touchcancel:ts},Js={touchstart:to,touchmove:eo,touchend:eo,touchcancel:eo},Mn={},On=!1;function qu(s,l,d){return l==="touchstart"&&Ku(),Js[l]?(d=Js[l].bind(this,d),s.addEventListener(Xs[l],d,!1),d):(console.warn("wrong event specified:",l),_)}function Gu(s,l,d){if(!Xs[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(Xs[l],d,!1)}function ba(s){Mn[s.pointerId]=s}function ka(s){Mn[s.pointerId]&&(Mn[s.pointerId]=s)}function Ra(s){delete Mn[s.pointerId]}function Ku(){On||(document.addEventListener(yi,ba,!0),document.addEventListener(Hu,ka,!0),document.addEventListener(Wu,Ra,!0),document.addEventListener(ts,Ra,!0),On=!0)}function eo(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var d in Mn)l.touches.push(Mn[d]);l.changedTouches=[l],s(l)}}function to(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Ze(l),eo(s,l)}function Zu(s){var l={},d,p;for(p in s)d=s[p],l[p]=d&&d.bind?d.bind(s):d;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var La=200;function ns(s,l){s.addEventListener("dblclick",l);var d=0,p;function v(x){if(x.detail!==1){p=x.detail;return}if(!(x.pointerType==="mouse"||x.sourceCapabilities&&!x.sourceCapabilities.firesTouchEvents)){var B=Ha(x);if(!(B.some(function(G){return G instanceof HTMLLabelElement&&G.attributes.for})&&!B.some(function(G){return G instanceof HTMLInputElement||G instanceof HTMLSelectElement}))){var H=Date.now();H-d<=La?(p++,p===2&&l(Zu(x))):p=1,d=H}}}return s.addEventListener("click",v),{dblclick:l,simDblclick:v}}function wi(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var is=Ei(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rs=Ei(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Na=rs==="webkitTransition"||rs==="OTransition"?rs+"End":"transitionend";function Ma(s){return typeof s=="string"?document.getElementById(s):s}function Ji(s,l){var d=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!d||d==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(s,null);d=p?p[l]:null}return d==="auto"?null:d}function Ae(s,l,d){var p=document.createElement(s);return p.className=l||"",d&&d.appendChild(p),p}function je(s){var l=s.parentNode;l&&l.removeChild(s)}function ss(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Ti(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function er(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function Oa(s,l){if(s.classList!==void 0)return s.classList.contains(l);var d=wn(s);return d.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(d)}function we(s,l){if(s.classList!==void 0)for(var d=S(l),p=0,v=d.length;p<v;p++)s.classList.add(d[p]);else if(!Oa(s,l)){var x=wn(s);Da(s,(x?x+" ":"")+l)}}function qe(s,l){s.classList!==void 0?s.classList.remove(l):Da(s,P((" "+wn(s)+" ").replace(" "+l+" "," ")))}function Da(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function wn(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function nt(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&no(s,l)}function no(s,l){var d=!1,p="DXImageTransform.Microsoft.Alpha";try{d=s.filters.item(p)}catch{if(l===1)return}l=Math.round(l*100),d?(d.Enabled=l!==100,d.Opacity=l):s.style.filter+=" progid:"+p+"(opacity="+l+")"}function Ei(s){for(var l=document.documentElement.style,d=0;d<s.length;d++)if(s[d]in l)return s[d];return!1}function Xn(s,l,d){var p=l||new q(0,0);s.style[is]=(ae.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(d?" scale("+d+")":"")}function me(s,l){s._leaflet_pos=l,ae.any3d?Xn(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function Tn(s){return s._leaflet_pos||new q(0,0)}var Dn,Vn,Va;if("onselectstart"in document)Dn=function(){he(window,"selectstart",Ze)},Vn=function(){Fe(window,"selectstart",Ze)};else{var tr=Ei(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Dn=function(){if(tr){var s=document.documentElement.style;Va=s[tr],s[tr]="none"}},Vn=function(){tr&&(document.documentElement.style[tr]=Va,Va=void 0)}}function za(){he(window,"dragstart",Ze)}function Fa(){Fe(window,"dragstart",Ze)}var io,Ba;function Si(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(an(),io=s,Ba=s.style.outlineStyle,s.style.outlineStyle="none",he(window,"keydown",an))}function an(){io&&(io.style.outlineStyle=Ba,io=void 0,Ba=void 0,Fe(window,"keydown",an))}function ja(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function ro(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var Qu={__proto__:null,TRANSFORM:is,TRANSITION:rs,TRANSITION_END:Na,get:Ma,getStyle:Ji,create:Ae,remove:je,empty:ss,toFront:Ti,toBack:er,hasClass:Oa,addClass:we,removeClass:qe,setClass:Da,getClass:wn,setOpacity:nt,testProp:Ei,setTransform:Xn,setPosition:me,getPosition:Tn,get disableTextSelection(){return Dn},get enableTextSelection(){return Vn},disableImageDrag:za,enableImageDrag:Fa,preventOutline:Si,restoreOutline:an,getSizedParentNode:ja,getScale:ro};function he(s,l,d,p){if(l&&typeof l=="object")for(var v in l)Ua(s,v,l[v],d);else{l=S(l);for(var x=0,B=l.length;x<B;x++)Ua(s,l[x],d,p)}return this}var En="_leaflet_events";function Fe(s,l,d,p){if(arguments.length===1)Yu(s),delete s[En];else if(l&&typeof l=="object")for(var v in l)$a(s,v,l[v],d);else if(l=S(l),arguments.length===2)Yu(s,function(H){return V(l,H)!==-1});else for(var x=0,B=l.length;x<B;x++)$a(s,l[x],d,p);return this}function Yu(s,l){for(var d in s[En]){var p=d.split(/\d/)[0];(!l||l(p))&&$a(s,p,null,null,d)}}var Sn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ua(s,l,d,p){var v=l+h(d)+(p?"_"+h(p):"");if(s[En]&&s[En][v])return this;var x=function(H){return d.call(p||s,H||window.event)},B=x;!ae.touchNative&&ae.pointer&&l.indexOf("touch")===0?x=qu(s,l,x):ae.touch&&l==="dblclick"?x=ns(s,x):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(Sn[l]||l,x,ae.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(x=function(H){H=H||window.event,Wa(s,H)&&B(H)},s.addEventListener(Sn[l],x,!1)):s.addEventListener(l,B,!1):s.attachEvent("on"+l,x),s[En]=s[En]||{},s[En][v]=x}function $a(s,l,d,p,v){v=v||l+h(d)+(p?"_"+h(p):"");var x=s[En]&&s[En][v];if(!x)return this;!ae.touchNative&&ae.pointer&&l.indexOf("touch")===0?Gu(s,l,x):ae.touch&&l==="dblclick"?wi(s,x):"removeEventListener"in s?s.removeEventListener(Sn[l]||l,x,!1):s.detachEvent("on"+l,x),s[En][v]=null}function In(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function nr(s){return Ua(s,"wheel",In),this}function ir(s){return he(s,"mousedown touchstart dblclick contextmenu",In),s._leaflet_disable_click=!0,this}function Ze(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function ln(s){return Ze(s),In(s),this}function Ha(s){if(s.composedPath)return s.composedPath();for(var l=[],d=s.target;d;)l.push(d),d=d.parentNode;return l}function so(s,l){if(!l)return new q(s.clientX,s.clientY);var d=ro(l),p=d.boundingClientRect;return new q((s.clientX-p.left)/d.x-l.clientLeft,(s.clientY-p.top)/d.y-l.clientTop)}var Ge=ae.linux&&ae.chrome?window.devicePixelRatio:ae.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Xu(s){return ae.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Ge:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Wa(s,l){var d=l.relatedTarget;if(!d)return!0;try{for(;d&&d!==s;)d=d.parentNode}catch{return!1}return d!==s}var Ju={__proto__:null,on:he,off:Fe,stopPropagation:In,disableScrollPropagation:nr,disableClickPropagation:ir,preventDefault:Ze,stop:ln,getPropagationPath:Ha,getMousePosition:so,getWheelDelta:Xu,isExternalTarget:Wa,addListener:he,removeListener:Fe},qa=Pe.extend({run:function(s,l,d,p){this.stop(),this._el=s,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=Tn(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=O(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,d=this._duration*1e3;l<d?this._runFrame(this._easeOut(l/d),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var d=this._startPos.add(this._offset.multiplyBy(s));l&&d._round(),me(this._el,d),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Ie=Pe.extend({options:{crs:Kr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=k(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(_e(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=rs&&ae.any3d&&!ae.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),he(this._proxy,Na,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,d){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(_e(s),l,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=r({animate:d.animate},d.zoom),d.pan=r({animate:d.animate,duration:d.duration},d.pan));var p=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,d.zoom):this._tryAnimatedPan(s,d.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,d.pan&&d.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,d){var p=this.getZoomScale(l),v=this.getSize().divideBy(2),x=s instanceof q?s:this.latLngToContainerPoint(s),B=x.subtract(v).multiplyBy(1-1/p),H=this.containerPointToLatLng(v.add(B));return this.setView(H,l,{zoom:d})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():Oe(s);var d=Z(l.paddingTopLeft||l.padding||[0,0]),p=Z(l.paddingBottomRight||l.padding||[0,0]),v=this.getBoundsZoom(s,!1,d.add(p));if(v=typeof l.maxZoom=="number"?Math.min(l.maxZoom,v):v,v===1/0)return{center:s.getCenter(),zoom:v};var x=p.subtract(d).divideBy(2),B=this.project(s.getSouthWest(),v),H=this.project(s.getNorthEast(),v),G=this.unproject(B.add(H).divideBy(2).add(x),v);return{center:G,zoom:v}},fitBounds:function(s,l){if(s=Oe(s),!s.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(s,l);return this.setView(d.center,d.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=Z(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){we(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,d,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,d){if(d=d||{},d.animate===!1||!ae.any3d)return this.setView(s,l,d);this._stop();var p=this.project(this.getCenter()),v=this.project(s),x=this.getSize(),B=this._zoom;s=_e(s),l=l===void 0?B:l;var H=Math.max(x.x,x.y),G=H*this.getZoomScale(B,l),Y=v.distanceTo(p)||1,ne=1.42,de=ne*ne;function Se(ht){var mc=ht?-1:1,nP=ht?G:H,iP=G*G-H*H+mc*de*de*Y*Y,rP=2*nP*de*Y,ef=iP/rP,Q_=Math.sqrt(ef*ef+1)-ef,sP=Q_<1e-9?-18:Math.log(Q_);return sP}function $t(ht){return(Math.exp(ht)-Math.exp(-ht))/2}function Tt(ht){return(Math.exp(ht)+Math.exp(-ht))/2}function Pn(ht){return $t(ht)/Tt(ht)}var Yt=Se(0);function yo(ht){return H*(Tt(Yt)/Tt(Yt+ne*ht))}function Xx(ht){return H*(Tt(Yt)*Pn(Yt+ne*ht)-$t(Yt))/de}function Jx(ht){return 1-Math.pow(1-ht,1.5)}var eP=Date.now(),K_=(Se(1)-Yt)/ne,tP=d.duration?1e3*d.duration:1e3*K_*.8;function Z_(){var ht=(Date.now()-eP)/tP,mc=Jx(ht)*K_;ht<=1?(this._flyToFrame=O(Z_,this),this._move(this.unproject(p.add(v.subtract(p).multiplyBy(Xx(mc)/Y)),B),this.getScaleZoom(H/yo(mc),B),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Z_.call(this),this},flyToBounds:function(s,l){var d=this._getBoundsCenterZoom(s,l);return this.flyTo(d.center,d.zoom,l)},setMaxBounds:function(s){return s=Oe(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var d=this.getCenter(),p=this._limitCenter(d,this._zoom,Oe(s));return d.equals(p)||this.panTo(p,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var d=Z(l.paddingTopLeft||l.padding||[0,0]),p=Z(l.paddingBottomRight||l.padding||[0,0]),v=this.project(this.getCenter()),x=this.project(s),B=this.getPixelBounds(),H=pe([B.min.add(d),B.max.subtract(p)]),G=H.getSize();if(!H.contains(x)){this._enforcingBounds=!0;var Y=x.subtract(H.getCenter()),ne=H.extend(x).getSize().subtract(G);v.x+=Y.x<0?-ne.x:ne.x,v.y+=Y.y<0?-ne.y:ne.y,this.panTo(this.unproject(v),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=r({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),p=l.divideBy(2).round(),v=d.divideBy(2).round(),x=p.subtract(v);return!x.x&&!x.y?this:(s.animate&&s.pan?this.panBy(x):(s.pan&&this._rawPanBy(x),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=r({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),d=a(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,d,s):navigator.geolocation.getCurrentPosition(l,d,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,d=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,d=s.coords.longitude,p=new Ee(l,d),v=p.toBounds(s.coords.accuracy*2),x=this._locateOptions;if(x.setView){var B=this.getBoundsZoom(v);this.setView(p,x.maxZoom?Math.min(B,x.maxZoom):B)}var H={latlng:p,bounds:v,timestamp:s.timestamp};for(var G in s.coords)typeof s.coords[G]=="number"&&(H[G]=s.coords[G]);this.fire("locationfound",H)}},addHandler:function(s,l){if(!l)return this;var d=this[s]=new l(this);return this._handlers.push(d),this.options[s]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),je(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)je(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var d="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),p=Ae("div",d,l||this._mapPane);return s&&(this._panes[s]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),d=this.unproject(s.getTopRight());return new Ce(l,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,d){s=Oe(s),d=Z(d||[0,0]);var p=this.getZoom()||0,v=this.getMinZoom(),x=this.getMaxZoom(),B=s.getNorthWest(),H=s.getSouthEast(),G=this.getSize().subtract(d),Y=pe(this.project(H,p),this.project(B,p)).getSize(),ne=ae.any3d?this.options.zoomSnap:1,de=G.x/Y.x,Se=G.y/Y.y,$t=l?Math.max(de,Se):Math.min(de,Se);return p=this.getScaleZoom($t,p),ne&&(p=Math.round(p/(ne/100))*(ne/100),p=l?Math.ceil(p/ne)*ne:Math.floor(p/ne)*ne),Math.max(v,Math.min(x,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var d=this._getTopLeftPoint(s,l);return new le(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var d=this.options.crs;return l=l===void 0?this._zoom:l,d.scale(s)/d.scale(l)},getScaleZoom:function(s,l){var d=this.options.crs;l=l===void 0?this._zoom:l;var p=d.zoom(s*d.scale(l));return isNaN(p)?1/0:p},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(_e(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(Z(s),l)},layerPointToLatLng:function(s){var l=Z(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(_e(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(_e(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Oe(s))},distance:function(s,l){return this.options.crs.distance(_e(s),_e(l))},containerPointToLayerPoint:function(s){return Z(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return Z(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(Z(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(_e(s)))},mouseEventToContainerPoint:function(s){return so(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=Ma(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");he(l,"scroll",this._onScroll,this),this._containerId=h(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&ae.any3d,we(s,"leaflet-container"+(ae.touch?" leaflet-touch":"")+(ae.retina?" leaflet-retina":"")+(ae.ielt9?" leaflet-oldie":"")+(ae.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Ji(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),me(this._mapPane,new q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(we(s.markerPane,"leaflet-zoom-hide"),we(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,d){me(this._mapPane,new q(0,0));var p=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var v=this._zoom!==l;this._moveStart(v,d)._move(s,l)._moveEnd(v),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,d,p){l===void 0&&(l=this._zoom);var v=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),p?d&&d.pinch&&this.fire("zoom",d):((v||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){me(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[h(this._container)]=this;var l=s?Fe:he;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),ae.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=O(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var d=[],p,v=l==="mouseout"||l==="mouseover",x=s.target||s.srcElement,B=!1;x;){if(p=this._targets[h(x)],p&&(l==="click"||l==="preclick")&&this._draggableMoved(p)){B=!0;break}if(p&&p.listens(l,!0)&&(v&&!Wa(x,s)||(d.push(p),v))||x===this._container)break;x=x.parentNode}return!d.length&&!B&&!v&&this.listens(l,!0)&&(d=[this]),d},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var d=s.type;d==="mousedown"&&Si(l),this._fireDOMEvent(s,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,d){if(s.type==="click"){var p=r({},s);p.type="preclick",this._fireDOMEvent(p,p.type,d)}var v=this._findEventTargets(s,l);if(d){for(var x=[],B=0;B<d.length;B++)d[B].listens(l,!0)&&x.push(d[B]);v=x.concat(v)}if(v.length){l==="contextmenu"&&Ze(s);var H=v[0],G={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var Y=H.getLatLng&&(!H._radius||H._radius<=10);G.containerPoint=Y?this.latLngToContainerPoint(H.getLatLng()):this.mouseEventToContainerPoint(s),G.layerPoint=this.containerPointToLayerPoint(G.containerPoint),G.latlng=Y?H.getLatLng():this.layerPointToLatLng(G.layerPoint)}for(B=0;B<v.length;B++)if(v[B].fire(l,G,!0),G.originalEvent._stopped||v[B].options.bubblingMouseEvents===!1&&V(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return Tn(this._mapPane)||new q(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var d=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var d=this.getSize()._divideBy(2);return this.project(s,l)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,d){var p=this._getNewPixelOrigin(d,l);return this.project(s,l)._subtract(p)},_latLngBoundsToNewLayerBounds:function(s,l,d){var p=this._getNewPixelOrigin(d,l);return pe([this.project(s.getSouthWest(),l)._subtract(p),this.project(s.getNorthWest(),l)._subtract(p),this.project(s.getSouthEast(),l)._subtract(p),this.project(s.getNorthEast(),l)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,d){if(!d)return s;var p=this.project(s,l),v=this.getSize().divideBy(2),x=new le(p.subtract(v),p.add(v)),B=this._getBoundsOffset(x,d,l);return Math.abs(B.x)<=1&&Math.abs(B.y)<=1?s:this.unproject(p.add(B),l)},_limitOffset:function(s,l){if(!l)return s;var d=this.getPixelBounds(),p=new le(d.min.add(s),d.max.add(s));return s.add(this._getBoundsOffset(p,l))},_getBoundsOffset:function(s,l,d){var p=pe(this.project(l.getNorthEast(),d),this.project(l.getSouthWest(),d)),v=p.min.subtract(s.min),x=p.max.subtract(s.max),B=this._rebound(v.x,-x.x),H=this._rebound(v.y,-x.y);return new q(B,H)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),d=this.getMaxZoom(),p=ae.any3d?this.options.zoomSnap:1;return p&&(s=Math.round(s/p)*p),Math.max(l,Math.min(d,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){qe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var d=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,l),!0)},_createAnimProxy:function(){var s=this._proxy=Ae("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var d=is,p=this._proxy.style[d];Xn(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),p===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){je(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();Xn(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(l),v=this._getCenterOffset(s)._divideBy(1-1/p);return d.animate!==!0&&!this.getSize().contains(v)?!1:(O(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,d,p){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,we(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&qe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function oo(s,l){return new Ie(s,l)}var Qt=ce.extend({options:{position:"topright"},initialize:function(s){k(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),d=this.getPosition(),p=s._controlCorners[d];return we(l,"leaflet-control"),d.indexOf("bottom")!==-1?p.insertBefore(l,p.firstChild):p.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(je(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Ut=function(s){return new Qt(s)};Ie.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",d=this._controlContainer=Ae("div",l+"control-container",this._container);function p(v,x){var B=l+v+" "+l+x;s[v+x]=Ae("div",B,d)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)je(this._controlCorners[s]);je(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ga=Qt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,d,p){return d<p?-1:p<d?1:0}},initialize:function(s,l,d){k(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in s)this._addLayer(s[p],p);for(p in l)this._addLayer(l[p],p,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Qt.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(h(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){we(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(we(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):qe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return qe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=Ae("div",s),d=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ir(l),nr(l);var p=this._section=Ae("section",s+"-list");d&&(this._map.on("click",this.collapse,this),he(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=Ae("a",s+"-toggle",l);v.href="#",v.title="Layers",v.setAttribute("role","button"),he(v,{keydown:function(x){x.keyCode===13&&this._expandSafely()},click:function(x){Ze(x),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Ae("div",s+"-base",p),this._separator=Ae("div",s+"-separator",p),this._overlaysList=Ae("div",s+"-overlays",p),l.appendChild(p)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&h(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,d){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:d}),this.options.sortLayers&&this._layers.sort(a(function(p,v){return this.options.sortFunction(p.layer,v.layer,p.name,v.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ss(this._baseLayersList),ss(this._overlaysList),this._layerControlInputs=[];var s,l,d,p,v=0;for(d=0;d<this._layers.length;d++)p=this._layers[d],this._addItem(p),l=l||p.overlay,s=s||!p.overlay,v+=p.overlay?0:1;return this.options.hideSingleBase&&(s=s&&v>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(h(s.target)),d=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;d&&this._map.fire(d,l)},_createRadioElement:function(s,l){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=d,p.firstChild},_addItem:function(s){var l=document.createElement("label"),d=this._map.hasLayer(s.layer),p;s.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=d):p=this._createRadioElement("leaflet-base-layers_"+h(this),d),this._layerControlInputs.push(p),p.layerId=h(s.layer),he(p,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+s.name;var x=document.createElement("span");l.appendChild(x),x.appendChild(p),x.appendChild(v);var B=s.overlay?this._overlaysList:this._baseLayersList;return B.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,d,p=[],v=[];this._handlingClick=!0;for(var x=s.length-1;x>=0;x--)l=s[x],d=this._getLayer(l.layerId).layer,l.checked?p.push(d):l.checked||v.push(d);for(x=0;x<v.length;x++)this._map.hasLayer(v[x])&&this._map.removeLayer(v[x]);for(x=0;x<p.length;x++)this._map.hasLayer(p[x])||this._map.addLayer(p[x]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,d,p=this._map.getZoom(),v=s.length-1;v>=0;v--)l=s[v],d=this._getLayer(l.layerId).layer,l.disabled=d.options.minZoom!==void 0&&p<d.options.minZoom||d.options.maxZoom!==void 0&&p>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,he(s,"click",Ze),this.expand();var l=this;setTimeout(function(){Fe(s,"click",Ze),l._preventClick=!1})}}),Kd=function(s,l,d){return new Ga(s,l,d)},Ii=Qt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",d=Ae("div",l+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,l+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,l+"-out",d,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,d,p,v){var x=Ae("a",d,p);return x.innerHTML=s,x.href="#",x.title=l,x.setAttribute("role","button"),x.setAttribute("aria-label",l),ir(x),he(x,"click",ln),he(x,"click",v,this),he(x,"click",this._refocusOnMap,this),x},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";qe(this._zoomInButton,l),qe(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(we(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(we(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ie.mergeOptions({zoomControl:!0}),Ie.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ii,this.addControl(this.zoomControl))});var ec=function(s){return new Ii(s)},ao=Qt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",d=Ae("div",l),p=this.options;return this._addScales(p,l+"-line",d),s.on(p.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),d},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,d){s.metric&&(this._mScale=Ae("div",l,d)),s.imperial&&(this._iScale=Ae("div",l,d))},_update:function(){var s=this._map,l=s.getSize().y/2,d=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(d)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),d=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,d,l/s)},_updateImperial:function(s){var l=s*3.2808399,d,p,v;l>5280?(d=l/5280,p=this._getRoundNum(d),this._updateScale(this._iScale,p+" mi",p/d)):(v=this._getRoundNum(l),this._updateScale(this._iScale,v+" ft",v/l))},_updateScale:function(s,l,d){s.style.width=Math.round(this.options.maxWidth*d)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),d=s/l;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,l*d}}),lo=function(s){return new ao(s)},tc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',rr=Qt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ae.inlineSvg?tc+" ":"")+"Leaflet</a>"},initialize:function(s){k(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Ae("div","leaflet-control-attribution"),ir(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var d=[];this.options.prefix&&d.push(this.options.prefix),s.length&&d.push(s.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Ie.mergeOptions({attributionControl:!0}),Ie.addInitHook(function(){this.options.attributionControl&&new rr().addTo(this)});var Zd=function(s){return new rr(s)};Qt.Layers=Ga,Qt.Zoom=Ii,Qt.Scale=ao,Qt.Attribution=rr,Ut.layers=Kd,Ut.zoom=ec,Ut.scale=lo,Ut.attribution=Zd;var un=ce.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});un.addTo=function(s,l){return s.addHandler(l,this),this};var os={Events:re},Ka=ae.touch?"touchstart mousedown":"mousedown",zn=Pe.extend({options:{clickTolerance:3},initialize:function(s,l,d,p){k(this,p),this._element=s,this._dragStartTarget=l||s,this._preventOutline=d},enable:function(){this._enabled||(he(this._dragStartTarget,Ka,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(zn._dragging===this&&this.finishDrag(!0),Fe(this._dragStartTarget,Ka,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Oa(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){zn._dragging===this&&this.finishDrag();return}if(!(zn._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(zn._dragging=this,this._preventOutline&&Si(this._element),za(),Dn(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,d=ja(this._element);this._startPoint=new q(l.clientX,l.clientY),this._startPos=Tn(this._element),this._parentScale=ro(d);var p=s.type==="mousedown";he(document,p?"mousemove":"touchmove",this._onMove,this),he(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,d=new q(l.clientX,l.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,Ze(s),this._moved||(this.fire("dragstart"),this._moved=!0,we(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),we(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),me(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){qe(document.body,"leaflet-dragging"),this._lastTarget&&(qe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Fe(document,"mousemove touchmove",this._onMove,this),Fe(document,"mouseup touchend touchcancel",this._onUp,this),Fa(),Vn();var l=this._moved&&this._moving;this._moving=!1,zn._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function uo(s,l,d){var p,v=[1,4,2,8],x,B,H,G,Y,ne,de,Se;for(x=0,ne=s.length;x<ne;x++)s[x]._code=Jn(s[x],l);for(H=0;H<4;H++){for(de=v[H],p=[],x=0,ne=s.length,B=ne-1;x<ne;B=x++)G=s[x],Y=s[B],G._code&de?Y._code&de||(Se=wt(Y,G,de,l,d),Se._code=Jn(Se,l),p.push(Se)):(Y._code&de&&(Se=wt(Y,G,de,l,d),Se._code=Jn(Se,l),p.push(Se)),p.push(G));s=p}return s}function co(s,l){var d,p,v,x,B,H,G,Y,ne;if(!s||s.length===0)throw new Error("latlngs not passed");c(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var de=_e([0,0]),Se=Oe(s),$t=Se.getNorthWest().distanceTo(Se.getSouthWest())*Se.getNorthEast().distanceTo(Se.getNorthWest());$t<1700&&(de=ho(s));var Tt=s.length,Pn=[];for(d=0;d<Tt;d++){var Yt=_e(s[d]);Pn.push(l.project(_e([Yt.lat-de.lat,Yt.lng-de.lng])))}for(H=G=Y=0,d=0,p=Tt-1;d<Tt;p=d++)v=Pn[d],x=Pn[p],B=v.y*x.x-x.y*v.x,G+=(v.x+x.x)*B,Y+=(v.y+x.y)*B,H+=B*3;H===0?ne=Pn[0]:ne=[G/H,Y/H];var yo=l.unproject(Z(ne));return _e([yo.lat+de.lat,yo.lng+de.lng])}function ho(s){for(var l=0,d=0,p=0,v=0;v<s.length;v++){var x=_e(s[v]);l+=x.lat,d+=x.lng,p++}return _e([l/p,d/p])}var fo={__proto__:null,clipPolygon:uo,polygonCenter:co,centroid:ho};function Za(s,l){if(!l||!s.length)return s.slice();var d=l*l;return s=ic(s,d),s=nc(s,d),s}function Qa(s,l,d){return Math.sqrt(xn(s,l,d,!0))}function xi(s,l,d){return xn(s,l,d)}function nc(s,l){var d=s.length,p=typeof Uint8Array<"u"?Uint8Array:Array,v=new p(d);v[0]=v[d-1]=1,po(s,v,l,0,d-1);var x,B=[];for(x=0;x<d;x++)v[x]&&B.push(s[x]);return B}function po(s,l,d,p,v){var x=0,B,H,G;for(H=p+1;H<=v-1;H++)G=xn(s[H],s[p],s[v],!0),G>x&&(B=H,x=G);x>d&&(l[B]=1,po(s,l,d,p,B),po(s,l,d,B,v))}function ic(s,l){for(var d=[s[0]],p=1,v=0,x=s.length;p<x;p++)rc(s[p],s[v])>l&&(d.push(s[p]),v=p);return v<x-1&&d.push(s[x-1]),d}var Ya;function as(s,l,d,p,v){var x=p?Ya:Jn(s,d),B=Jn(l,d),H,G,Y;for(Ya=B;;){if(!(x|B))return[s,l];if(x&B)return!1;H=x||B,G=wt(s,l,H,d,v),Y=Jn(G,d),H===x?(s=G,x=Y):(l=G,B=Y)}}function wt(s,l,d,p,v){var x=l.x-s.x,B=l.y-s.y,H=p.min,G=p.max,Y,ne;return d&8?(Y=s.x+x*(G.y-s.y)/B,ne=G.y):d&4?(Y=s.x+x*(H.y-s.y)/B,ne=H.y):d&2?(Y=G.x,ne=s.y+B*(G.x-s.x)/x):d&1&&(Y=H.x,ne=s.y+B*(H.x-s.x)/x),new q(Y,ne,v)}function Jn(s,l){var d=0;return s.x<l.min.x?d|=1:s.x>l.max.x&&(d|=2),s.y<l.min.y?d|=4:s.y>l.max.y&&(d|=8),d}function rc(s,l){var d=l.x-s.x,p=l.y-s.y;return d*d+p*p}function xn(s,l,d,p){var v=l.x,x=l.y,B=d.x-v,H=d.y-x,G=B*B+H*H,Y;return G>0&&(Y=((s.x-v)*B+(s.y-x)*H)/G,Y>1?(v=d.x,x=d.y):Y>0&&(v+=B*Y,x+=H*Y)),B=s.x-v,H=s.y-x,p?B*B+H*H:new q(v,x)}function c(s){return!E(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function g(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),c(s)}function y(s,l){var d,p,v,x,B,H,G,Y;if(!s||s.length===0)throw new Error("latlngs not passed");c(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ne=_e([0,0]),de=Oe(s),Se=de.getNorthWest().distanceTo(de.getSouthWest())*de.getNorthEast().distanceTo(de.getNorthWest());Se<1700&&(ne=ho(s));var $t=s.length,Tt=[];for(d=0;d<$t;d++){var Pn=_e(s[d]);Tt.push(l.project(_e([Pn.lat-ne.lat,Pn.lng-ne.lng])))}for(d=0,p=0;d<$t-1;d++)p+=Tt[d].distanceTo(Tt[d+1])/2;if(p===0)Y=Tt[0];else for(d=0,x=0;d<$t-1;d++)if(B=Tt[d],H=Tt[d+1],v=B.distanceTo(H),x+=v,x>p){G=(x-p)/v,Y=[H.x-G*(H.x-B.x),H.y-G*(H.y-B.y)];break}var Yt=l.unproject(Z(Y));return _e([Yt.lat+ne.lat,Yt.lng+ne.lng])}var b={__proto__:null,simplify:Za,pointToSegmentDistance:Qa,closestPointOnSegment:xi,clipSegment:as,_getEdgeIntersection:wt,_getBitCode:Jn,_sqClosestPointOnSegment:xn,isFlat:c,_flat:g,polylineCenter:y},$={project:function(s){return new q(s.lng,s.lat)},unproject:function(s){return new Ee(s.y,s.x)},bounds:new le([-180,-90],[180,90])},K={R:6378137,R_MINOR:6356752314245179e-9,bounds:new le([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,d=this.R,p=s.lat*l,v=this.R_MINOR/d,x=Math.sqrt(1-v*v),B=x*Math.sin(p),H=Math.tan(Math.PI/4-p/2)/Math.pow((1-B)/(1+B),x/2);return p=-d*Math.log(Math.max(H,1e-10)),new q(s.lng*l*d,p)},unproject:function(s){for(var l=180/Math.PI,d=this.R,p=this.R_MINOR/d,v=Math.sqrt(1-p*p),x=Math.exp(-s.y/d),B=Math.PI/2-2*Math.atan(x),H=0,G=.1,Y;H<15&&Math.abs(G)>1e-7;H++)Y=v*Math.sin(B),Y=Math.pow((1-Y)/(1+Y),v/2),G=Math.PI/2-2*Math.atan(x*Y)-B,B+=G;return new Ee(B*l,s.x*l/d)}},te={__proto__:null,LonLat:$,Mercator:K,SphericalMercator:Qi},De=r({},Yn,{code:"EPSG:3395",projection:K,transformation:function(){var s=.5/(Math.PI*K.R);return _i(s,.5,-s,.5)}()}),ct=r({},Yn,{code:"EPSG:4326",projection:$,transformation:_i(1/180,1,-1/180,.5)}),Re=r({},mt,{projection:$,transformation:_i(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var d=l.lng-s.lng,p=l.lat-s.lat;return Math.sqrt(d*d+p*p)},infinite:!0});mt.Earth=Yn,mt.EPSG3395=De,mt.EPSG3857=Kr,mt.EPSG900913=wa,mt.EPSG4326=ct,mt.Simple=Re;var Be=Pe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[h(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[h(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var d=this.getEvents();l.on(d,this),this.once("remove",function(){l.off(d,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Ie.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=h(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=h(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return h(s)in this._layers},eachLayer:function(s,l){for(var d in this._layers)s.call(l,this._layers[d]);return this},_addLayers:function(s){s=s?E(s)?s:[s]:[];for(var l=0,d=s.length;l<d;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[h(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=h(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,d=this._getZoomSpan();for(var p in this._zoomBoundLayers){var v=this._zoomBoundLayers[p].options;s=v.minZoom===void 0?s:Math.min(s,v.minZoom),l=v.maxZoom===void 0?l:Math.max(l,v.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Qe=Be.extend({initialize:function(s,l){k(this,l),this._layers={};var d,p;if(s)for(d=0,p=s.length;d<p;d++)this.addLayer(s[d])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),d,p;for(d in this._layers)p=this._layers[d],p[s]&&p[s].apply(p,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var d in this._layers)s.call(l,this._layers[d]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return h(s)}}),sr=function(s,l){return new Qe(s,l)},rt=Qe.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Qe.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Qe.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Ce;for(var l in this._layers){var d=this._layers[l];s.extend(d.getBounds?d.getBounds():d.getLatLng())}return s}}),mo=function(s,l){return new rt(s,l)},ei=ce.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){k(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var d=this._getIconUrl(s);if(!d){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(d,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(p,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(s,l){var d=this.options,p=d[l+"Size"];typeof p=="number"&&(p=[p,p]);var v=Z(p),x=Z(l==="shadow"&&d.shadowAnchor||d.iconAnchor||v&&v.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(d.className||""),x&&(s.style.marginLeft=-x.x+"px",s.style.marginTop=-x.y+"px"),v&&(s.style.width=v.x+"px",s.style.height=v.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return ae.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Nx(s){return new ei(s)}var Xa=ei.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Xa.imagePath!="string"&&(Xa.imagePath=this._detectIconPath()),(this.options.imagePath||Xa.imagePath)+ei.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(d,p,v){var x=p.exec(d);return x&&x[v]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Ae("div","leaflet-default-icon-path",document.body),l=Ji(s,"background-image")||Ji(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),b_=un.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new zn(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),we(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&qe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,d=l._map,p=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,x=Tn(l._icon),B=d.getPixelBounds(),H=d.getPixelOrigin(),G=pe(B.min._subtract(H).add(v),B.max._subtract(H).subtract(v));if(!G.contains(x)){var Y=Z((Math.max(G.max.x,x.x)-G.max.x)/(B.max.x-G.max.x)-(Math.min(G.min.x,x.x)-G.min.x)/(B.min.x-G.min.x),(Math.max(G.max.y,x.y)-G.max.y)/(B.max.y-G.max.y)-(Math.min(G.min.y,x.y)-G.min.y)/(B.min.y-G.min.y)).multiplyBy(p);d.panBy(Y,{animate:!1}),this._draggable._newPos._add(Y),this._draggable._startPos._add(Y),me(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=O(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=O(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,d=l._shadow,p=Tn(l._icon),v=l._map.layerPointToLatLng(p);d&&me(d,p),l._latlng=v,s.latlng=v,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),sc=Be.extend({options:{icon:new Xa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){k(this,l),this._latlng=_e(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=_e(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=s.icon.createIcon(this._icon),p=!1;d!==this._icon&&(this._icon&&this._removeIcon(),p=!0,s.title&&(d.title=s.title),d.tagName==="IMG"&&(d.alt=s.alt||"")),we(d,l),s.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(d,"focus",this._panOnFocus,this);var v=s.icon.createShadow(this._shadow),x=!1;v!==this._shadow&&(this._removeShadow(),x=!0),v&&(we(v,l),v.alt=""),this._shadow=v,s.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&x&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Fe(this._icon,"focus",this._panOnFocus,this),je(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&je(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&me(this._icon,s),this._shadow&&me(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(we(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),b_)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new b_(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&nt(this._icon,s),this._shadow&&nt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,d=l.iconSize?Z(l.iconSize):Z(0,0),p=l.iconAnchor?Z(l.iconAnchor):Z(0,0);s.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:d.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Mx(s,l){return new sc(s,l)}var or=Be.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return k(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),oc=or.extend({options:{fill:!0,radius:10},initialize:function(s,l){k(this,l),this._latlng=_e(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=_e(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return or.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,d=this._clickTolerance(),p=[s+d,l+d];this._pxBounds=new le(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ox(s,l){return new oc(s,l)}var Qd=oc.extend({initialize:function(s,l,d){if(typeof l=="number"&&(l=r({},d,{radius:l})),k(this,l),this._latlng=_e(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Ce(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:or.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,d=this._map,p=d.options.crs;if(p.distance===Yn.distance){var v=Math.PI/180,x=this._mRadius/Yn.R/v,B=d.project([l+x,s]),H=d.project([l-x,s]),G=B.add(H).divideBy(2),Y=d.unproject(G).lat,ne=Math.acos((Math.cos(x*v)-Math.sin(l*v)*Math.sin(Y*v))/(Math.cos(l*v)*Math.cos(Y*v)))/v;(isNaN(ne)||ne===0)&&(ne=x/Math.cos(Math.PI/180*l)),this._point=G.subtract(d.getPixelOrigin()),this._radius=isNaN(ne)?0:G.x-d.project([Y,s-ne]).x,this._radiusY=G.y-B.y}else{var de=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(de).x}this._updateBounds()}});function Dx(s,l,d){return new Qd(s,l,d)}var Pi=or.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){k(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,d=null,p=xn,v,x,B=0,H=this._parts.length;B<H;B++)for(var G=this._parts[B],Y=1,ne=G.length;Y<ne;Y++){v=G[Y-1],x=G[Y];var de=p(s,v,x,!0);de<l&&(l=de,d=p(s,v,x))}return d&&(d.distance=Math.sqrt(l)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return y(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=_e(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Ce,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return c(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],d=c(s),p=0,v=s.length;p<v;p++)d?(l[p]=_e(s[p]),this._bounds.extend(l[p])):l[p]=this._convertLatLngs(s[p]);return l},_project:function(){var s=new le;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new q(s,s);this._rawPxBounds&&(this._pxBounds=new le([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,d){var p=s[0]instanceof Ee,v=s.length,x,B;if(p){for(B=[],x=0;x<v;x++)B[x]=this._map.latLngToLayerPoint(s[x]),d.extend(B[x]);l.push(B)}else for(x=0;x<v;x++)this._projectLatlngs(s[x],l,d)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,d,p,v,x,B,H,G;for(d=0,v=0,x=this._rings.length;d<x;d++)for(G=this._rings[d],p=0,B=G.length;p<B-1;p++)H=as(G[p],G[p+1],s,p,!0),H&&(l[v]=l[v]||[],l[v].push(H[0]),(H[1]!==G[p+1]||p===B-2)&&(l[v].push(H[1]),v++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,d=0,p=s.length;d<p;d++)s[d]=Za(s[d],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var d,p,v,x,B,H,G=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(d=0,x=this._parts.length;d<x;d++)for(H=this._parts[d],p=0,B=H.length,v=B-1;p<B;v=p++)if(!(!l&&p===0)&&Qa(s,H[v],H[p])<=G)return!0;return!1}});function Vx(s,l){return new Pi(s,l)}Pi._flat=g;var go=Pi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return co(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=Pi.prototype._convertLatLngs.call(this,s),d=l.length;return d>=2&&l[0]instanceof Ee&&l[0].equals(l[d-1])&&l.pop(),l},_setLatLngs:function(s){Pi.prototype._setLatLngs.call(this,s),c(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return c(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,d=new q(l,l);if(s=new le(s.min.subtract(d),s.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,v=this._rings.length,x;p<v;p++)x=uo(this._rings[p],s,!0),x.length&&this._parts.push(x)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,d,p,v,x,B,H,G,Y;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(x=0,G=this._parts.length;x<G;x++)for(d=this._parts[x],B=0,Y=d.length,H=Y-1;B<Y;H=B++)p=d[B],v=d[H],p.y>s.y!=v.y>s.y&&s.x<(v.x-p.x)*(s.y-p.y)/(v.y-p.y)+p.x&&(l=!l);return l||Pi.prototype._containsPoint.call(this,s,!0)}});function zx(s,l){return new go(s,l)}var Ci=rt.extend({initialize:function(s,l){k(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=E(s)?s:s.features,d,p,v;if(l){for(d=0,p=l.length;d<p;d++)v=l[d],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var x=this.options;if(x.filter&&!x.filter(s))return this;var B=ac(s,x);return B?(B.feature=cc(s),B.defaultOptions=B.options,this.resetStyle(B),x.onEachFeature&&x.onEachFeature(s,B),this.addLayer(B)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=r({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function ac(s,l){var d=s.type==="Feature"?s.geometry:s,p=d?d.coordinates:null,v=[],x=l&&l.pointToLayer,B=l&&l.coordsToLatLng||Yd,H,G,Y,ne;if(!p&&!d)return null;switch(d.type){case"Point":return H=B(p),k_(x,s,H,l);case"MultiPoint":for(Y=0,ne=p.length;Y<ne;Y++)H=B(p[Y]),v.push(k_(x,s,H,l));return new rt(v);case"LineString":case"MultiLineString":return G=lc(p,d.type==="LineString"?0:1,B),new Pi(G,l);case"Polygon":case"MultiPolygon":return G=lc(p,d.type==="Polygon"?1:2,B),new go(G,l);case"GeometryCollection":for(Y=0,ne=d.geometries.length;Y<ne;Y++){var de=ac({geometry:d.geometries[Y],type:"Feature",properties:s.properties},l);de&&v.push(de)}return new rt(v);case"FeatureCollection":for(Y=0,ne=d.features.length;Y<ne;Y++){var Se=ac(d.features[Y],l);Se&&v.push(Se)}return new rt(v);default:throw new Error("Invalid GeoJSON object.")}}function k_(s,l,d,p){return s?s(l,d):new sc(d,p&&p.markersInheritOptions&&p)}function Yd(s){return new Ee(s[1],s[0],s[2])}function lc(s,l,d){for(var p=[],v=0,x=s.length,B;v<x;v++)B=l?lc(s[v],l-1,d):(d||Yd)(s[v]),p.push(B);return p}function Xd(s,l){return s=_e(s),s.alt!==void 0?[w(s.lng,l),w(s.lat,l),w(s.alt,l)]:[w(s.lng,l),w(s.lat,l)]}function uc(s,l,d,p){for(var v=[],x=0,B=s.length;x<B;x++)v.push(l?uc(s[x],c(s[x])?0:l-1,d,p):Xd(s[x],p));return!l&&d&&v.length>0&&v.push(v[0].slice()),v}function _o(s,l){return s.feature?r({},s.feature,{geometry:l}):cc(l)}function cc(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Jd={toGeoJSON:function(s){return _o(this,{type:"Point",coordinates:Xd(this.getLatLng(),s)})}};sc.include(Jd),Qd.include(Jd),oc.include(Jd),Pi.include({toGeoJSON:function(s){var l=!c(this._latlngs),d=uc(this._latlngs,l?1:0,!1,s);return _o(this,{type:(l?"Multi":"")+"LineString",coordinates:d})}}),go.include({toGeoJSON:function(s){var l=!c(this._latlngs),d=l&&!c(this._latlngs[0]),p=uc(this._latlngs,d?2:l?1:0,!0,s);return l||(p=[p]),_o(this,{type:(d?"Multi":"")+"Polygon",coordinates:p})}}),Qe.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(d){l.push(d.toGeoJSON(s).geometry.coordinates)}),_o(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var d=l==="GeometryCollection",p=[];return this.eachLayer(function(v){if(v.toGeoJSON){var x=v.toGeoJSON(s);if(d)p.push(x.geometry);else{var B=cc(x);B.type==="FeatureCollection"?p.push.apply(p,B.features):p.push(B)}}}),d?_o(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function R_(s,l){return new Ci(s,l)}var Fx=R_,hc=Be.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,d){this._url=s,this._bounds=Oe(l),k(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(we(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){je(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Ti(this._image),this},bringToBack:function(){return this._map&&er(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Oe(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:Ae("img");if(we(l,"leaflet-image-layer"),this._zoomAnimated&&we(l,"leaflet-zoom-animated"),this.options.className&&we(l,this.options.className),l.onselectstart=_,l.onmousemove=_,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Xn(this._image,d,l)},_reset:function(){var s=this._image,l=new le(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=l.getSize();me(s,l.min),s.style.width=d.x+"px",s.style.height=d.y+"px"},_updateOpacity:function(){nt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Bx=function(s,l,d){return new hc(s,l,d)},L_=hc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:Ae("video");if(we(l,"leaflet-image-layer"),this._zoomAnimated&&we(l,"leaflet-zoom-animated"),this.options.className&&we(l,this.options.className),l.onselectstart=_,l.onmousemove=_,l.onloadeddata=a(this.fire,this,"load"),s){for(var d=l.getElementsByTagName("source"),p=[],v=0;v<d.length;v++)p.push(d[v].src);this._url=d.length>0?p:[l.src];return}E(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var x=0;x<this._url.length;x++){var B=Ae("source");B.src=this._url[x],l.appendChild(B)}}});function jx(s,l,d){return new L_(s,l,d)}var N_=hc.extend({_initImage:function(){var s=this._image=this._url;we(s,"leaflet-image-layer"),this._zoomAnimated&&we(s,"leaflet-zoom-animated"),this.options.className&&we(s,this.options.className),s.onselectstart=_,s.onmousemove=_}});function Ux(s,l,d){return new N_(s,l,d)}var ti=Be.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof Ee||E(s))?(this._latlng=_e(s),k(this,l)):(k(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&nt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&nt(this._container,1),this.bringToFront(),this.options.interactive&&(we(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(nt(this._container,0),this._removeTimeout=setTimeout(a(je,void 0,this._container),200)):je(this._container),this.options.interactive&&(qe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=_e(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ti(this._container),this},bringToBack:function(){return this._map&&er(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof rt){l=null;var d=this._source._layers;for(var p in d)if(d[p]._map){l=d[p];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=Z(this.options.offset),d=this._getAnchor();this._zoomAnimated?me(this._container,s.add(d)):l=l.add(s).add(d);var p=this._containerBottom=-l.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=p+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});Ie.include({_initOverlay:function(s,l,d,p){var v=l;return v instanceof s||(v=new s(p).setContent(l)),d&&v.setLatLng(d),v}}),Be.include({_initOverlay:function(s,l,d,p){var v=d;return v instanceof s?(k(v,p),v._source=this):(v=l&&!p?l:new s(p,this),v.setContent(d)),v}});var dc=ti.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,ti.prototype.openOn.call(this,s)},onAdd:function(s){ti.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof or||this._source.on("preclick",In))},onRemove:function(s){ti.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof or||this._source.off("preclick",In))},getEvents:function(){var s=ti.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=Ae("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Ae("div",s+"-content-wrapper",l);if(this._contentNode=Ae("div",s+"-content",d),ir(l),nr(this._contentNode),he(l,"contextmenu",In),this._tipContainer=Ae("div",s+"-tip-container",l),this._tip=Ae("div",s+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=Ae("a",s+"-close-button",l);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',he(p,"click",function(v){Ze(v),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var d=s.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),l.width=d+1+"px",l.whiteSpace="",l.height="";var p=s.offsetHeight,v=this.options.maxHeight,x="leaflet-popup-scrolled";v&&p>v?(l.height=v+"px",we(s,x)):qe(s,x),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),d=this._getAnchor();me(this._container,l.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(Ji(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+l,p=this._containerWidth,v=new q(this._containerLeft,-d-this._containerBottom);v._add(Tn(this._container));var x=s.layerPointToContainerPoint(v),B=Z(this.options.autoPanPadding),H=Z(this.options.autoPanPaddingTopLeft||B),G=Z(this.options.autoPanPaddingBottomRight||B),Y=s.getSize(),ne=0,de=0;x.x+p+G.x>Y.x&&(ne=x.x+p-Y.x+G.x),x.x-ne-H.x<0&&(ne=x.x-H.x),x.y+d+G.y>Y.y&&(de=x.y+d-Y.y+G.y),x.y-de-H.y<0&&(de=x.y-H.y),(ne||de)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([ne,de]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),$x=function(s,l){return new dc(s,l)};Ie.mergeOptions({closePopupOnClick:!0}),Ie.include({openPopup:function(s,l,d){return this._initOverlay(dc,s,l,d).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Be.include({bindPopup:function(s,l){return this._popup=this._initOverlay(dc,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof rt||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){ln(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof or)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var fc=ti.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){ti.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){ti.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=ti.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ae("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,d,p=this._map,v=this._container,x=p.latLngToContainerPoint(p.getCenter()),B=p.layerPointToContainerPoint(s),H=this.options.direction,G=v.offsetWidth,Y=v.offsetHeight,ne=Z(this.options.offset),de=this._getAnchor();H==="top"?(l=G/2,d=Y):H==="bottom"?(l=G/2,d=0):H==="center"?(l=G/2,d=Y/2):H==="right"?(l=0,d=Y/2):H==="left"?(l=G,d=Y/2):B.x<x.x?(H="right",l=0,d=Y/2):(H="left",l=G+(ne.x+de.x)*2,d=Y/2),s=s.subtract(Z(l,d,!0)).add(ne).add(de),qe(v,"leaflet-tooltip-right"),qe(v,"leaflet-tooltip-left"),qe(v,"leaflet-tooltip-top"),qe(v,"leaflet-tooltip-bottom"),we(v,"leaflet-tooltip-"+H),me(v,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&nt(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Hx=function(s,l){return new fc(s,l)};Ie.include({openTooltip:function(s,l,d){return this._initOverlay(fc,s,l,d).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Be.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(fc,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[l](d),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof rt||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(he(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),he(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,d,p;this._tooltip.options.sticky&&s.originalEvent&&(d=this._map.mouseEventToContainerPoint(s.originalEvent),p=this._map.containerPointToLayerPoint(d),l=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(l)}});var M_=ei.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),d=this.options;if(d.html instanceof Element?(ss(l),l.appendChild(d.html)):l.innerHTML=d.html!==!1?d.html:"",d.bgPos){var p=Z(d.bgPos);l.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Wx(s){return new M_(s)}ei.Default=Xa;var Ja=Be.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ae.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){k(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),je(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ti(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(er(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof q?s:new q(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,d=-s(-1/0,1/0),p=0,v=l.length,x;p<v;p++)x=l[p].style.zIndex,l[p]!==this._container&&x&&(d=s(d,+x));isFinite(d)&&(this.options.zIndex=d+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ae.ielt9){nt(this._container,this.options.opacity);var s=+new Date,l=!1,d=!1;for(var p in this._tiles){var v=this._tiles[p];if(!(!v.current||!v.loaded)){var x=Math.min(1,(s-v.loaded)/200);nt(v.el,x),x<1?l=!0:(v.active?d=!0:this._onOpaqueTile(v),v.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),l&&(F(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=Ae("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===s?(this._levels[d].el.style.zIndex=l-Math.abs(s-d),this._onUpdateLevel(d)):(je(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var p=this._levels[s],v=this._map;return p||(p=this._levels[s]={},p.el=Ae("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=l,p.origin=v.project(v.unproject(v.getPixelOrigin()),s).round(),p.zoom=s,this._setZoomTransform(p,v.getCenter(),v.getZoom()),_(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var s,l,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var p=l.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)je(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,d,p){var v=Math.floor(s/2),x=Math.floor(l/2),B=d-1,H=new q(+v,+x);H.z=+B;var G=this._tileCoordsToKey(H),Y=this._tiles[G];return Y&&Y.active?(Y.retain=!0,!0):(Y&&Y.loaded&&(Y.retain=!0),B>p?this._retainParent(v,x,B,p):!1)},_retainChildren:function(s,l,d,p){for(var v=2*s;v<2*s+2;v++)for(var x=2*l;x<2*l+2;x++){var B=new q(v,x);B.z=d+1;var H=this._tileCoordsToKey(B),G=this._tiles[H];if(G&&G.active){G.retain=!0;continue}else G&&G.loaded&&(G.retain=!0);d+1<p&&this._retainChildren(v,x,d+1,p)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,d,p){var v=Math.round(l);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var x=this.options.updateWhenZooming&&v!==this._tileZoom;(!p||x)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(s),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var d in this._levels)this._setZoomTransform(this._levels[d],s,l)},_setZoomTransform:function(s,l,d){var p=this._map.getZoomScale(d,s.zoom),v=s.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(l,d)).round();ae.any3d?Xn(s.el,v,p):me(s.el,v)},_resetGrid:function(){var s=this._map,l=s.options.crs,d=this._tileSize=this.getTileSize(),p=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],p).x/d.x),Math.ceil(s.project([0,l.wrapLng[1]],p).x/d.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],p).y/d.x),Math.ceil(s.project([l.wrapLat[1],0],p).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,d=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),p=l.getZoomScale(d,this._tileZoom),v=l.project(s,this._tileZoom).floor(),x=l.getSize().divideBy(p*2);return new le(v.subtract(x),v.add(x))},_update:function(s){var l=this._map;if(l){var d=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(s),v=this._pxBoundsToTileRange(p),x=v.getCenter(),B=[],H=this.options.keepBuffer,G=new le(v.getBottomLeft().subtract([H,-H]),v.getTopRight().add([H,-H]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Y in this._tiles){var ne=this._tiles[Y].coords;(ne.z!==this._tileZoom||!G.contains(new q(ne.x,ne.y)))&&(this._tiles[Y].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(s,d);return}for(var de=v.min.y;de<=v.max.y;de++)for(var Se=v.min.x;Se<=v.max.x;Se++){var $t=new q(Se,de);if($t.z=this._tileZoom,!!this._isValidTile($t)){var Tt=this._tiles[this._tileCoordsToKey($t)];Tt?Tt.current=!0:B.push($t)}}if(B.sort(function(Yt,yo){return Yt.distanceTo(x)-yo.distanceTo(x)}),B.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Pn=document.createDocumentFragment();for(Se=0;Se<B.length;Se++)this._addTile(B[Se],Pn);this._level.el.appendChild(Pn)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var d=this._globalTileRange;if(!l.wrapLng&&(s.x<d.min.x||s.x>d.max.x)||!l.wrapLat&&(s.y<d.min.y||s.y>d.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(s);return Oe(this.options.bounds).overlaps(p)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,d=this.getTileSize(),p=s.scaleBy(d),v=p.add(d),x=l.unproject(p,s.z),B=l.unproject(v,s.z);return[x,B]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),d=new Ce(l[0],l[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),d=new q(+l[0],+l[1]);return d.z=+l[2],d},_removeTile:function(s){var l=this._tiles[s];l&&(je(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){we(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=_,s.onmousemove=_,ae.ielt9&&this.options.opacity<1&&nt(s,this.options.opacity)},_addTile:function(s,l){var d=this._getTilePos(s),p=this._tileCoordsToKey(s),v=this.createTile(this._wrapCoords(s),a(this._tileReady,this,s));this._initTile(v),this.createTile.length<2&&O(a(this._tileReady,this,s,null,v)),me(v,d),this._tiles[p]={el:v,coords:s,current:!0},l.appendChild(v),this.fire("tileloadstart",{tile:v,coords:s})},_tileReady:function(s,l,d){l&&this.fire("tileerror",{error:l,tile:d,coords:s});var p=this._tileCoordsToKey(s);d=this._tiles[p],d&&(d.loaded=+new Date,this._map._fadeAnimated?(nt(d.el,0),F(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),l||(we(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ae.ielt9||!this._map._fadeAnimated?O(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new q(this._wrapX?m(s.x,this._wrapX):s.x,this._wrapY?m(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new le(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function qx(s){return new Ja(s)}var vo=Ja.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=k(this,l),l.detectRetina&&ae.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var d=document.createElement("img");return he(d,"load",a(this._tileOnLoad,this,l,d)),he(d,"error",a(this._tileOnError,this,l,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(s),d},getTileUrl:function(s){var l={r:ae.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=d),l["-y"]=d}return T(this._url,r(l,this.options))},_tileOnLoad:function(s,l){ae.ielt9?setTimeout(a(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,d){var p=this.options.errorTileUrl;p&&l.getAttribute("src")!==p&&(l.src=p),s(d,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,d=this.options.zoomReverse,p=this.options.zoomOffset;return d&&(s=l-s),s+p},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=_,l.onerror=_,!l.complete)){l.src=j;var d=this._tiles[s].coords;je(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:d})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",j),Ja.prototype._removeTile.call(this,s)},_tileReady:function(s,l,d){if(!(!this._map||d&&d.getAttribute("src")===j))return Ja.prototype._tileReady.call(this,s,l,d)}});function O_(s,l){return new vo(s,l)}var D_=vo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var d=r({},this.defaultWmsParams);for(var p in l)p in this.options||(d[p]=l[p]);l=k(this,l);var v=l.detectRetina&&ae.retina?2:1,x=this.getTileSize();d.width=x.x*v,d.height=x.y*v,this.wmsParams=d},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,vo.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),d=this._crs,p=pe(d.project(l[0]),d.project(l[1])),v=p.min,x=p.max,B=(this._wmsVersion>=1.3&&this._crs===ct?[v.y,v.x,x.y,x.x]:[v.x,v.y,x.x,x.y]).join(","),H=vo.prototype.getTileUrl.call(this,s);return H+z(this.wmsParams,H,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+B},setParams:function(s,l){return r(this.wmsParams,s),l||this.redraw(),this}});function Gx(s,l){return new D_(s,l)}vo.WMS=D_,O_.wms=Gx;var Ai=Be.extend({options:{padding:.1},initialize:function(s){k(this,s),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),we(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var d=this._map.getZoomScale(l,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,l),x=p.multiplyBy(-d).add(v).subtract(this._map._getNewPixelOrigin(s,l));ae.any3d?Xn(this._container,x,d):me(this._container,x)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),d=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new le(d,d.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),V_=Ai.extend({options:{tolerance:0},getEvents:function(){var s=Ai.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ai.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");he(s,"mousemove",this._onMouseMove,this),he(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),he(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,je(this._container),Fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ai.prototype._update.call(this);var s=this._bounds,l=this._container,d=s.getSize(),p=ae.retina?2:1;me(l,s.min),l.width=p*d.x,l.height=p*d.y,l.style.width=d.x+"px",l.style.height=d.y+"px",ae.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Ai.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[h(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,d=l.next,p=l.prev;d?d.prev=p:this._drawLast=p,p?p.next=d:this._drawFirst=d,delete s._order,delete this._layers[h(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),d=[],p,v;for(v=0;v<l.length;v++){if(p=Number(l[v]),isNaN(p))return;d.push(p)}s.options._dashArray=d}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||O(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new le,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var d=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)s=p.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var d,p,v,x,B=s._parts,H=B.length,G=this._ctx;if(H){for(G.beginPath(),d=0;d<H;d++){for(p=0,v=B[d].length;p<v;p++)x=B[d][p],G[p?"lineTo":"moveTo"](x.x,x.y);l&&G.closePath()}this._fillStroke(G,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,d=this._ctx,p=Math.max(Math.round(s._radius),1),v=(Math.max(Math.round(s._radiusY),1)||p)/p;v!==1&&(d.save(),d.scale(1,v)),d.beginPath(),d.arc(l.x,l.y/v,p,0,Math.PI*2,!1),v!==1&&d.restore(),this._fillStroke(d,s)}},_fillStroke:function(s,l){var d=l.options;d.fill&&(s.globalAlpha=d.fillOpacity,s.fillStyle=d.fillColor||d.color,s.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=d.opacity,s.lineWidth=d.weight,s.strokeStyle=d.color,s.lineCap=d.lineCap,s.lineJoin=d.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),d,p,v=this._drawFirst;v;v=v.next)d=v.layer,d.options.interactive&&d._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(d))&&(p=d);this._fireEvent(p?[p]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(qe(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var d,p,v=this._drawFirst;v;v=v.next)d=v.layer,d.options.interactive&&d._containsPoint(l)&&(p=d);p!==this._hoveredLayer&&(this._handleMouseOut(s),p&&(we(this._container,"leaflet-interactive"),this._fireEvent([p],s,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,d){this._map._fireDOMEvent(l,d||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var d=l.next,p=l.prev;if(d)d.prev=p;else return;p?p.next=d:d&&(this._drawFirst=d),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var d=l.next,p=l.prev;if(p)p.next=d;else return;d?d.prev=p:p&&(this._drawLast=p),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function z_(s){return ae.canvas?new V_(s):null}var el=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Kx={_initContainer:function(){this._container=Ae("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ai.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=el("shape");we(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=el("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;je(l),s.removeInteractiveTarget(l),delete this._layers[h(s)]},_updateStyle:function(s){var l=s._stroke,d=s._fill,p=s.options,v=s._container;v.stroked=!!p.stroke,v.filled=!!p.fill,p.stroke?(l||(l=s._stroke=el("stroke")),v.appendChild(l),l.weight=p.weight+"px",l.color=p.color,l.opacity=p.opacity,p.dashArray?l.dashStyle=E(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=p.lineCap.replace("butt","flat"),l.joinstyle=p.lineJoin):l&&(v.removeChild(l),s._stroke=null),p.fill?(d||(d=s._fill=el("fill")),v.appendChild(d),d.color=p.fillColor||p.color,d.opacity=p.fillOpacity):d&&(v.removeChild(d),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),d=Math.round(s._radius),p=Math.round(s._radiusY||d);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+d+","+p+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){Ti(s._container)},_bringToBack:function(s){er(s._container)}},pc=ae.vml?el:Us,tl=Ai.extend({_initContainer:function(){this._container=pc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=pc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){je(this._container),Fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ai.prototype._update.call(this);var s=this._bounds,l=s.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,d.setAttribute("width",l.x),d.setAttribute("height",l.y)),me(d,s.min),d.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=pc("path");s.options.className&&we(l,s.options.className),s.options.interactive&&we(l,"leaflet-interactive"),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){je(s._path),s.removeInteractiveTarget(s._path),delete this._layers[h(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,d=s.options;l&&(d.stroke?(l.setAttribute("stroke",d.color),l.setAttribute("stroke-opacity",d.opacity),l.setAttribute("stroke-width",d.weight),l.setAttribute("stroke-linecap",d.lineCap),l.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?l.setAttribute("stroke-dasharray",d.dashArray):l.removeAttribute("stroke-dasharray"),d.dashOffset?l.setAttribute("stroke-dashoffset",d.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),d.fill?(l.setAttribute("fill",d.fillColor||d.color),l.setAttribute("fill-opacity",d.fillOpacity),l.setAttribute("fill-rule",d.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,Ta(s._parts,l))},_updateCircle:function(s){var l=s._point,d=Math.max(Math.round(s._radius),1),p=Math.max(Math.round(s._radiusY),1)||d,v="a"+d+","+p+" 0 1,0 ",x=s._empty()?"M0 0":"M"+(l.x-d)+","+l.y+v+d*2+",0 "+v+-d*2+",0 ";this._setPath(s,x)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){Ti(s._path)},_bringToBack:function(s){er(s._path)}});ae.vml&&tl.include(Kx);function F_(s){return ae.svg||ae.vml?new tl(s):null}Ie.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&z_(s)||F_(s)}});var B_=go.extend({initialize:function(s,l){go.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Oe(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Zx(s,l){return new B_(s,l)}tl.create=pc,tl.pointsToPath=Ta,Ci.geometryToLayer=ac,Ci.coordsToLatLng=Yd,Ci.coordsToLatLngs=lc,Ci.latLngToCoords=Xd,Ci.latLngsToCoords=uc,Ci.getFeature=_o,Ci.asFeature=cc,Ie.mergeOptions({boxZoom:!0});var j_=un.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){je(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Dn(),za(),this._startPoint=this._map.mouseEventToContainerPoint(s),he(document,{contextmenu:ln,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Ae("div","leaflet-zoom-box",this._container),we(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new le(this._point,this._startPoint),d=l.getSize();me(this._box,l.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(je(this._box),qe(this._container,"leaflet-crosshair")),Vn(),Fa(),Fe(document,{contextmenu:ln,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new Ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ie.addInitHook("addHandler","boxZoom",j_),Ie.mergeOptions({doubleClickZoom:!0});var U_=un.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,d=l.getZoom(),p=l.options.zoomDelta,v=s.originalEvent.shiftKey?d-p:d+p;l.options.doubleClickZoom==="center"?l.setZoom(v):l.setZoomAround(s.containerPoint,v)}});Ie.addInitHook("addHandler","doubleClickZoom",U_),Ie.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var $_=un.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new zn(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}we(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){qe(this._map._container,"leaflet-grab"),qe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=Oe(this._map.options.maxBounds);this._offsetLimit=pe(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),d=this._initialWorldOffset,p=this._draggable._newPos.x,v=(p-l+d)%s+l-d,x=(p+l+d)%s-l-d,B=Math.abs(v+d)<Math.abs(x+d)?v:x;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=B},_onDragEnd:function(s){var l=this._map,d=l.options,p=!d.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),p)l.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),x=(this._lastTime-this._times[0])/1e3,B=d.easeLinearity,H=v.multiplyBy(B/x),G=H.distanceTo([0,0]),Y=Math.min(d.inertiaMaxSpeed,G),ne=H.multiplyBy(Y/G),de=Y/(d.inertiaDeceleration*B),Se=ne.multiplyBy(-de/2).round();!Se.x&&!Se.y?l.fire("moveend"):(Se=l._limitOffset(Se,l.options.maxBounds),O(function(){l.panBy(Se,{duration:de,easeLinearity:B,noMoveStart:!0,animate:!0})}))}}});Ie.addInitHook("addHandler","dragging",$_),Ie.mergeOptions({keyboard:!0,keyboardPanDelta:80});var H_=un.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),he(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,d=s.scrollTop||l.scrollTop,p=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(p,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},d=this.keyCodes,p,v;for(p=0,v=d.left.length;p<v;p++)l[d.left[p]]=[-1*s,0];for(p=0,v=d.right.length;p<v;p++)l[d.right[p]]=[s,0];for(p=0,v=d.down.length;p<v;p++)l[d.down[p]]=[0,s];for(p=0,v=d.up.length;p<v;p++)l[d.up[p]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},d=this.keyCodes,p,v;for(p=0,v=d.zoomIn.length;p<v;p++)l[d.zoomIn[p]]=s;for(p=0,v=d.zoomOut.length;p<v;p++)l[d.zoomOut[p]]=-s},_addHooks:function(){he(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,d=this._map,p;if(l in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(p=this._panKeys[l],s.shiftKey&&(p=Z(p).multiplyBy(3)),d.options.maxBounds&&(p=d._limitOffset(Z(p),d.options.maxBounds)),d.options.worldCopyJump){var v=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(p)));d.panTo(v)}else d.panBy(p)}else if(l in this._zoomKeys)d.setZoom(d.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;ln(s)}}});Ie.addInitHook("addHandler","keyboard",H_),Ie.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var W_=un.extend({addHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=Xu(s),d=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var p=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),p),ln(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),d=this._map.options.zoomSnap||0;s._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,x=d?Math.ceil(v/d)*d:v,B=s._limitZoom(l+(this._delta>0?x:-x))-l;this._delta=0,this._startTime=null,B&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+B):s.setZoomAround(this._lastMousePos,l+B))}});Ie.addInitHook("addHandler","scrollWheelZoom",W_);var Qx=600;Ie.mergeOptions({tapHold:ae.touchNative&&ae.safari&&ae.mobile,tapTolerance:15});var q_=un.extend({addHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new q(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(he(document,"touchend",Ze),he(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),Qx),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Fe(document,"touchend",Ze),Fe(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Fe(document,"touchend touchcancel contextmenu",this._cancel,this),Fe(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new q(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var d=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});d._simulated=!0,l.target.dispatchEvent(d)}});Ie.addInitHook("addHandler","tapHold",q_),Ie.mergeOptions({touchZoom:ae.touch,bounceAtZoomLimits:!0});var G_=un.extend({addHooks:function(){we(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){qe(this._map._container,"leaflet-touch-zoom"),Fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var d=l.mouseEventToContainerPoint(s.touches[0]),p=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(d.add(p)._divideBy(2))),this._startDist=d.distanceTo(p),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),Ze(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,d=l.mouseEventToContainerPoint(s.touches[0]),p=l.mouseEventToContainerPoint(s.touches[1]),v=d.distanceTo(p)/this._startDist;if(this._zoom=l.getScaleZoom(v,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&v<1||this._zoom>l.getMaxZoom()&&v>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var x=d._add(p)._divideBy(2)._subtract(this._centerPoint);if(v===1&&x.x===0&&x.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(x),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var B=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=O(B,this,!0),Ze(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),Fe(document,"touchmove",this._onTouchMove,this),Fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ie.addInitHook("addHandler","touchZoom",G_),Ie.BoxZoom=j_,Ie.DoubleClickZoom=U_,Ie.Drag=$_,Ie.Keyboard=H_,Ie.ScrollWheelZoom=W_,Ie.TapHold=q_,Ie.TouchZoom=G_,n.Bounds=le,n.Browser=ae,n.CRS=mt,n.Canvas=V_,n.Circle=Qd,n.CircleMarker=oc,n.Class=ce,n.Control=Qt,n.DivIcon=M_,n.DivOverlay=ti,n.DomEvent=Ju,n.DomUtil=Qu,n.Draggable=zn,n.Evented=Pe,n.FeatureGroup=rt,n.GeoJSON=Ci,n.GridLayer=Ja,n.Handler=un,n.Icon=ei,n.ImageOverlay=hc,n.LatLng=Ee,n.LatLngBounds=Ce,n.Layer=Be,n.LayerGroup=Qe,n.LineUtil=b,n.Map=Ie,n.Marker=sc,n.Mixin=os,n.Path=or,n.Point=q,n.PolyUtil=fo,n.Polygon=go,n.Polyline=Pi,n.Popup=dc,n.PosAnimation=qa,n.Projection=te,n.Rectangle=B_,n.Renderer=Ai,n.SVG=tl,n.SVGOverlay=N_,n.TileLayer=vo,n.Tooltip=fc,n.Transformation=Yi,n.Util=D,n.VideoOverlay=L_,n.bind=a,n.bounds=pe,n.canvas=z_,n.circle=Dx,n.circleMarker=Ox,n.control=Ut,n.divIcon=Wx,n.extend=r,n.featureGroup=mo,n.geoJSON=R_,n.geoJson=Fx,n.gridLayer=qx,n.icon=Nx,n.imageOverlay=Bx,n.latLng=_e,n.latLngBounds=Oe,n.layerGroup=sr,n.map=oo,n.marker=Mx,n.point=Z,n.polygon=zx,n.polyline=Vx,n.popup=$x,n.rectangle=Zx,n.setOptions=k,n.stamp=h,n.svg=F_,n.svgOverlay=Ux,n.tileLayer=O_,n.tooltip=Hx,n.transformation=_i,n.version=i,n.videoOverlay=jx;var Yx=window.L;n.noConflict=function(){return window.L=Yx,this},window.L=n})})(Em,Em.exports);var ya=Em.exports;const Ax=qw(ya);function Wd(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function qd(t,e){return e==null?function(i,r){const o=U.useRef();return o.current||(o.current=t(i,r)),o}:function(i,r){const o=U.useRef();o.current||(o.current=t(i,r));const a=U.useRef(i),{instance:u}=o.current;return U.useEffect(function(){a.current!==i&&(e(u,i,a.current),a.current=i)},[u,i,r]),o}}function bx(t,e){U.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function kx(t){return function(n){const i=$d(),r=t(Hd(n,i),i);return Sx(i.map,n.attribution),A_(r.current,n.eventHandlers),bx(r.current,i),r}}function YV(t,e){const n=U.useRef();U.useEffect(function(){if(e.pathOptions!==n.current){const r=e.pathOptions??{};t.instance.setStyle(r),n.current=r}},[t,e])}function XV(t){return function(n){const i=$d(),r=t(Hd(n,i),i);return A_(r.current,n.eventHandlers),bx(r.current,i),YV(r.current,n),r}}function JV(t,e){const n=qd(t,e),i=kx(n);return Cx(i)}function ez(t,e){const n=qd(t),i=QV(n,e);return KV(i)}function tz(t,e){const n=qd(t,e),i=XV(n);return Cx(i)}function nz(t,e){const n=qd(t,e),i=kx(n);return ZV(i)}function iz(t,e,n){const{opacity:i,zIndex:r}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),r!=null&&r!==n.zIndex&&t.setZIndex(r)}function rz(){return $d().map}function sz(t){const e=rz();return U.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function Sm(){return Sm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Sm.apply(this,arguments)}function oz({bounds:t,boundsOptions:e,center:n,children:i,className:r,id:o,placeholder:a,style:u,whenReady:h,zoom:f,...m},_){const[w]=U.useState({className:r,id:o,style:u}),[P,S]=U.useState(null);U.useImperativeHandle(_,()=>(P==null?void 0:P.map)??null,[P]);const k=U.useCallback(I=>{if(I!==null&&P===null){const T=new ya.Map(I,m);n!=null&&f!=null?T.setView(n,f):t!=null&&T.fitBounds(t,e),h!=null&&T.whenReady(h),S(GV(T))}},[]);U.useEffect(()=>()=>{P==null||P.map.remove()},[P]);const z=P?Ye.createElement(Px,{value:P},i):a??null;return Ye.createElement("div",Sm({},w,{ref:k}),z)}const az=U.forwardRef(oz),lz=JV(function({position:e,...n},i){const r=new ya.Marker(e,n);return Wd(r,Ix(i,{overlayContainer:r}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),uz=tz(function({positions:e,...n},i){const r=new ya.Polyline(e,n);return Wd(r,Ix(i,{overlayContainer:r}))},function(e,n,i){n.positions!==i.positions&&e.setLatLngs(n.positions)}),cz=nz(function({url:e,...n},i){const r=new ya.TileLayer(e,Hd(n,i));return Wd(r,i)},function(e,n,i){iz(e,n,i);const{url:r}=n;r!=null&&r!==i.url&&e.setUrl(r)}),hz=ez(function(e,n){const i=new ya.Tooltip(e,n.overlayContainer);return Wd(i,n)},function(e,n,{position:i},r){U.useEffect(function(){const a=n.overlayContainer;if(a==null)return;const{instance:u}=e,h=m=>{m.tooltip===u&&(i!=null&&u.setLatLng(i),u.update(),r(!0))},f=m=>{m.tooltip===u&&r(!1)};return a.on({tooltipopen:h,tooltipclose:f}),a.bindTooltip(u),function(){a.off({tooltipopen:h,tooltipclose:f}),a._map!=null&&a.unbindTooltip()}},[e,n,r,i])}),dz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",fz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",pz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",mz=Ax.icon({iconUrl:fz,iconRetinaUrl:dz,shadowUrl:pz});Ax.Marker.prototype.options.icon=mz;function gz({setPos:t}){return sz({click(e){t([e.latlng.lat,e.latlng.lng])}}),null}function Rx({height:t=300,center:e=[20.5937,78.9629],zoom:n=5,marker:i,path:r,onClickSetMarker:o}){const[a,u]=U.useState(i||null),h=i||a;return M.jsx("div",{className:"w-full",style:{height:t},children:M.jsxs(az,{center:h||e,zoom:n,style:{height:"100%",width:"100%",borderRadius:"1rem"},children:[M.jsx(cz,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o&&M.jsx(gz,{setPos:f=>{u(f),o(f)}}),h&&M.jsx(lz,{position:h,children:M.jsx(hz,{permanent:!0,children:"Selected"})}),Array.isArray(r)&&r.length>1&&M.jsx(uz,{positions:r})]})})}function _z(){const{user:t}=Gr(),e=Os(),[n,i]=U.useState(""),[r,o]=U.useState(""),[a,u]=U.useState(""),[h,f]=U.useState(""),[m,_]=U.useState("Moderate"),[w,P]=U.useState("Just Me"),[S,k]=U.useState(null),[z,I]=U.useState(null),[T,E]=U.useState(!1);async function V(W){if(W.preventDefault(),!n||!a||!h){alert("Please fill out Title, Start Date, and End Date.");return}if(!S&&!z){alert("Pick a destination via search or clicking on the map.");return}const N=S||{name:"Custom location",lat:z[0],lng:z[1]};E(!0);try{const C=await Ex({userId:t.uid,title:n,description:r,startDate:a,endDate:h,budget:m,traveler:w,destination:N,name:N.name,lat:N.lat,lng:N.lng});e(`/trip/${C}`)}catch(C){console.error("Error saving trip:",C),alert("Could not save trip, try again.")}finally{E(!1)}}const j=({label:W,value:N,selected:C,onClick:A})=>M.jsx("button",{type:"button",onClick:()=>A(N),className:`flex-1 px-5 py-3 rounded-2xl font-medium shadow-md transition-all border 
      ${C?"bg-gradient-to-r from-blue-500 to-blue-600 text-white border-blue-600 scale-105":"bg-white hover:bg-gray-50 border-gray-300 text-gray-700 hover:shadow-lg"}`,children:W});return M.jsxs("main",{className:"max-w-6xl mx-auto p-8",children:[M.jsx("h2",{className:"text-4xl font-extrabold mb-8 text-center text-gray-800",children:" Plan Your Next Adventure"}),M.jsxs("form",{onSubmit:V,className:"grid md:grid-cols-2 gap-10 bg-white rounded-3xl shadow-xl p-8",children:[M.jsxs("div",{className:"space-y-7",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-semibold mb-2 text-gray-700",children:" Trip Title"}),M.jsx("input",{className:"w-full border rounded-2xl px-4 py-3 shadow focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",value:n,onChange:W=>i(W.target.value),placeholder:"Summer in Goa",required:!0})]}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:" Destination of Choice"}),M.jsx("div",{className:"rounded-2xl shadow border border-gray-300 focus-within:ring-2 focus-within:ring-blue-400",children:M.jsx(WV,{value:S,onSelect:W=>{k(W),I([W.lat,W.lng])},placeholder:"Type a city, landmark, or address"})})]}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:" Trip Dates"}),M.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[M.jsxs("label",{className:"block text-sm font-medium text-gray-600",children:["Start Date",M.jsx("input",{type:"date",className:"mt-2 w-full border rounded-2xl px-3 py-2 shadow focus:ring-2 focus:ring-blue-400 transition",value:a,onChange:W=>u(W.target.value),required:!0})]}),M.jsxs("label",{className:"block text-sm font-medium text-gray-600",children:["End Date",M.jsx("input",{type:"date",className:"mt-2 w-full border rounded-2xl px-3 py-2 shadow focus:ring-2 focus:ring-blue-400 transition",value:h,onChange:W=>f(W.target.value),required:!0})]})]})]}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-700",children:" Budget"}),M.jsxs("div",{className:"flex gap-3",children:[M.jsx(j,{label:" Cheap",value:"Cheap",selected:m==="Cheap",onClick:_}),M.jsx(j,{label:" Moderate",value:"Moderate",selected:m==="Moderate",onClick:_}),M.jsx(j,{label:" Luxury",value:"Luxury",selected:m==="Luxury",onClick:_})]})]}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-700",children:" Who's Going?"}),M.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[M.jsx(j,{label:" Just Me",value:"Just Me",selected:w==="Just Me",onClick:P}),M.jsx(j,{label:" Couple",value:"A Couple",selected:w==="A Couple",onClick:P}),M.jsx(j,{label:" Family",value:"Family",selected:w==="Family",onClick:P}),M.jsx(j,{label:" Friends",value:"Friends",selected:w==="Friends",onClick:P})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-semibold mb-2 text-gray-700",children:" Description"}),M.jsx("textarea",{className:"w-full border rounded-2xl px-4 py-3 shadow focus:ring-2 focus:ring-blue-500 transition min-h-[120px]",value:r,onChange:W=>o(W.target.value),placeholder:"What do you want to do?"})]}),M.jsx("button",{disabled:T,className:"w-full py-3 rounded-2xl shadow-lg text-lg font-semibold text-white bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 transition",children:T?" Saving...":" Save Trip"})]}),M.jsxs("div",{className:"space-y-4",children:[M.jsx("div",{className:"rounded-3xl overflow-hidden shadow-lg border border-gray-200",children:M.jsx(Rx,{height:420,marker:z,onClickSetMarker:W=>I(W)})}),z&&M.jsxs("div",{className:"text-sm text-gray-700 bg-gray-100 px-4 py-3 rounded-xl shadow border",children:[" Selected: ",z[0].toFixed(5),", ",z[1].toFixed(5)]})]})]})]})}function vz({open:t,onClose:e,onSave:n}){const[i,r]=U.useState(""),[o,a]=U.useState("Activity"),[u,h]=U.useState("Medium"),[f,m]=U.useState(""),[_,w]=U.useState("2h"),[P,S]=U.useState(""),[k,z]=U.useState(""),[I,T]=U.useState("");if(!t)return null;function E(V){V.preventDefault(),n({id:crypto.randomUUID(),title:i,type:o,priority:u,start:f,duration:_,location:P,cost:k,notes:I}),e(),r(""),S(""),z(""),T("")}return M.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-40",children:M.jsxs("form",{className:"bg-white w-full max-w-lg rounded-2xl p-4 space-y-3",onSubmit:E,children:[M.jsx("div",{className:"text-lg font-semibold",children:"Add New Activity"}),M.jsx("input",{className:"w-full border rounded-xl px-3 py-2",placeholder:"e.g., Visit Louvre Museum",value:i,onChange:V=>r(V.target.value),required:!0}),M.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[M.jsxs("select",{className:"border rounded-xl px-3 py-2",value:o,onChange:V=>a(V.target.value),children:[M.jsx("option",{children:"Activity"}),M.jsx("option",{children:"Flight"}),M.jsx("option",{children:"Hotel"}),M.jsx("option",{children:"Transport"})]}),M.jsxs("select",{className:"border rounded-xl px-3 py-2",value:u,onChange:V=>h(V.target.value),children:[M.jsx("option",{children:"Low"}),M.jsx("option",{children:"Medium"}),M.jsx("option",{children:"High"})]})]}),M.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[M.jsx("input",{className:"border rounded-xl px-3 py-2",type:"time",value:f,onChange:V=>m(V.target.value)}),M.jsxs("select",{className:"border rounded-xl px-3 py-2",value:_,onChange:V=>w(V.target.value),children:[M.jsx("option",{children:"30m"}),M.jsx("option",{children:"1h"}),M.jsx("option",{children:"2h"}),M.jsx("option",{children:"3h"}),M.jsx("option",{children:"4h"})]})]}),M.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[M.jsx("input",{className:"border rounded-xl px-3 py-2",placeholder:"Location",value:P,onChange:V=>S(V.target.value)}),M.jsx("input",{className:"border rounded-xl px-3 py-2",placeholder:"Cost ($)",value:k,onChange:V=>z(V.target.value)})]}),M.jsx("textarea",{className:"w-full border rounded-xl px-3 py-2 min-h-[80px]",placeholder:"Notes...",value:I,onChange:V=>T(V.target.value)}),M.jsxs("div",{className:"flex justify-end gap-2",children:[M.jsx("button",{type:"button",onClick:e,className:"btn",children:"Cancel"}),M.jsx("button",{className:"btn btn-primary",children:"Add Activity"})]})]})})}function yz({items:t=[]}){return M.jsx("div",{className:"space-y-4",children:t.map((e,n)=>M.jsxs("article",{className:"border rounded-2xl overflow-hidden",children:[e.img&&M.jsx("img",{src:e.img,alt:e.title,className:"w-full h-40 object-cover"}),M.jsxs("div",{className:"p-3",children:[M.jsx("div",{className:"font-semibold",children:e.title}),e.extract&&M.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.extract}),e.meta&&M.jsxs("ul",{className:"text-sm mt-2 grid grid-cols-2 gap-2",children:[e.meta.special&&M.jsxs("li",{children:[M.jsx("span",{className:"font-medium",children:"What's special:"})," ",e.meta.special]}),e.meta.food&&M.jsxs("li",{children:[M.jsx("span",{className:"font-medium",children:"Food to try:"})," ",e.meta.food]}),e.meta.buy&&M.jsxs("li",{children:[M.jsx("span",{className:"font-medium",children:"What to buy:"})," ",e.meta.buy]}),e.meta.sights&&M.jsxs("li",{children:[M.jsx("span",{className:"font-medium",children:"Famous sights:"})," ",e.meta.sights]}),e.meta.budget&&M.jsxs("li",{children:[M.jsx("span",{className:"font-medium",children:"Budget:"})," ",e.meta.budget]})]}),e.sources&&e.sources.length>0&&M.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Sources: ",e.sources.map((i,r)=>M.jsxs("a",{href:i,target:"_blank",rel:"noreferrer",className:"underline mr-2",children:["[",r+1,"]"]},r))]})]})]},n))})}const Lx="https://en.wikipedia.org/w/api.php";async function wz(t,e){var o;const n=`${Lx}?action=query&list=geosearch&gscoord=${t}%7C${e}&gsradius=8000&gslimit=10&format=json&origin=*`,i=await fetch(n);if(!i.ok)throw new Error("GeoSearch failed");return(((o=(await i.json()).query)==null?void 0:o.geosearch)||[]).map(a=>({pageid:a.pageid,title:a.title}))}async function Tz(t){var o;if(!t.length)return[];const e=`${Lx}?action=query&prop=pageimages|extracts&exintro=1&explaintext=1&piprop=thumbnail&pithumbsize=1200&pageids=${t.join("|")}&format=json&origin=*`,n=await fetch(e);if(!n.ok)throw new Error("Details failed");const i=await n.json();return Object.values(((o=i.query)==null?void 0:o.pages)||{}).map(a=>{var u;return{pageid:a.pageid,title:a.title,extract:a.extract||"",img:((u=a.thumbnail)==null?void 0:u.source)||null,url:`https://en.wikipedia.org/?curid=${a.pageid}`}})}const Ez={Paris:{special:"Romantic boulevards, art history, chic cafs",sights:"Eiffel Tower, Louvre, NotreDame",food:"Croissants, crpes, steak frites, macarons",buy:"French perfumes, vintage books along the Seine",budget:"Daily budget: $80250 per person",images:["https://images.unsplash.com/photo-1502602898657-3e91760cbb34?q=80&w=1400&auto=format&fit=crop"]},Rome:{special:"Ancient ruins + vibrant piazzas",sights:"Colosseum, Trevi Fountain, Vatican Museums",food:"Cacio e pepe, gelato, suppl",buy:"Leather goods from artisan shops",budget:"Daily budget: $70220 per person",images:["https://images.unsplash.com/photo-1549890762-0a3f8933bcf1?q=80&w=1400&auto=format&fit=crop"]},Tokyo:{special:"Neon nights meets serene shrines",sights:"Sensoji, Meiji Shrine, Shibuya Crossing",food:"Sushi, ramen, okonomiyaki",buy:"Gachapon toys, matcha sweets, stationery",budget:"Daily budget: $90260 per person",images:["https://images.unsplash.com/photo-1526481280698-8fcc13fd0c88?q=80&w=1400&auto=format&fit=crop"]}};function Sz(){const{id:t}=ub(),[e,n]=U.useState(null),[i,r]=U.useState(!1),[o,a]=U.useState([]);U.useEffect(()=>{const f=UV(t,n);return()=>f&&f()},[t]),U.useEffect(()=>{async function f(){var m;if(!(!(e!=null&&e.lat)||!(e!=null&&e.lng)))try{const _=await wz(e.lat,e.lng),w=await Tz(_.slice(0,6).map(z=>z.pageid)),P=(((m=e.destination)==null?void 0:m.name)||"").split(",")[0],S=Ez[P],k=w.map((z,I)=>{var T;return{...z,img:z.img||((T=S==null?void 0:S.images)==null?void 0:T[0])||null,meta:I===0&&S?S:void 0,sources:[z.url,"https://www.openstreetmap.org/","https://commons.wikimedia.org/"]}});a(k)}catch(_){console.error(_)}}f()},[e==null?void 0:e.lat,e==null?void 0:e.lng]);async function u(f){const m=Array.isArray(e.activities)?[...e.activities,f]:[f];await FV(t,{activities:m})}const h=U.useMemo(()=>{var f,m;return e?M.jsxs("div",{className:"card flex items-center justify-between",children:[M.jsxs("div",{children:[M.jsxs("div",{className:"text-sm text-gray-500",children:[e.startDate,"  ",e.endDate,"  ",e.budget,"  ",e.traveler]}),M.jsx("h1",{className:"text-2xl font-bold",children:e.title||((f=e.destination)==null?void 0:f.name)||"Trip"}),M.jsx("div",{className:"text-gray-600",children:(m=e.destination)==null?void 0:m.name})]}),M.jsx("button",{className:"btn btn-primary",onClick:()=>r(!0),children:"+ Add Activity"})]}):null},[e]);return e?M.jsxs("main",{className:"max-w-6xl mx-auto p-6 grid md:grid-cols-3 gap-4",children:[M.jsxs("div",{className:"md:col-span-2 space-y-4",children:[h,M.jsxs("div",{className:"card",children:[M.jsx("h3",{className:"font-semibold mb-2",children:"Schedule"}),Array.isArray(e.activities)&&e.activities.length>0?M.jsx("ul",{className:"space-y-2",children:e.activities.map(f=>M.jsxs("li",{className:"border rounded-xl p-3 flex items-center justify-between",children:[M.jsxs("div",{children:[M.jsx("div",{className:"font-medium",children:f.title}),M.jsxs("div",{className:"text-xs text-gray-600",children:[f.type,"  ",f.priority,"  ",f.start||"--:--","  ",f.duration]}),f.location&&M.jsx("div",{className:"text-xs text-gray-500",children:f.location})]}),f.cost&&M.jsxs("div",{className:"text-sm font-semibold",children:["$",f.cost]})]},f.id))}):M.jsx("div",{className:"text-gray-600",children:"No activities yet. Use Add Activity."})]})]}),M.jsxs("aside",{className:"space-y-4",children:[M.jsxs("div",{className:"card",children:[M.jsx("h3",{className:"font-semibold mb-2",children:"Trip Map"}),M.jsx(Rx,{height:280,marker:[e.lat,e.lng]})]}),M.jsxs("div",{className:"card",children:[M.jsx("h3",{className:"font-semibold mb-2",children:"Suggested Places"}),M.jsx(yz,{items:o})]})]}),M.jsx(vz,{open:i,onClose:()=>r(!1),onSave:u})]}):M.jsx("main",{className:"max-w-6xl mx-auto p-6",children:"Loading..."})}function Iz(){const t=Os(),{user:e}=Gr(),[n,i]=U.useState(""),[r,o]=U.useState("All"),[a,u]=U.useState([]),[h,f]=U.useState(!0),m=void 0,_=Array.from({length:15}).map((S,k)=>({id:"local-"+k,title:["Paris Luxury","India Cultural","Thailand Budget","Dubai Family"][k%4]+` Trip ${k+1}`,description:"Predefined sample template for travel. Includes sights, food, and culture.",image:["https://images.unsplash.com/photo-1502602898657-3e91760cbb34","https://images.unsplash.com/photo-1524492449090-1a065f3a1b00","https://images.unsplash.com/photo-1507525428034-b723cf961d3e","https://images.unsplash.com/photo-1503264116251-35a269479413"][k%4],tag:["Luxury","Cultural","Budget","Family"][k%4],destination:{name:"Destination "+(k+1),lat:0,lng:0},startDate:"2025-02-01",endDate:"2025-02-10",budget:["Low","Medium","High"][k%3],traveler:["Solo","Couple","Family"][k%3]}));U.useEffect(()=>{async function S(){var k;try{f(!0);const I=await(await fetch("https://en.wikivoyage.org/w/api.php?action=query&generator=categorymembers&gcmtitle=Category:Itineraries&gcmlimit=50&prop=pageimages|extracts&exintro=true&explaintext=true&piprop=thumbnail&pithumbsize=500&format=json&origin=*")).json();let T=[];if((k=I==null?void 0:I.query)!=null&&k.pages){const V=Object.values(I.query.pages);T=await Promise.all(V.map(async j=>{var A;let W=((A=j.thumbnail)==null?void 0:A.source)||"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/Globe_icon.svg/240px-Globe_icon.svg.png";j.thumbnail;const N=["Budget","Luxury","Family","Cultural"],C=N[Math.floor(Math.random()*N.length)];return{id:j.pageid,title:j.title,description:j.extract,image:W,tag:C,destination:{name:j.title,lat:0,lng:0},startDate:"2025-01-01",endDate:"2025-01-10",budget:["Low","Medium","High"][Math.floor(Math.random()*3)],traveler:["Solo","Couple","Family"][Math.floor(Math.random()*3)]}}))}const E=[...T,..._];u(E)}catch(z){console.error("Failed to fetch templates",z),u(_)}finally{f(!1)}}S()},[]);const w=a.filter(S=>(!n||S.title.toLowerCase().includes(n.toLowerCase()))&&(r==="All"||S.tag===r));async function P(S){const k=await Ex({userId:e.uid,title:S.title,description:S.description,startDate:S.startDate,endDate:S.endDate,budget:S.budget,traveler:S.traveler,destination:S.destination,name:S.destination.name,lat:S.destination.lat,lng:S.destination.lng});t("/trip/"+k)}return M.jsxs("main",{className:"max-w-6xl mx-auto p-6",children:[M.jsxs("div",{className:"flex items-center justify-between mb-4",children:[M.jsx("h1",{className:"text-2xl font-bold",children:"Template Library"}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("input",{className:"border rounded-xl px-3 py-2",placeholder:"Search...",value:n,onChange:S=>i(S.target.value)}),M.jsxs("select",{className:"border rounded-xl px-3 py-2",value:r,onChange:S=>o(S.target.value),children:[M.jsx("option",{children:"All"}),M.jsx("option",{children:"Budget"}),M.jsx("option",{children:"Luxury"}),M.jsx("option",{children:"Family"}),M.jsx("option",{children:"Cultural"})]})]})]}),h?M.jsx("p",{className:"text-center text-gray-500",children:"Loading templates..."}):M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:w.map(S=>M.jsxs("div",{className:"card border rounded-xl p-3 bg-white shadow-sm hover:shadow-md transition",children:[M.jsx("img",{className:"w-full h-40 object-cover rounded-xl",src:S.image,alt:S.title}),M.jsxs("div",{className:"mt-3 space-y-2",children:[M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsx("h3",{className:"font-semibold",children:S.title}),M.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:S.tag})]}),M.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:S.description||"No description available"}),M.jsxs("div",{className:"text-xs text-gray-500",children:[S.startDate,"  ",S.endDate]}),M.jsx("button",{className:"btn btn-primary w-full",onClick:()=>P(S),children:"Use Template"})]})]},S.id))})]})}function xz(){const{user:t}=Gr(),[e,n]=U.useState([]);U.useEffect(()=>{async function r(){try{const o=await $V(t.uid);n(o)}catch{}}r()},[t]);const i=e.length*1200;return M.jsxs("main",{className:"max-w-6xl mx-auto p-6",children:[M.jsxs("section",{className:"card flex items-center gap-4",children:[M.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200"}),M.jsxs("div",{children:[M.jsx("h2",{className:"text-xl font-bold",children:(t==null?void 0:t.email)||"Traveler"}),M.jsx("p",{className:"text-gray-600 text-sm",children:"Enthusiastic explorer. Planning the next adventure."})]})]}),M.jsxs("section",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 my-6",children:[M.jsxs("div",{className:"card text-center",children:[M.jsx("div",{className:"text-2xl font-bold",children:e.length}),M.jsx("div",{className:"text-gray-600 text-sm",children:"Trips"})]}),M.jsxs("div",{className:"card text-center",children:[M.jsx("div",{className:"text-2xl font-bold",children:Math.max(1,e.length)}),M.jsx("div",{className:"text-gray-600 text-sm",children:"Countries"})]}),M.jsxs("div",{className:"card text-center",children:[M.jsxs("div",{className:"text-2xl font-bold",children:["$",i.toLocaleString()]}),M.jsx("div",{className:"text-gray-600 text-sm",children:"Est. Spent"})]}),M.jsxs("div",{className:"card text-center",children:[M.jsx("div",{className:"text-2xl font-bold",children:"24"}),M.jsx("div",{className:"text-gray-600 text-sm",children:"Collaborations"})]})]}),M.jsxs("section",{className:"card",children:[M.jsx("h3",{className:"font-semibold mb-3",children:"Recent Trips"}),M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:e.map(r=>{var o,a;return M.jsxs("div",{className:"border rounded-xl p-3",children:[M.jsx("div",{className:"font-semibold",children:r.title||((o=r.destination)==null?void 0:o.name)||"Untitled Trip"}),M.jsx("div",{className:"text-gray-600 text-sm",children:(a=r.destination)==null?void 0:a.name}),M.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[r.startDate,"  ",r.endDate]})]},r.id)})})]})]})}function Pz(){return M.jsx("footer",{className:"mt-16 border-t",children:M.jsxs("div",{className:"max-w-6xl mx-auto p-6 text-sm text-gray-600 flex flex-col md:flex-row items-center justify-between gap-3",children:[M.jsx("p",{children:" Trip Explorer  React  Vite  Tailwind  Firebase  OpenStreetMap  Wikipedia"}),M.jsxs("div",{className:"flex gap-4",children:[M.jsx("a",{className:"hover:underline",href:"https://www.openstreetmap.org/copyright",target:"_blank",rel:"noreferrer",children:"OpenStreetMap"}),M.jsx("a",{className:"hover:underline",href:"https://www.wikipedia.org/",target:"_blank",rel:"noreferrer",children:"Wikipedia"}),M.jsx("a",{className:"hover:underline",href:"https://leafletjs.com/",target:"_blank",rel:"noreferrer",children:"Leaflet"})]})]})})}function Cz(){const{user:t,logout:e}=Gr();return M.jsxs("nav",{className:"flex items-center justify-between p-4 border-b bg-white sticky top-0 z-10",children:[M.jsx(Wt,{to:"/",className:"font-bold text-xl",children:" Trip Explorer"}),M.jsxs("div",{className:"flex gap-3 items-center",children:[M.jsx(Wt,{className:"btn",to:"/templates",children:"Templates"}),M.jsx(Wt,{className:"btn",to:"/profile",children:"Profile"}),t?M.jsxs(M.Fragment,{children:[M.jsx(Wt,{className:"btn",to:"/dashboard",children:"Dashboard"}),M.jsx(Wt,{className:"btn btn-primary",to:"/create",children:"Create Trip"}),M.jsx("button",{onClick:e,className:"btn",children:"Logout"})]}):M.jsxs(M.Fragment,{children:[M.jsx(Wt,{className:"btn",to:"/login",children:"Sign In"}),M.jsx(Wt,{className:"btn btn-primary",to:"/register",children:"Get Started"})]})]})]})}function dl({children:t}){const{user:e,loading:n}=Gr();return n?M.jsx("div",{className:"p-6",children:"Loading..."}):e?t:M.jsx(Ib,{to:"/login"})}function Az(){return M.jsx(OV,{children:M.jsxs("div",{className:"flex flex-col min-h-screen",children:[M.jsx(Cz,{}),M.jsx("main",{className:"flex-grow",children:M.jsxs(Pb,{children:[M.jsx(bi,{path:"/",element:M.jsx(pk,{})}),M.jsx(bi,{path:"/login",element:M.jsx(DV,{})}),M.jsx(bi,{path:"/register",element:M.jsx(VV,{})}),M.jsx(bi,{path:"/dashboard",element:M.jsx(dl,{children:M.jsx(HV,{})})}),M.jsx(bi,{path:"/create",element:M.jsx(dl,{children:M.jsx(_z,{})})}),M.jsx(bi,{path:"/trip/:id",element:M.jsx(dl,{children:M.jsx(Sz,{})})}),M.jsx(bi,{path:"/templates",element:M.jsx(dl,{children:M.jsx(Iz,{})})}),M.jsx(bi,{path:"/profile",element:M.jsx(dl,{children:M.jsx(xz,{})})})]})}),M.jsx(Pz,{})]})})}Qf.createRoot(document.getElementById("root")).render(M.jsx(Nb,{children:M.jsx(Az,{})}));
